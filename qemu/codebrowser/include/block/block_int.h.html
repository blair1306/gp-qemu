<!doctype html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0"><title>block_int.h source code [codebrowser/include/block/block_int.h] - Woboq Code Browser</title>
<meta name="woboq:interestingDefinitions" content="BdrvAioNotifier,BdrvChild,BdrvChildRole,BdrvTrackedRequest,BdrvTrackedRequestType,BlockBackendRootState,BlockDriver,BlockDriverState,BlockLimits,BlockMirrorBackingMode "/>
<link rel="stylesheet" href="../../../../data/qtcreator.css" title="QtCreator"/>
<link rel="alternate stylesheet" href="../../../../data/kdevelop.css" title="KDevelop"/>
<script type="text/javascript" src="../../../../data/jquery/jquery.min.js"></script>
<script type="text/javascript" src="../../../../data/jquery/jquery-ui.min.js"></script>
<script>var file = 'codebrowser/include/block/block_int.h'; var root_path = '../../..'; var data_path = '../../../../data';</script>
<script src='../../../../data/codebrowser.js'></script>
</head>
<body><div id='header'><h1 id='breadcrumb'><span>Browse the source code of </span><a href='../..'>codebrowser</a>/<a href='..'>include</a>/<a href='./'>block</a>/<a href='block_int.h.html'>block_int.h</a></h1></div>
<hr/><div id='content'><table class="code">
<tr><th id="1">1</th><td><i>/*</i></td></tr>
<tr><th id="2">2</th><td><i> * QEMU System Emulator block driver</i></td></tr>
<tr><th id="3">3</th><td><i> *</i></td></tr>
<tr><th id="4">4</th><td><i> * Copyright (c) 2003 Fabrice Bellard</i></td></tr>
<tr><th id="5">5</th><td><i> *</i></td></tr>
<tr><th id="6">6</th><td><i> * Permission is hereby granted, free of charge, to any person obtaining a copy</i></td></tr>
<tr><th id="7">7</th><td><i> * of this software and associated documentation files (the "Software"), to deal</i></td></tr>
<tr><th id="8">8</th><td><i> * in the Software without restriction, including without limitation the rights</i></td></tr>
<tr><th id="9">9</th><td><i> * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell</i></td></tr>
<tr><th id="10">10</th><td><i> * copies of the Software, and to permit persons to whom the Software is</i></td></tr>
<tr><th id="11">11</th><td><i> * furnished to do so, subject to the following conditions:</i></td></tr>
<tr><th id="12">12</th><td><i> *</i></td></tr>
<tr><th id="13">13</th><td><i> * The above copyright notice and this permission notice shall be included in</i></td></tr>
<tr><th id="14">14</th><td><i> * all copies or substantial portions of the Software.</i></td></tr>
<tr><th id="15">15</th><td><i> *</i></td></tr>
<tr><th id="16">16</th><td><i> * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR</i></td></tr>
<tr><th id="17">17</th><td><i> * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,</i></td></tr>
<tr><th id="18">18</th><td><i> * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL</i></td></tr>
<tr><th id="19">19</th><td><i> * THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER</i></td></tr>
<tr><th id="20">20</th><td><i> * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,</i></td></tr>
<tr><th id="21">21</th><td><i> * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN</i></td></tr>
<tr><th id="22">22</th><td><i> * THE SOFTWARE.</i></td></tr>
<tr><th id="23">23</th><td><i> */</i></td></tr>
<tr><th id="24">24</th><td><u>#<span data-ppcond="24">ifndef</span> <span class="macro" data-ref="_M/BLOCK_INT_H">BLOCK_INT_H</span></u></td></tr>
<tr><th id="25">25</th><td><u>#define <dfn class="macro" id="_M/BLOCK_INT_H" data-ref="_M/BLOCK_INT_H">BLOCK_INT_H</dfn></u></td></tr>
<tr><th id="26">26</th><td></td></tr>
<tr><th id="27">27</th><td><u>#include <a href="accounting.h.html">"block/accounting.h"</a></u></td></tr>
<tr><th id="28">28</th><td><u>#include <a href="block.h.html">"block/block.h"</a></u></td></tr>
<tr><th id="29">29</th><td><u>#include <a href="../qemu/option.h.html">"qemu/option.h"</a></u></td></tr>
<tr><th id="30">30</th><td><u>#include <a href="../qemu/queue.h.html">"qemu/queue.h"</a></u></td></tr>
<tr><th id="31">31</th><td><u>#include <a href="../qemu/coroutine.h.html">"qemu/coroutine.h"</a></u></td></tr>
<tr><th id="32">32</th><td><u>#include <a href="../qemu/stats64.h.html">"qemu/stats64.h"</a></u></td></tr>
<tr><th id="33">33</th><td><u>#include <a href="../qemu/timer.h.html">"qemu/timer.h"</a></u></td></tr>
<tr><th id="34">34</th><td><u>#include <a href="../../qapi-types.h.html">"qapi-types.h"</a></u></td></tr>
<tr><th id="35">35</th><td><u>#include <a href="../qemu/hbitmap.h.html">"qemu/hbitmap.h"</a></u></td></tr>
<tr><th id="36">36</th><td><u>#include <a href="snapshot.h.html">"block/snapshot.h"</a></u></td></tr>
<tr><th id="37">37</th><td><u>#include <a href="../qemu/main-loop.h.html">"qemu/main-loop.h"</a></u></td></tr>
<tr><th id="38">38</th><td><u>#include <a href="../qemu/throttle.h.html">"qemu/throttle.h"</a></u></td></tr>
<tr><th id="39">39</th><td></td></tr>
<tr><th id="40">40</th><td><u>#define <dfn class="macro" id="_M/BLOCK_FLAG_LAZY_REFCOUNTS" data-ref="_M/BLOCK_FLAG_LAZY_REFCOUNTS">BLOCK_FLAG_LAZY_REFCOUNTS</dfn>   8</u></td></tr>
<tr><th id="41">41</th><td></td></tr>
<tr><th id="42">42</th><td><u>#define <dfn class="macro" id="_M/BLOCK_OPT_SIZE" data-ref="_M/BLOCK_OPT_SIZE">BLOCK_OPT_SIZE</dfn>              "size"</u></td></tr>
<tr><th id="43">43</th><td><u>#define <dfn class="macro" id="_M/BLOCK_OPT_ENCRYPT" data-ref="_M/BLOCK_OPT_ENCRYPT">BLOCK_OPT_ENCRYPT</dfn>           "encryption"</u></td></tr>
<tr><th id="44">44</th><td><u>#define <dfn class="macro" id="_M/BLOCK_OPT_ENCRYPT_FORMAT" data-ref="_M/BLOCK_OPT_ENCRYPT_FORMAT">BLOCK_OPT_ENCRYPT_FORMAT</dfn>    "encrypt.format"</u></td></tr>
<tr><th id="45">45</th><td><u>#define <dfn class="macro" id="_M/BLOCK_OPT_COMPAT6" data-ref="_M/BLOCK_OPT_COMPAT6">BLOCK_OPT_COMPAT6</dfn>           "compat6"</u></td></tr>
<tr><th id="46">46</th><td><u>#define <dfn class="macro" id="_M/BLOCK_OPT_HWVERSION" data-ref="_M/BLOCK_OPT_HWVERSION">BLOCK_OPT_HWVERSION</dfn>         "hwversion"</u></td></tr>
<tr><th id="47">47</th><td><u>#define <dfn class="macro" id="_M/BLOCK_OPT_BACKING_FILE" data-ref="_M/BLOCK_OPT_BACKING_FILE">BLOCK_OPT_BACKING_FILE</dfn>      "backing_file"</u></td></tr>
<tr><th id="48">48</th><td><u>#define <dfn class="macro" id="_M/BLOCK_OPT_BACKING_FMT" data-ref="_M/BLOCK_OPT_BACKING_FMT">BLOCK_OPT_BACKING_FMT</dfn>       "backing_fmt"</u></td></tr>
<tr><th id="49">49</th><td><u>#define <dfn class="macro" id="_M/BLOCK_OPT_CLUSTER_SIZE" data-ref="_M/BLOCK_OPT_CLUSTER_SIZE">BLOCK_OPT_CLUSTER_SIZE</dfn>      "cluster_size"</u></td></tr>
<tr><th id="50">50</th><td><u>#define <dfn class="macro" id="_M/BLOCK_OPT_TABLE_SIZE" data-ref="_M/BLOCK_OPT_TABLE_SIZE">BLOCK_OPT_TABLE_SIZE</dfn>        "table_size"</u></td></tr>
<tr><th id="51">51</th><td><u>#define <dfn class="macro" id="_M/BLOCK_OPT_PREALLOC" data-ref="_M/BLOCK_OPT_PREALLOC">BLOCK_OPT_PREALLOC</dfn>          "preallocation"</u></td></tr>
<tr><th id="52">52</th><td><u>#define <dfn class="macro" id="_M/BLOCK_OPT_SUBFMT" data-ref="_M/BLOCK_OPT_SUBFMT">BLOCK_OPT_SUBFMT</dfn>            "subformat"</u></td></tr>
<tr><th id="53">53</th><td><u>#define <dfn class="macro" id="_M/BLOCK_OPT_COMPAT_LEVEL" data-ref="_M/BLOCK_OPT_COMPAT_LEVEL">BLOCK_OPT_COMPAT_LEVEL</dfn>      "compat"</u></td></tr>
<tr><th id="54">54</th><td><u>#define <dfn class="macro" id="_M/BLOCK_OPT_LAZY_REFCOUNTS" data-ref="_M/BLOCK_OPT_LAZY_REFCOUNTS">BLOCK_OPT_LAZY_REFCOUNTS</dfn>    "lazy_refcounts"</u></td></tr>
<tr><th id="55">55</th><td><u>#define <dfn class="macro" id="_M/BLOCK_OPT_ADAPTER_TYPE" data-ref="_M/BLOCK_OPT_ADAPTER_TYPE">BLOCK_OPT_ADAPTER_TYPE</dfn>      "adapter_type"</u></td></tr>
<tr><th id="56">56</th><td><u>#define <dfn class="macro" id="_M/BLOCK_OPT_REDUNDANCY" data-ref="_M/BLOCK_OPT_REDUNDANCY">BLOCK_OPT_REDUNDANCY</dfn>        "redundancy"</u></td></tr>
<tr><th id="57">57</th><td><u>#define <dfn class="macro" id="_M/BLOCK_OPT_NOCOW" data-ref="_M/BLOCK_OPT_NOCOW">BLOCK_OPT_NOCOW</dfn>             "nocow"</u></td></tr>
<tr><th id="58">58</th><td><u>#define <dfn class="macro" id="_M/BLOCK_OPT_OBJECT_SIZE" data-ref="_M/BLOCK_OPT_OBJECT_SIZE">BLOCK_OPT_OBJECT_SIZE</dfn>       "object_size"</u></td></tr>
<tr><th id="59">59</th><td><u>#define <dfn class="macro" id="_M/BLOCK_OPT_REFCOUNT_BITS" data-ref="_M/BLOCK_OPT_REFCOUNT_BITS">BLOCK_OPT_REFCOUNT_BITS</dfn>     "refcount_bits"</u></td></tr>
<tr><th id="60">60</th><td></td></tr>
<tr><th id="61">61</th><td><u>#define <dfn class="macro" id="_M/BLOCK_PROBE_BUF_SIZE" data-ref="_M/BLOCK_PROBE_BUF_SIZE">BLOCK_PROBE_BUF_SIZE</dfn>        512</u></td></tr>
<tr><th id="62">62</th><td></td></tr>
<tr><th id="63">63</th><td><b>enum</b> <dfn class="type def" id="BdrvTrackedRequestType" title='BdrvTrackedRequestType' data-ref="BdrvTrackedRequestType">BdrvTrackedRequestType</dfn> {</td></tr>
<tr><th id="64">64</th><td>    <dfn class="enum" id="BdrvTrackedRequestType::BDRV_TRACKED_READ" title='BdrvTrackedRequestType::BDRV_TRACKED_READ' data-ref="BdrvTrackedRequestType::BDRV_TRACKED_READ">BDRV_TRACKED_READ</dfn>,</td></tr>
<tr><th id="65">65</th><td>    <dfn class="enum" id="BdrvTrackedRequestType::BDRV_TRACKED_WRITE" title='BdrvTrackedRequestType::BDRV_TRACKED_WRITE' data-ref="BdrvTrackedRequestType::BDRV_TRACKED_WRITE">BDRV_TRACKED_WRITE</dfn>,</td></tr>
<tr><th id="66">66</th><td>    <dfn class="enum" id="BdrvTrackedRequestType::BDRV_TRACKED_DISCARD" title='BdrvTrackedRequestType::BDRV_TRACKED_DISCARD' data-ref="BdrvTrackedRequestType::BDRV_TRACKED_DISCARD">BDRV_TRACKED_DISCARD</dfn>,</td></tr>
<tr><th id="67">67</th><td>};</td></tr>
<tr><th id="68">68</th><td></td></tr>
<tr><th id="69">69</th><td><b>typedef</b> <b>struct</b> <dfn class="type def" id="BdrvTrackedRequest" title='BdrvTrackedRequest' data-ref="BdrvTrackedRequest"><a class="type" href="#BdrvTrackedRequest" title='BdrvTrackedRequest' data-ref="BdrvTrackedRequest">BdrvTrackedRequest</a></dfn> {</td></tr>
<tr><th id="70">70</th><td>    <a class="typedef" href="../qemu/typedefs.h.html#BlockDriverState" title='BlockDriverState' data-type='struct BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a> *<dfn class="decl" id="BdrvTrackedRequest::bs" title='BdrvTrackedRequest::bs' data-ref="BdrvTrackedRequest::bs">bs</dfn>;</td></tr>
<tr><th id="71">71</th><td>    <a class="typedef" href="../../../include/stdint.h.html#int64_t" title='int64_t' data-type='long' data-ref="int64_t">int64_t</a> <dfn class="decl" id="BdrvTrackedRequest::offset" title='BdrvTrackedRequest::offset' data-ref="BdrvTrackedRequest::offset">offset</dfn>;</td></tr>
<tr><th id="72">72</th><td>    <em>unsigned</em> <em>int</em> <dfn class="decl" id="BdrvTrackedRequest::bytes" title='BdrvTrackedRequest::bytes' data-ref="BdrvTrackedRequest::bytes">bytes</dfn>;</td></tr>
<tr><th id="73">73</th><td>    <b>enum</b> <a class="type" href="#BdrvTrackedRequestType" title='BdrvTrackedRequestType' data-ref="BdrvTrackedRequestType">BdrvTrackedRequestType</a> <dfn class="decl" id="BdrvTrackedRequest::type" title='BdrvTrackedRequest::type' data-ref="BdrvTrackedRequest::type">type</dfn>;</td></tr>
<tr><th id="74">74</th><td></td></tr>
<tr><th id="75">75</th><td>    <span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="decl" id="BdrvTrackedRequest::serialising" title='BdrvTrackedRequest::serialising' data-ref="BdrvTrackedRequest::serialising">serialising</dfn>;</td></tr>
<tr><th id="76">76</th><td>    <a class="typedef" href="../../../include/stdint.h.html#int64_t" title='int64_t' data-type='long' data-ref="int64_t">int64_t</a> <dfn class="decl" id="BdrvTrackedRequest::overlap_offset" title='BdrvTrackedRequest::overlap_offset' data-ref="BdrvTrackedRequest::overlap_offset">overlap_offset</dfn>;</td></tr>
<tr><th id="77">77</th><td>    <em>unsigned</em> <em>int</em> <dfn class="decl" id="BdrvTrackedRequest::overlap_bytes" title='BdrvTrackedRequest::overlap_bytes' data-ref="BdrvTrackedRequest::overlap_bytes">overlap_bytes</dfn>;</td></tr>
<tr><th id="78">78</th><td></td></tr>
<tr><th id="79">79</th><td>    <a class="macro" href="../qemu/queue.h.html#94" title="struct { struct BdrvTrackedRequest *le_next; struct BdrvTrackedRequest **le_prev; }" data-ref="_M/QLIST_ENTRY">QLIST_ENTRY</a>(<a class="type" href="#BdrvTrackedRequest" title='BdrvTrackedRequest' data-ref="BdrvTrackedRequest">BdrvTrackedRequest</a>) <dfn class="decl" id="BdrvTrackedRequest::list" title='BdrvTrackedRequest::list' data-ref="BdrvTrackedRequest::list">list</dfn>;</td></tr>
<tr><th id="80">80</th><td>    <a class="typedef" href="../qemu/coroutine.h.html#Coroutine" title='Coroutine' data-type='struct Coroutine' data-ref="Coroutine">Coroutine</a> *<dfn class="decl" id="BdrvTrackedRequest::co" title='BdrvTrackedRequest::co' data-ref="BdrvTrackedRequest::co">co</dfn>; <i>/* owner, used for deadlock detection */</i></td></tr>
<tr><th id="81">81</th><td>    <a class="typedef" href="../qemu/coroutine.h.html#CoQueue" title='CoQueue' data-type='struct CoQueue' data-ref="CoQueue">CoQueue</a> <dfn class="decl" id="BdrvTrackedRequest::wait_queue" title='BdrvTrackedRequest::wait_queue' data-ref="BdrvTrackedRequest::wait_queue">wait_queue</dfn>; <i>/* coroutines blocked on this request */</i></td></tr>
<tr><th id="82">82</th><td></td></tr>
<tr><th id="83">83</th><td>    <b>struct</b> <a class="type" href="#BdrvTrackedRequest" title='BdrvTrackedRequest' data-ref="BdrvTrackedRequest">BdrvTrackedRequest</a> *<dfn class="decl" id="BdrvTrackedRequest::waiting_for" title='BdrvTrackedRequest::waiting_for' data-ref="BdrvTrackedRequest::waiting_for">waiting_for</dfn>;</td></tr>
<tr><th id="84">84</th><td>} <dfn class="typedef" id="BdrvTrackedRequest" title='BdrvTrackedRequest' data-type='struct BdrvTrackedRequest' data-ref="BdrvTrackedRequest">BdrvTrackedRequest</dfn>;</td></tr>
<tr><th id="85">85</th><td></td></tr>
<tr><th id="86">86</th><td><b>struct</b> <dfn class="type def" id="BlockDriver" title='BlockDriver' data-ref="BlockDriver">BlockDriver</dfn> {</td></tr>
<tr><th id="87">87</th><td>    <em>const</em> <em>char</em> *<dfn class="decl" id="BlockDriver::format_name" title='BlockDriver::format_name' data-ref="BlockDriver::format_name">format_name</dfn>;</td></tr>
<tr><th id="88">88</th><td>    <em>int</em> <dfn class="decl" id="BlockDriver::instance_size" title='BlockDriver::instance_size' data-ref="BlockDriver::instance_size">instance_size</dfn>;</td></tr>
<tr><th id="89">89</th><td></td></tr>
<tr><th id="90">90</th><td>    <i>/* set to true if the BlockDriver is a block filter */</i></td></tr>
<tr><th id="91">91</th><td>    <span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="decl" id="BlockDriver::is_filter" title='BlockDriver::is_filter' data-ref="BlockDriver::is_filter">is_filter</dfn>;</td></tr>
<tr><th id="92">92</th><td>    <i>/* for snapshots block filter like Quorum can implement the</i></td></tr>
<tr><th id="93">93</th><td><i>     * following recursive callback.</i></td></tr>
<tr><th id="94">94</th><td><i>     * It's purpose is to recurse on the filter children while calling</i></td></tr>
<tr><th id="95">95</th><td><i>     * bdrv_recurse_is_first_non_filter on them.</i></td></tr>
<tr><th id="96">96</th><td><i>     * For a sample implementation look in the future Quorum block filter.</i></td></tr>
<tr><th id="97">97</th><td><i>     */</i></td></tr>
<tr><th id="98">98</th><td>    <span class="macro" title="_Bool" data-ref="_M/bool">bool</span> (*<dfn class="decl" id="BlockDriver::bdrv_recurse_is_first_non_filter" title='BlockDriver::bdrv_recurse_is_first_non_filter' data-ref="BlockDriver::bdrv_recurse_is_first_non_filter">bdrv_recurse_is_first_non_filter</dfn>)(<a class="typedef" href="../qemu/typedefs.h.html#BlockDriverState" title='BlockDriverState' data-type='struct BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a> *<dfn class="local col8 decl" id="698bs" title='bs' data-type='BlockDriverState *' data-ref="698bs">bs</dfn>,</td></tr>
<tr><th id="99">99</th><td>                                             <a class="typedef" href="../qemu/typedefs.h.html#BlockDriverState" title='BlockDriverState' data-type='struct BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a> *<dfn class="local col9 decl" id="699candidate" title='candidate' data-type='BlockDriverState *' data-ref="699candidate">candidate</dfn>);</td></tr>
<tr><th id="100">100</th><td></td></tr>
<tr><th id="101">101</th><td>    <em>int</em> (*<dfn class="decl" id="BlockDriver::bdrv_probe" title='BlockDriver::bdrv_probe' data-ref="BlockDriver::bdrv_probe">bdrv_probe</dfn>)(<em>const</em> <a class="typedef" href="../../../include/stdint.h.html#uint8_t" title='uint8_t' data-type='unsigned char' data-ref="uint8_t">uint8_t</a> *<dfn class="local col0 decl" id="700buf" title='buf' data-type='const uint8_t *' data-ref="700buf">buf</dfn>, <em>int</em> <dfn class="local col1 decl" id="701buf_size" title='buf_size' data-type='int' data-ref="701buf_size">buf_size</dfn>, <em>const</em> <em>char</em> *<dfn class="local col2 decl" id="702filename" title='filename' data-type='const char *' data-ref="702filename">filename</dfn>);</td></tr>
<tr><th id="102">102</th><td>    <em>int</em> (*<dfn class="decl" id="BlockDriver::bdrv_probe_device" title='BlockDriver::bdrv_probe_device' data-ref="BlockDriver::bdrv_probe_device">bdrv_probe_device</dfn>)(<em>const</em> <em>char</em> *<dfn class="local col3 decl" id="703filename" title='filename' data-type='const char *' data-ref="703filename">filename</dfn>);</td></tr>
<tr><th id="103">103</th><td></td></tr>
<tr><th id="104">104</th><td>    <i>/* Any driver implementing this callback is expected to be able to handle</i></td></tr>
<tr><th id="105">105</th><td><i>     * NULL file names in its .bdrv_open() implementation */</i></td></tr>
<tr><th id="106">106</th><td>    <em>void</em> (*<dfn class="decl" id="BlockDriver::bdrv_parse_filename" title='BlockDriver::bdrv_parse_filename' data-ref="BlockDriver::bdrv_parse_filename">bdrv_parse_filename</dfn>)(<em>const</em> <em>char</em> *<dfn class="local col4 decl" id="704filename" title='filename' data-type='const char *' data-ref="704filename">filename</dfn>, <a class="typedef" href="../qapi/qmp/qdict.h.html#QDict" title='QDict' data-type='struct QDict' data-ref="QDict">QDict</a> *<dfn class="local col5 decl" id="705options" title='options' data-type='QDict *' data-ref="705options">options</dfn>, <a class="typedef" href="../qemu/typedefs.h.html#Error" title='Error' data-type='struct Error' data-ref="Error">Error</a> **<dfn class="local col6 decl" id="706errp" title='errp' data-type='Error **' data-ref="706errp">errp</dfn>);</td></tr>
<tr><th id="107">107</th><td>    <i>/* Drivers not implementing bdrv_parse_filename nor bdrv_open should have</i></td></tr>
<tr><th id="108">108</th><td><i>     * this field set to true, except ones that are defined only by their</i></td></tr>
<tr><th id="109">109</th><td><i>     * child's bs.</i></td></tr>
<tr><th id="110">110</th><td><i>     * An example of the last type will be the quorum block driver.</i></td></tr>
<tr><th id="111">111</th><td><i>     */</i></td></tr>
<tr><th id="112">112</th><td>    <span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="decl" id="BlockDriver::bdrv_needs_filename" title='BlockDriver::bdrv_needs_filename' data-ref="BlockDriver::bdrv_needs_filename">bdrv_needs_filename</dfn>;</td></tr>
<tr><th id="113">113</th><td></td></tr>
<tr><th id="114">114</th><td>    <i>/* Set if a driver can support backing files */</i></td></tr>
<tr><th id="115">115</th><td>    <span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="decl" id="BlockDriver::supports_backing" title='BlockDriver::supports_backing' data-ref="BlockDriver::supports_backing">supports_backing</dfn>;</td></tr>
<tr><th id="116">116</th><td></td></tr>
<tr><th id="117">117</th><td>    <i>/* For handling image reopen for split or non-split files */</i></td></tr>
<tr><th id="118">118</th><td>    <em>int</em> (*<dfn class="decl" id="BlockDriver::bdrv_reopen_prepare" title='BlockDriver::bdrv_reopen_prepare' data-ref="BlockDriver::bdrv_reopen_prepare">bdrv_reopen_prepare</dfn>)(<a class="typedef" href="block.h.html#BDRVReopenState" title='BDRVReopenState' data-type='struct BDRVReopenState' data-ref="BDRVReopenState">BDRVReopenState</a> *<dfn class="local col7 decl" id="707reopen_state" title='reopen_state' data-type='BDRVReopenState *' data-ref="707reopen_state">reopen_state</dfn>,</td></tr>
<tr><th id="119">119</th><td>                               <a class="typedef" href="block.h.html#BlockReopenQueue" title='BlockReopenQueue' data-type='struct BlockReopenQueue' data-ref="BlockReopenQueue">BlockReopenQueue</a> *<dfn class="local col8 decl" id="708queue" title='queue' data-type='BlockReopenQueue *' data-ref="708queue">queue</dfn>, <a class="typedef" href="../qemu/typedefs.h.html#Error" title='Error' data-type='struct Error' data-ref="Error">Error</a> **<dfn class="local col9 decl" id="709errp" title='errp' data-type='Error **' data-ref="709errp">errp</dfn>);</td></tr>
<tr><th id="120">120</th><td>    <em>void</em> (*<dfn class="decl" id="BlockDriver::bdrv_reopen_commit" title='BlockDriver::bdrv_reopen_commit' data-ref="BlockDriver::bdrv_reopen_commit">bdrv_reopen_commit</dfn>)(<a class="typedef" href="block.h.html#BDRVReopenState" title='BDRVReopenState' data-type='struct BDRVReopenState' data-ref="BDRVReopenState">BDRVReopenState</a> *<dfn class="local col0 decl" id="710reopen_state" title='reopen_state' data-type='BDRVReopenState *' data-ref="710reopen_state">reopen_state</dfn>);</td></tr>
<tr><th id="121">121</th><td>    <em>void</em> (*<dfn class="decl" id="BlockDriver::bdrv_reopen_abort" title='BlockDriver::bdrv_reopen_abort' data-ref="BlockDriver::bdrv_reopen_abort">bdrv_reopen_abort</dfn>)(<a class="typedef" href="block.h.html#BDRVReopenState" title='BDRVReopenState' data-type='struct BDRVReopenState' data-ref="BDRVReopenState">BDRVReopenState</a> *<dfn class="local col1 decl" id="711reopen_state" title='reopen_state' data-type='BDRVReopenState *' data-ref="711reopen_state">reopen_state</dfn>);</td></tr>
<tr><th id="122">122</th><td>    <em>void</em> (*<dfn class="decl" id="BlockDriver::bdrv_join_options" title='BlockDriver::bdrv_join_options' data-ref="BlockDriver::bdrv_join_options">bdrv_join_options</dfn>)(<a class="typedef" href="../qapi/qmp/qdict.h.html#QDict" title='QDict' data-type='struct QDict' data-ref="QDict">QDict</a> *<dfn class="local col2 decl" id="712options" title='options' data-type='QDict *' data-ref="712options">options</dfn>, <a class="typedef" href="../qapi/qmp/qdict.h.html#QDict" title='QDict' data-type='struct QDict' data-ref="QDict">QDict</a> *<dfn class="local col3 decl" id="713old_options" title='old_options' data-type='QDict *' data-ref="713old_options">old_options</dfn>);</td></tr>
<tr><th id="123">123</th><td></td></tr>
<tr><th id="124">124</th><td>    <em>int</em> (*<dfn class="decl" id="BlockDriver::bdrv_open" title='BlockDriver::bdrv_open' data-ref="BlockDriver::bdrv_open">bdrv_open</dfn>)(<a class="typedef" href="../qemu/typedefs.h.html#BlockDriverState" title='BlockDriverState' data-type='struct BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a> *<dfn class="local col4 decl" id="714bs" title='bs' data-type='BlockDriverState *' data-ref="714bs">bs</dfn>, <a class="typedef" href="../qapi/qmp/qdict.h.html#QDict" title='QDict' data-type='struct QDict' data-ref="QDict">QDict</a> *<dfn class="local col5 decl" id="715options" title='options' data-type='QDict *' data-ref="715options">options</dfn>, <em>int</em> <dfn class="local col6 decl" id="716flags" title='flags' data-type='int' data-ref="716flags">flags</dfn>,</td></tr>
<tr><th id="125">125</th><td>                     <a class="typedef" href="../qemu/typedefs.h.html#Error" title='Error' data-type='struct Error' data-ref="Error">Error</a> **<dfn class="local col7 decl" id="717errp" title='errp' data-type='Error **' data-ref="717errp">errp</dfn>);</td></tr>
<tr><th id="126">126</th><td>    <em>int</em> (*<dfn class="decl" id="BlockDriver::bdrv_file_open" title='BlockDriver::bdrv_file_open' data-ref="BlockDriver::bdrv_file_open">bdrv_file_open</dfn>)(<a class="typedef" href="../qemu/typedefs.h.html#BlockDriverState" title='BlockDriverState' data-type='struct BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a> *<dfn class="local col8 decl" id="718bs" title='bs' data-type='BlockDriverState *' data-ref="718bs">bs</dfn>, <a class="typedef" href="../qapi/qmp/qdict.h.html#QDict" title='QDict' data-type='struct QDict' data-ref="QDict">QDict</a> *<dfn class="local col9 decl" id="719options" title='options' data-type='QDict *' data-ref="719options">options</dfn>, <em>int</em> <dfn class="local col0 decl" id="720flags" title='flags' data-type='int' data-ref="720flags">flags</dfn>,</td></tr>
<tr><th id="127">127</th><td>                          <a class="typedef" href="../qemu/typedefs.h.html#Error" title='Error' data-type='struct Error' data-ref="Error">Error</a> **<dfn class="local col1 decl" id="721errp" title='errp' data-type='Error **' data-ref="721errp">errp</dfn>);</td></tr>
<tr><th id="128">128</th><td>    <em>void</em> (*<dfn class="decl" id="BlockDriver::bdrv_close" title='BlockDriver::bdrv_close' data-ref="BlockDriver::bdrv_close">bdrv_close</dfn>)(<a class="typedef" href="../qemu/typedefs.h.html#BlockDriverState" title='BlockDriverState' data-type='struct BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a> *<dfn class="local col2 decl" id="722bs" title='bs' data-type='BlockDriverState *' data-ref="722bs">bs</dfn>);</td></tr>
<tr><th id="129">129</th><td>    <em>int</em> (*<dfn class="decl" id="BlockDriver::bdrv_create" title='BlockDriver::bdrv_create' data-ref="BlockDriver::bdrv_create">bdrv_create</dfn>)(<em>const</em> <em>char</em> *<dfn class="local col3 decl" id="723filename" title='filename' data-type='const char *' data-ref="723filename">filename</dfn>, <a class="typedef" href="../qemu/typedefs.h.html#QemuOpts" title='QemuOpts' data-type='struct QemuOpts' data-ref="QemuOpts">QemuOpts</a> *<dfn class="local col4 decl" id="724opts" title='opts' data-type='QemuOpts *' data-ref="724opts">opts</dfn>, <a class="typedef" href="../qemu/typedefs.h.html#Error" title='Error' data-type='struct Error' data-ref="Error">Error</a> **<dfn class="local col5 decl" id="725errp" title='errp' data-type='Error **' data-ref="725errp">errp</dfn>);</td></tr>
<tr><th id="130">130</th><td>    <em>int</em> (*<dfn class="decl" id="BlockDriver::bdrv_set_key" title='BlockDriver::bdrv_set_key' data-ref="BlockDriver::bdrv_set_key">bdrv_set_key</dfn>)(<a class="typedef" href="../qemu/typedefs.h.html#BlockDriverState" title='BlockDriverState' data-type='struct BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a> *<dfn class="local col6 decl" id="726bs" title='bs' data-type='BlockDriverState *' data-ref="726bs">bs</dfn>, <em>const</em> <em>char</em> *<dfn class="local col7 decl" id="727key" title='key' data-type='const char *' data-ref="727key">key</dfn>);</td></tr>
<tr><th id="131">131</th><td>    <em>int</em> (*<dfn class="decl" id="BlockDriver::bdrv_make_empty" title='BlockDriver::bdrv_make_empty' data-ref="BlockDriver::bdrv_make_empty">bdrv_make_empty</dfn>)(<a class="typedef" href="../qemu/typedefs.h.html#BlockDriverState" title='BlockDriverState' data-type='struct BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a> *<dfn class="local col8 decl" id="728bs" title='bs' data-type='BlockDriverState *' data-ref="728bs">bs</dfn>);</td></tr>
<tr><th id="132">132</th><td></td></tr>
<tr><th id="133">133</th><td>    <em>void</em> (*<dfn class="decl" id="BlockDriver::bdrv_refresh_filename" title='BlockDriver::bdrv_refresh_filename' data-ref="BlockDriver::bdrv_refresh_filename">bdrv_refresh_filename</dfn>)(<a class="typedef" href="../qemu/typedefs.h.html#BlockDriverState" title='BlockDriverState' data-type='struct BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a> *<dfn class="local col9 decl" id="729bs" title='bs' data-type='BlockDriverState *' data-ref="729bs">bs</dfn>, <a class="typedef" href="../qapi/qmp/qdict.h.html#QDict" title='QDict' data-type='struct QDict' data-ref="QDict">QDict</a> *<dfn class="local col0 decl" id="730options" title='options' data-type='QDict *' data-ref="730options">options</dfn>);</td></tr>
<tr><th id="134">134</th><td></td></tr>
<tr><th id="135">135</th><td>    <i>/* aio */</i></td></tr>
<tr><th id="136">136</th><td>    <a class="typedef" href="aio.h.html#BlockAIOCB" title='BlockAIOCB' data-type='struct BlockAIOCB' data-ref="BlockAIOCB">BlockAIOCB</a> *(*<dfn class="decl" id="BlockDriver::bdrv_aio_readv" title='BlockDriver::bdrv_aio_readv' data-ref="BlockDriver::bdrv_aio_readv">bdrv_aio_readv</dfn>)(<a class="typedef" href="../qemu/typedefs.h.html#BlockDriverState" title='BlockDriverState' data-type='struct BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a> *<dfn class="local col1 decl" id="731bs" title='bs' data-type='BlockDriverState *' data-ref="731bs">bs</dfn>,</td></tr>
<tr><th id="137">137</th><td>        <a class="typedef" href="../../../include/stdint.h.html#int64_t" title='int64_t' data-type='long' data-ref="int64_t">int64_t</a> <dfn class="local col2 decl" id="732sector_num" title='sector_num' data-type='int64_t' data-ref="732sector_num">sector_num</dfn>, <a class="typedef" href="../qemu/iov.h.html#QEMUIOVector" title='QEMUIOVector' data-type='struct QEMUIOVector' data-ref="QEMUIOVector">QEMUIOVector</a> *<dfn class="local col3 decl" id="733qiov" title='qiov' data-type='QEMUIOVector *' data-ref="733qiov">qiov</dfn>, <em>int</em> <dfn class="local col4 decl" id="734nb_sectors" title='nb_sectors' data-type='int' data-ref="734nb_sectors">nb_sectors</dfn>,</td></tr>
<tr><th id="138">138</th><td>        <a class="typedef" href="aio.h.html#BlockCompletionFunc" title='BlockCompletionFunc' data-type='void (void *, int)' data-ref="BlockCompletionFunc">BlockCompletionFunc</a> *<dfn class="local col5 decl" id="735cb" title='cb' data-type='BlockCompletionFunc *' data-ref="735cb">cb</dfn>, <em>void</em> *<dfn class="local col6 decl" id="736opaque" title='opaque' data-type='void *' data-ref="736opaque">opaque</dfn>);</td></tr>
<tr><th id="139">139</th><td>    <a class="typedef" href="aio.h.html#BlockAIOCB" title='BlockAIOCB' data-type='struct BlockAIOCB' data-ref="BlockAIOCB">BlockAIOCB</a> *(*<dfn class="decl" id="BlockDriver::bdrv_aio_writev" title='BlockDriver::bdrv_aio_writev' data-ref="BlockDriver::bdrv_aio_writev">bdrv_aio_writev</dfn>)(<a class="typedef" href="../qemu/typedefs.h.html#BlockDriverState" title='BlockDriverState' data-type='struct BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a> *<dfn class="local col7 decl" id="737bs" title='bs' data-type='BlockDriverState *' data-ref="737bs">bs</dfn>,</td></tr>
<tr><th id="140">140</th><td>        <a class="typedef" href="../../../include/stdint.h.html#int64_t" title='int64_t' data-type='long' data-ref="int64_t">int64_t</a> <dfn class="local col8 decl" id="738sector_num" title='sector_num' data-type='int64_t' data-ref="738sector_num">sector_num</dfn>, <a class="typedef" href="../qemu/iov.h.html#QEMUIOVector" title='QEMUIOVector' data-type='struct QEMUIOVector' data-ref="QEMUIOVector">QEMUIOVector</a> *<dfn class="local col9 decl" id="739qiov" title='qiov' data-type='QEMUIOVector *' data-ref="739qiov">qiov</dfn>, <em>int</em> <dfn class="local col0 decl" id="740nb_sectors" title='nb_sectors' data-type='int' data-ref="740nb_sectors">nb_sectors</dfn>,</td></tr>
<tr><th id="141">141</th><td>        <a class="typedef" href="aio.h.html#BlockCompletionFunc" title='BlockCompletionFunc' data-type='void (void *, int)' data-ref="BlockCompletionFunc">BlockCompletionFunc</a> *<dfn class="local col1 decl" id="741cb" title='cb' data-type='BlockCompletionFunc *' data-ref="741cb">cb</dfn>, <em>void</em> *<dfn class="local col2 decl" id="742opaque" title='opaque' data-type='void *' data-ref="742opaque">opaque</dfn>);</td></tr>
<tr><th id="142">142</th><td>    <a class="typedef" href="aio.h.html#BlockAIOCB" title='BlockAIOCB' data-type='struct BlockAIOCB' data-ref="BlockAIOCB">BlockAIOCB</a> *(*<dfn class="decl" id="BlockDriver::bdrv_aio_flush" title='BlockDriver::bdrv_aio_flush' data-ref="BlockDriver::bdrv_aio_flush">bdrv_aio_flush</dfn>)(<a class="typedef" href="../qemu/typedefs.h.html#BlockDriverState" title='BlockDriverState' data-type='struct BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a> *<dfn class="local col3 decl" id="743bs" title='bs' data-type='BlockDriverState *' data-ref="743bs">bs</dfn>,</td></tr>
<tr><th id="143">143</th><td>        <a class="typedef" href="aio.h.html#BlockCompletionFunc" title='BlockCompletionFunc' data-type='void (void *, int)' data-ref="BlockCompletionFunc">BlockCompletionFunc</a> *<dfn class="local col4 decl" id="744cb" title='cb' data-type='BlockCompletionFunc *' data-ref="744cb">cb</dfn>, <em>void</em> *<dfn class="local col5 decl" id="745opaque" title='opaque' data-type='void *' data-ref="745opaque">opaque</dfn>);</td></tr>
<tr><th id="144">144</th><td>    <a class="typedef" href="aio.h.html#BlockAIOCB" title='BlockAIOCB' data-type='struct BlockAIOCB' data-ref="BlockAIOCB">BlockAIOCB</a> *(*<dfn class="decl" id="BlockDriver::bdrv_aio_pdiscard" title='BlockDriver::bdrv_aio_pdiscard' data-ref="BlockDriver::bdrv_aio_pdiscard">bdrv_aio_pdiscard</dfn>)(<a class="typedef" href="../qemu/typedefs.h.html#BlockDriverState" title='BlockDriverState' data-type='struct BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a> *<dfn class="local col6 decl" id="746bs" title='bs' data-type='BlockDriverState *' data-ref="746bs">bs</dfn>,</td></tr>
<tr><th id="145">145</th><td>        <a class="typedef" href="../../../include/stdint.h.html#int64_t" title='int64_t' data-type='long' data-ref="int64_t">int64_t</a> <dfn class="local col7 decl" id="747offset" title='offset' data-type='int64_t' data-ref="747offset">offset</dfn>, <em>int</em> <dfn class="local col8 decl" id="748bytes" title='bytes' data-type='int' data-ref="748bytes">bytes</dfn>,</td></tr>
<tr><th id="146">146</th><td>        <a class="typedef" href="aio.h.html#BlockCompletionFunc" title='BlockCompletionFunc' data-type='void (void *, int)' data-ref="BlockCompletionFunc">BlockCompletionFunc</a> *<dfn class="local col9 decl" id="749cb" title='cb' data-type='BlockCompletionFunc *' data-ref="749cb">cb</dfn>, <em>void</em> *<dfn class="local col0 decl" id="750opaque" title='opaque' data-type='void *' data-ref="750opaque">opaque</dfn>);</td></tr>
<tr><th id="147">147</th><td></td></tr>
<tr><th id="148">148</th><td>    <em>int</em> <a class="macro" href="../qemu/coroutine.h.html#45" title="" data-ref="_M/coroutine_fn">coroutine_fn</a> (*<dfn class="decl" id="BlockDriver::bdrv_co_readv" title='BlockDriver::bdrv_co_readv' data-ref="BlockDriver::bdrv_co_readv">bdrv_co_readv</dfn>)(<a class="typedef" href="../qemu/typedefs.h.html#BlockDriverState" title='BlockDriverState' data-type='struct BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a> *<dfn class="local col1 decl" id="751bs" title='bs' data-type='BlockDriverState *' data-ref="751bs">bs</dfn>,</td></tr>
<tr><th id="149">149</th><td>        <a class="typedef" href="../../../include/stdint.h.html#int64_t" title='int64_t' data-type='long' data-ref="int64_t">int64_t</a> <dfn class="local col2 decl" id="752sector_num" title='sector_num' data-type='int64_t' data-ref="752sector_num">sector_num</dfn>, <em>int</em> <dfn class="local col3 decl" id="753nb_sectors" title='nb_sectors' data-type='int' data-ref="753nb_sectors">nb_sectors</dfn>, <a class="typedef" href="../qemu/iov.h.html#QEMUIOVector" title='QEMUIOVector' data-type='struct QEMUIOVector' data-ref="QEMUIOVector">QEMUIOVector</a> *<dfn class="local col4 decl" id="754qiov" title='qiov' data-type='QEMUIOVector *' data-ref="754qiov">qiov</dfn>);</td></tr>
<tr><th id="150">150</th><td>    <em>int</em> <a class="macro" href="../qemu/coroutine.h.html#45" title="" data-ref="_M/coroutine_fn">coroutine_fn</a> (*<dfn class="decl" id="BlockDriver::bdrv_co_preadv" title='BlockDriver::bdrv_co_preadv' data-ref="BlockDriver::bdrv_co_preadv">bdrv_co_preadv</dfn>)(<a class="typedef" href="../qemu/typedefs.h.html#BlockDriverState" title='BlockDriverState' data-type='struct BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a> *<dfn class="local col5 decl" id="755bs" title='bs' data-type='BlockDriverState *' data-ref="755bs">bs</dfn>,</td></tr>
<tr><th id="151">151</th><td>        <a class="typedef" href="../../../include/stdint.h.html#uint64_t" title='uint64_t' data-type='unsigned long' data-ref="uint64_t">uint64_t</a> <dfn class="local col6 decl" id="756offset" title='offset' data-type='uint64_t' data-ref="756offset">offset</dfn>, <a class="typedef" href="../../../include/stdint.h.html#uint64_t" title='uint64_t' data-type='unsigned long' data-ref="uint64_t">uint64_t</a> <dfn class="local col7 decl" id="757bytes" title='bytes' data-type='uint64_t' data-ref="757bytes">bytes</dfn>, <a class="typedef" href="../qemu/iov.h.html#QEMUIOVector" title='QEMUIOVector' data-type='struct QEMUIOVector' data-ref="QEMUIOVector">QEMUIOVector</a> *<dfn class="local col8 decl" id="758qiov" title='qiov' data-type='QEMUIOVector *' data-ref="758qiov">qiov</dfn>, <em>int</em> <dfn class="local col9 decl" id="759flags" title='flags' data-type='int' data-ref="759flags">flags</dfn>);</td></tr>
<tr><th id="152">152</th><td>    <em>int</em> <a class="macro" href="../qemu/coroutine.h.html#45" title="" data-ref="_M/coroutine_fn">coroutine_fn</a> (*<dfn class="decl" id="BlockDriver::bdrv_co_writev" title='BlockDriver::bdrv_co_writev' data-ref="BlockDriver::bdrv_co_writev">bdrv_co_writev</dfn>)(<a class="typedef" href="../qemu/typedefs.h.html#BlockDriverState" title='BlockDriverState' data-type='struct BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a> *<dfn class="local col0 decl" id="760bs" title='bs' data-type='BlockDriverState *' data-ref="760bs">bs</dfn>,</td></tr>
<tr><th id="153">153</th><td>        <a class="typedef" href="../../../include/stdint.h.html#int64_t" title='int64_t' data-type='long' data-ref="int64_t">int64_t</a> <dfn class="local col1 decl" id="761sector_num" title='sector_num' data-type='int64_t' data-ref="761sector_num">sector_num</dfn>, <em>int</em> <dfn class="local col2 decl" id="762nb_sectors" title='nb_sectors' data-type='int' data-ref="762nb_sectors">nb_sectors</dfn>, <a class="typedef" href="../qemu/iov.h.html#QEMUIOVector" title='QEMUIOVector' data-type='struct QEMUIOVector' data-ref="QEMUIOVector">QEMUIOVector</a> *<dfn class="local col3 decl" id="763qiov" title='qiov' data-type='QEMUIOVector *' data-ref="763qiov">qiov</dfn>);</td></tr>
<tr><th id="154">154</th><td>    <em>int</em> <a class="macro" href="../qemu/coroutine.h.html#45" title="" data-ref="_M/coroutine_fn">coroutine_fn</a> (*<dfn class="decl" id="BlockDriver::bdrv_co_writev_flags" title='BlockDriver::bdrv_co_writev_flags' data-ref="BlockDriver::bdrv_co_writev_flags">bdrv_co_writev_flags</dfn>)(<a class="typedef" href="../qemu/typedefs.h.html#BlockDriverState" title='BlockDriverState' data-type='struct BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a> *<dfn class="local col4 decl" id="764bs" title='bs' data-type='BlockDriverState *' data-ref="764bs">bs</dfn>,</td></tr>
<tr><th id="155">155</th><td>        <a class="typedef" href="../../../include/stdint.h.html#int64_t" title='int64_t' data-type='long' data-ref="int64_t">int64_t</a> <dfn class="local col5 decl" id="765sector_num" title='sector_num' data-type='int64_t' data-ref="765sector_num">sector_num</dfn>, <em>int</em> <dfn class="local col6 decl" id="766nb_sectors" title='nb_sectors' data-type='int' data-ref="766nb_sectors">nb_sectors</dfn>, <a class="typedef" href="../qemu/iov.h.html#QEMUIOVector" title='QEMUIOVector' data-type='struct QEMUIOVector' data-ref="QEMUIOVector">QEMUIOVector</a> *<dfn class="local col7 decl" id="767qiov" title='qiov' data-type='QEMUIOVector *' data-ref="767qiov">qiov</dfn>, <em>int</em> <dfn class="local col8 decl" id="768flags" title='flags' data-type='int' data-ref="768flags">flags</dfn>);</td></tr>
<tr><th id="156">156</th><td>    <em>int</em> <a class="macro" href="../qemu/coroutine.h.html#45" title="" data-ref="_M/coroutine_fn">coroutine_fn</a> (*<dfn class="decl" id="BlockDriver::bdrv_co_pwritev" title='BlockDriver::bdrv_co_pwritev' data-ref="BlockDriver::bdrv_co_pwritev">bdrv_co_pwritev</dfn>)(<a class="typedef" href="../qemu/typedefs.h.html#BlockDriverState" title='BlockDriverState' data-type='struct BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a> *<dfn class="local col9 decl" id="769bs" title='bs' data-type='BlockDriverState *' data-ref="769bs">bs</dfn>,</td></tr>
<tr><th id="157">157</th><td>        <a class="typedef" href="../../../include/stdint.h.html#uint64_t" title='uint64_t' data-type='unsigned long' data-ref="uint64_t">uint64_t</a> <dfn class="local col0 decl" id="770offset" title='offset' data-type='uint64_t' data-ref="770offset">offset</dfn>, <a class="typedef" href="../../../include/stdint.h.html#uint64_t" title='uint64_t' data-type='unsigned long' data-ref="uint64_t">uint64_t</a> <dfn class="local col1 decl" id="771bytes" title='bytes' data-type='uint64_t' data-ref="771bytes">bytes</dfn>, <a class="typedef" href="../qemu/iov.h.html#QEMUIOVector" title='QEMUIOVector' data-type='struct QEMUIOVector' data-ref="QEMUIOVector">QEMUIOVector</a> *<dfn class="local col2 decl" id="772qiov" title='qiov' data-type='QEMUIOVector *' data-ref="772qiov">qiov</dfn>, <em>int</em> <dfn class="local col3 decl" id="773flags" title='flags' data-type='int' data-ref="773flags">flags</dfn>);</td></tr>
<tr><th id="158">158</th><td></td></tr>
<tr><th id="159">159</th><td>    <i>/*</i></td></tr>
<tr><th id="160">160</th><td><i>     * Efficiently zero a region of the disk image.  Typically an image format</i></td></tr>
<tr><th id="161">161</th><td><i>     * would use a compact metadata representation to implement this.  This</i></td></tr>
<tr><th id="162">162</th><td><i>     * function pointer may be NULL or return -ENOSUP and .bdrv_co_writev()</i></td></tr>
<tr><th id="163">163</th><td><i>     * will be called instead.</i></td></tr>
<tr><th id="164">164</th><td><i>     */</i></td></tr>
<tr><th id="165">165</th><td>    <em>int</em> <a class="macro" href="../qemu/coroutine.h.html#45" title="" data-ref="_M/coroutine_fn">coroutine_fn</a> (*<dfn class="decl" id="BlockDriver::bdrv_co_pwrite_zeroes" title='BlockDriver::bdrv_co_pwrite_zeroes' data-ref="BlockDriver::bdrv_co_pwrite_zeroes">bdrv_co_pwrite_zeroes</dfn>)(<a class="typedef" href="../qemu/typedefs.h.html#BlockDriverState" title='BlockDriverState' data-type='struct BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a> *<dfn class="local col4 decl" id="774bs" title='bs' data-type='BlockDriverState *' data-ref="774bs">bs</dfn>,</td></tr>
<tr><th id="166">166</th><td>        <a class="typedef" href="../../../include/stdint.h.html#int64_t" title='int64_t' data-type='long' data-ref="int64_t">int64_t</a> <dfn class="local col5 decl" id="775offset" title='offset' data-type='int64_t' data-ref="775offset">offset</dfn>, <em>int</em> <dfn class="local col6 decl" id="776bytes" title='bytes' data-type='int' data-ref="776bytes">bytes</dfn>, <a class="typedef" href="block.h.html#BdrvRequestFlags" title='BdrvRequestFlags' data-type='enum BdrvRequestFlags' data-ref="BdrvRequestFlags">BdrvRequestFlags</a> <dfn class="local col7 decl" id="777flags" title='flags' data-type='BdrvRequestFlags' data-ref="777flags">flags</dfn>);</td></tr>
<tr><th id="167">167</th><td>    <em>int</em> <a class="macro" href="../qemu/coroutine.h.html#45" title="" data-ref="_M/coroutine_fn">coroutine_fn</a> (*<dfn class="decl" id="BlockDriver::bdrv_co_pdiscard" title='BlockDriver::bdrv_co_pdiscard' data-ref="BlockDriver::bdrv_co_pdiscard">bdrv_co_pdiscard</dfn>)(<a class="typedef" href="../qemu/typedefs.h.html#BlockDriverState" title='BlockDriverState' data-type='struct BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a> *<dfn class="local col8 decl" id="778bs" title='bs' data-type='BlockDriverState *' data-ref="778bs">bs</dfn>,</td></tr>
<tr><th id="168">168</th><td>        <a class="typedef" href="../../../include/stdint.h.html#int64_t" title='int64_t' data-type='long' data-ref="int64_t">int64_t</a> <dfn class="local col9 decl" id="779offset" title='offset' data-type='int64_t' data-ref="779offset">offset</dfn>, <em>int</em> <dfn class="local col0 decl" id="780bytes" title='bytes' data-type='int' data-ref="780bytes">bytes</dfn>);</td></tr>
<tr><th id="169">169</th><td></td></tr>
<tr><th id="170">170</th><td>    <i>/*</i></td></tr>
<tr><th id="171">171</th><td><i>     * Building block for bdrv_block_status[_above]. The driver should</i></td></tr>
<tr><th id="172">172</th><td><i>     * answer only according to the current layer, and should not</i></td></tr>
<tr><th id="173">173</th><td><i>     * set BDRV_BLOCK_ALLOCATED, but may set BDRV_BLOCK_RAW.  See block.h</i></td></tr>
<tr><th id="174">174</th><td><i>     * for the meaning of _DATA, _ZERO, and _OFFSET_VALID.</i></td></tr>
<tr><th id="175">175</th><td><i>     */</i></td></tr>
<tr><th id="176">176</th><td>    <a class="typedef" href="../../../include/stdint.h.html#int64_t" title='int64_t' data-type='long' data-ref="int64_t">int64_t</a> <a class="macro" href="../qemu/coroutine.h.html#45" title="" data-ref="_M/coroutine_fn">coroutine_fn</a> (*<dfn class="decl" id="BlockDriver::bdrv_co_get_block_status" title='BlockDriver::bdrv_co_get_block_status' data-ref="BlockDriver::bdrv_co_get_block_status">bdrv_co_get_block_status</dfn>)(<a class="typedef" href="../qemu/typedefs.h.html#BlockDriverState" title='BlockDriverState' data-type='struct BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a> *<dfn class="local col1 decl" id="781bs" title='bs' data-type='BlockDriverState *' data-ref="781bs">bs</dfn>,</td></tr>
<tr><th id="177">177</th><td>        <a class="typedef" href="../../../include/stdint.h.html#int64_t" title='int64_t' data-type='long' data-ref="int64_t">int64_t</a> <dfn class="local col2 decl" id="782sector_num" title='sector_num' data-type='int64_t' data-ref="782sector_num">sector_num</dfn>, <em>int</em> <dfn class="local col3 decl" id="783nb_sectors" title='nb_sectors' data-type='int' data-ref="783nb_sectors">nb_sectors</dfn>, <em>int</em> *<dfn class="local col4 decl" id="784pnum" title='pnum' data-type='int *' data-ref="784pnum">pnum</dfn>,</td></tr>
<tr><th id="178">178</th><td>        <a class="typedef" href="../qemu/typedefs.h.html#BlockDriverState" title='BlockDriverState' data-type='struct BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a> **<dfn class="local col5 decl" id="785file" title='file' data-type='BlockDriverState **' data-ref="785file">file</dfn>);</td></tr>
<tr><th id="179">179</th><td></td></tr>
<tr><th id="180">180</th><td>    <i>/*</i></td></tr>
<tr><th id="181">181</th><td><i>     * Invalidate any cached meta-data.</i></td></tr>
<tr><th id="182">182</th><td><i>     */</i></td></tr>
<tr><th id="183">183</th><td>    <em>void</em> (*<dfn class="decl" id="BlockDriver::bdrv_invalidate_cache" title='BlockDriver::bdrv_invalidate_cache' data-ref="BlockDriver::bdrv_invalidate_cache">bdrv_invalidate_cache</dfn>)(<a class="typedef" href="../qemu/typedefs.h.html#BlockDriverState" title='BlockDriverState' data-type='struct BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a> *<dfn class="local col6 decl" id="786bs" title='bs' data-type='BlockDriverState *' data-ref="786bs">bs</dfn>, <a class="typedef" href="../qemu/typedefs.h.html#Error" title='Error' data-type='struct Error' data-ref="Error">Error</a> **<dfn class="local col7 decl" id="787errp" title='errp' data-type='Error **' data-ref="787errp">errp</dfn>);</td></tr>
<tr><th id="184">184</th><td>    <em>int</em> (*<dfn class="decl" id="BlockDriver::bdrv_inactivate" title='BlockDriver::bdrv_inactivate' data-ref="BlockDriver::bdrv_inactivate">bdrv_inactivate</dfn>)(<a class="typedef" href="../qemu/typedefs.h.html#BlockDriverState" title='BlockDriverState' data-type='struct BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a> *<dfn class="local col8 decl" id="788bs" title='bs' data-type='BlockDriverState *' data-ref="788bs">bs</dfn>);</td></tr>
<tr><th id="185">185</th><td></td></tr>
<tr><th id="186">186</th><td>    <i>/*</i></td></tr>
<tr><th id="187">187</th><td><i>     * Flushes all data for all layers by calling bdrv_co_flush for underlying</i></td></tr>
<tr><th id="188">188</th><td><i>     * layers, if needed. This function is needed for deterministic</i></td></tr>
<tr><th id="189">189</th><td><i>     * synchronization of the flush finishing callback.</i></td></tr>
<tr><th id="190">190</th><td><i>     */</i></td></tr>
<tr><th id="191">191</th><td>    <em>int</em> <a class="macro" href="../qemu/coroutine.h.html#45" title="" data-ref="_M/coroutine_fn">coroutine_fn</a> (*<dfn class="decl" id="BlockDriver::bdrv_co_flush" title='BlockDriver::bdrv_co_flush' data-ref="BlockDriver::bdrv_co_flush">bdrv_co_flush</dfn>)(<a class="typedef" href="../qemu/typedefs.h.html#BlockDriverState" title='BlockDriverState' data-type='struct BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a> *<dfn class="local col9 decl" id="789bs" title='bs' data-type='BlockDriverState *' data-ref="789bs">bs</dfn>);</td></tr>
<tr><th id="192">192</th><td></td></tr>
<tr><th id="193">193</th><td>    <i>/*</i></td></tr>
<tr><th id="194">194</th><td><i>     * Flushes all data that was already written to the OS all the way down to</i></td></tr>
<tr><th id="195">195</th><td><i>     * the disk (for example file-posix.c calls fsync()).</i></td></tr>
<tr><th id="196">196</th><td><i>     */</i></td></tr>
<tr><th id="197">197</th><td>    <em>int</em> <a class="macro" href="../qemu/coroutine.h.html#45" title="" data-ref="_M/coroutine_fn">coroutine_fn</a> (*<dfn class="decl" id="BlockDriver::bdrv_co_flush_to_disk" title='BlockDriver::bdrv_co_flush_to_disk' data-ref="BlockDriver::bdrv_co_flush_to_disk">bdrv_co_flush_to_disk</dfn>)(<a class="typedef" href="../qemu/typedefs.h.html#BlockDriverState" title='BlockDriverState' data-type='struct BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a> *<dfn class="local col0 decl" id="790bs" title='bs' data-type='BlockDriverState *' data-ref="790bs">bs</dfn>);</td></tr>
<tr><th id="198">198</th><td></td></tr>
<tr><th id="199">199</th><td>    <i>/*</i></td></tr>
<tr><th id="200">200</th><td><i>     * Flushes all internal caches to the OS. The data may still sit in a</i></td></tr>
<tr><th id="201">201</th><td><i>     * writeback cache of the host OS, but it will survive a crash of the qemu</i></td></tr>
<tr><th id="202">202</th><td><i>     * process.</i></td></tr>
<tr><th id="203">203</th><td><i>     */</i></td></tr>
<tr><th id="204">204</th><td>    <em>int</em> <a class="macro" href="../qemu/coroutine.h.html#45" title="" data-ref="_M/coroutine_fn">coroutine_fn</a> (*<dfn class="decl" id="BlockDriver::bdrv_co_flush_to_os" title='BlockDriver::bdrv_co_flush_to_os' data-ref="BlockDriver::bdrv_co_flush_to_os">bdrv_co_flush_to_os</dfn>)(<a class="typedef" href="../qemu/typedefs.h.html#BlockDriverState" title='BlockDriverState' data-type='struct BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a> *<dfn class="local col1 decl" id="791bs" title='bs' data-type='BlockDriverState *' data-ref="791bs">bs</dfn>);</td></tr>
<tr><th id="205">205</th><td></td></tr>
<tr><th id="206">206</th><td>    <em>const</em> <em>char</em> *<dfn class="decl" id="BlockDriver::protocol_name" title='BlockDriver::protocol_name' data-ref="BlockDriver::protocol_name">protocol_name</dfn>;</td></tr>
<tr><th id="207">207</th><td>    <em>int</em> (*<dfn class="decl" id="BlockDriver::bdrv_truncate" title='BlockDriver::bdrv_truncate' data-ref="BlockDriver::bdrv_truncate">bdrv_truncate</dfn>)(<a class="typedef" href="../qemu/typedefs.h.html#BlockDriverState" title='BlockDriverState' data-type='struct BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a> *<dfn class="local col2 decl" id="792bs" title='bs' data-type='BlockDriverState *' data-ref="792bs">bs</dfn>, <a class="typedef" href="../../../include/stdint.h.html#int64_t" title='int64_t' data-type='long' data-ref="int64_t">int64_t</a> <dfn class="local col3 decl" id="793offset" title='offset' data-type='int64_t' data-ref="793offset">offset</dfn>,</td></tr>
<tr><th id="208">208</th><td>                         <a class="typedef" href="../../qapi-types.h.html#PreallocMode" title='PreallocMode' data-type='enum PreallocMode' data-ref="PreallocMode">PreallocMode</a> <dfn class="local col4 decl" id="794prealloc" title='prealloc' data-type='PreallocMode' data-ref="794prealloc">prealloc</dfn>, <a class="typedef" href="../qemu/typedefs.h.html#Error" title='Error' data-type='struct Error' data-ref="Error">Error</a> **<dfn class="local col5 decl" id="795errp" title='errp' data-type='Error **' data-ref="795errp">errp</dfn>);</td></tr>
<tr><th id="209">209</th><td></td></tr>
<tr><th id="210">210</th><td>    <a class="typedef" href="../../../include/stdint.h.html#int64_t" title='int64_t' data-type='long' data-ref="int64_t">int64_t</a> (*<dfn class="decl" id="BlockDriver::bdrv_getlength" title='BlockDriver::bdrv_getlength' data-ref="BlockDriver::bdrv_getlength">bdrv_getlength</dfn>)(<a class="typedef" href="../qemu/typedefs.h.html#BlockDriverState" title='BlockDriverState' data-type='struct BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a> *<dfn class="local col6 decl" id="796bs" title='bs' data-type='BlockDriverState *' data-ref="796bs">bs</dfn>);</td></tr>
<tr><th id="211">211</th><td>    <span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="decl" id="BlockDriver::has_variable_length" title='BlockDriver::has_variable_length' data-ref="BlockDriver::has_variable_length">has_variable_length</dfn>;</td></tr>
<tr><th id="212">212</th><td>    <a class="typedef" href="../../../include/stdint.h.html#int64_t" title='int64_t' data-type='long' data-ref="int64_t">int64_t</a> (*<dfn class="decl" id="BlockDriver::bdrv_get_allocated_file_size" title='BlockDriver::bdrv_get_allocated_file_size' data-ref="BlockDriver::bdrv_get_allocated_file_size">bdrv_get_allocated_file_size</dfn>)(<a class="typedef" href="../qemu/typedefs.h.html#BlockDriverState" title='BlockDriverState' data-type='struct BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a> *<dfn class="local col7 decl" id="797bs" title='bs' data-type='BlockDriverState *' data-ref="797bs">bs</dfn>);</td></tr>
<tr><th id="213">213</th><td>    <a class="typedef" href="../../qapi-types.h.html#BlockMeasureInfo" title='BlockMeasureInfo' data-type='struct BlockMeasureInfo' data-ref="BlockMeasureInfo">BlockMeasureInfo</a> *(*<dfn class="decl" id="BlockDriver::bdrv_measure" title='BlockDriver::bdrv_measure' data-ref="BlockDriver::bdrv_measure">bdrv_measure</dfn>)(<a class="typedef" href="../qemu/typedefs.h.html#QemuOpts" title='QemuOpts' data-type='struct QemuOpts' data-ref="QemuOpts">QemuOpts</a> *<dfn class="local col8 decl" id="798opts" title='opts' data-type='QemuOpts *' data-ref="798opts">opts</dfn>, <a class="typedef" href="../qemu/typedefs.h.html#BlockDriverState" title='BlockDriverState' data-type='struct BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a> *<dfn class="local col9 decl" id="799in_bs" title='in_bs' data-type='BlockDriverState *' data-ref="799in_bs">in_bs</dfn>,</td></tr>
<tr><th id="214">214</th><td>                                      <a class="typedef" href="../qemu/typedefs.h.html#Error" title='Error' data-type='struct Error' data-ref="Error">Error</a> **<dfn class="local col0 decl" id="800errp" title='errp' data-type='Error **' data-ref="800errp">errp</dfn>);</td></tr>
<tr><th id="215">215</th><td></td></tr>
<tr><th id="216">216</th><td>    <em>int</em> <a class="macro" href="../qemu/coroutine.h.html#45" title="" data-ref="_M/coroutine_fn">coroutine_fn</a> (*<dfn class="decl" id="BlockDriver::bdrv_co_pwritev_compressed" title='BlockDriver::bdrv_co_pwritev_compressed' data-ref="BlockDriver::bdrv_co_pwritev_compressed">bdrv_co_pwritev_compressed</dfn>)(<a class="typedef" href="../qemu/typedefs.h.html#BlockDriverState" title='BlockDriverState' data-type='struct BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a> *<dfn class="local col1 decl" id="801bs" title='bs' data-type='BlockDriverState *' data-ref="801bs">bs</dfn>,</td></tr>
<tr><th id="217">217</th><td>        <a class="typedef" href="../../../include/stdint.h.html#uint64_t" title='uint64_t' data-type='unsigned long' data-ref="uint64_t">uint64_t</a> <dfn class="local col2 decl" id="802offset" title='offset' data-type='uint64_t' data-ref="802offset">offset</dfn>, <a class="typedef" href="../../../include/stdint.h.html#uint64_t" title='uint64_t' data-type='unsigned long' data-ref="uint64_t">uint64_t</a> <dfn class="local col3 decl" id="803bytes" title='bytes' data-type='uint64_t' data-ref="803bytes">bytes</dfn>, <a class="typedef" href="../qemu/iov.h.html#QEMUIOVector" title='QEMUIOVector' data-type='struct QEMUIOVector' data-ref="QEMUIOVector">QEMUIOVector</a> *<dfn class="local col4 decl" id="804qiov" title='qiov' data-type='QEMUIOVector *' data-ref="804qiov">qiov</dfn>);</td></tr>
<tr><th id="218">218</th><td></td></tr>
<tr><th id="219">219</th><td>    <em>int</em> (*<dfn class="decl" id="BlockDriver::bdrv_snapshot_create" title='BlockDriver::bdrv_snapshot_create' data-ref="BlockDriver::bdrv_snapshot_create">bdrv_snapshot_create</dfn>)(<a class="typedef" href="../qemu/typedefs.h.html#BlockDriverState" title='BlockDriverState' data-type='struct BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a> *<dfn class="local col5 decl" id="805bs" title='bs' data-type='BlockDriverState *' data-ref="805bs">bs</dfn>,</td></tr>
<tr><th id="220">220</th><td>                                <a class="typedef" href="snapshot.h.html#QEMUSnapshotInfo" title='QEMUSnapshotInfo' data-type='struct QEMUSnapshotInfo' data-ref="QEMUSnapshotInfo">QEMUSnapshotInfo</a> *<dfn class="local col6 decl" id="806sn_info" title='sn_info' data-type='QEMUSnapshotInfo *' data-ref="806sn_info">sn_info</dfn>);</td></tr>
<tr><th id="221">221</th><td>    <em>int</em> (*<dfn class="decl" id="BlockDriver::bdrv_snapshot_goto" title='BlockDriver::bdrv_snapshot_goto' data-ref="BlockDriver::bdrv_snapshot_goto">bdrv_snapshot_goto</dfn>)(<a class="typedef" href="../qemu/typedefs.h.html#BlockDriverState" title='BlockDriverState' data-type='struct BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a> *<dfn class="local col7 decl" id="807bs" title='bs' data-type='BlockDriverState *' data-ref="807bs">bs</dfn>,</td></tr>
<tr><th id="222">222</th><td>                              <em>const</em> <em>char</em> *<dfn class="local col8 decl" id="808snapshot_id" title='snapshot_id' data-type='const char *' data-ref="808snapshot_id">snapshot_id</dfn>);</td></tr>
<tr><th id="223">223</th><td>    <em>int</em> (*<dfn class="decl" id="BlockDriver::bdrv_snapshot_delete" title='BlockDriver::bdrv_snapshot_delete' data-ref="BlockDriver::bdrv_snapshot_delete">bdrv_snapshot_delete</dfn>)(<a class="typedef" href="../qemu/typedefs.h.html#BlockDriverState" title='BlockDriverState' data-type='struct BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a> *<dfn class="local col9 decl" id="809bs" title='bs' data-type='BlockDriverState *' data-ref="809bs">bs</dfn>,</td></tr>
<tr><th id="224">224</th><td>                                <em>const</em> <em>char</em> *<dfn class="local col0 decl" id="810snapshot_id" title='snapshot_id' data-type='const char *' data-ref="810snapshot_id">snapshot_id</dfn>,</td></tr>
<tr><th id="225">225</th><td>                                <em>const</em> <em>char</em> *<dfn class="local col1 decl" id="811name" title='name' data-type='const char *' data-ref="811name">name</dfn>,</td></tr>
<tr><th id="226">226</th><td>                                <a class="typedef" href="../qemu/typedefs.h.html#Error" title='Error' data-type='struct Error' data-ref="Error">Error</a> **<dfn class="local col2 decl" id="812errp" title='errp' data-type='Error **' data-ref="812errp">errp</dfn>);</td></tr>
<tr><th id="227">227</th><td>    <em>int</em> (*<dfn class="decl" id="BlockDriver::bdrv_snapshot_list" title='BlockDriver::bdrv_snapshot_list' data-ref="BlockDriver::bdrv_snapshot_list">bdrv_snapshot_list</dfn>)(<a class="typedef" href="../qemu/typedefs.h.html#BlockDriverState" title='BlockDriverState' data-type='struct BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a> *<dfn class="local col3 decl" id="813bs" title='bs' data-type='BlockDriverState *' data-ref="813bs">bs</dfn>,</td></tr>
<tr><th id="228">228</th><td>                              <a class="typedef" href="snapshot.h.html#QEMUSnapshotInfo" title='QEMUSnapshotInfo' data-type='struct QEMUSnapshotInfo' data-ref="QEMUSnapshotInfo">QEMUSnapshotInfo</a> **<dfn class="local col4 decl" id="814psn_info" title='psn_info' data-type='QEMUSnapshotInfo **' data-ref="814psn_info">psn_info</dfn>);</td></tr>
<tr><th id="229">229</th><td>    <em>int</em> (*<dfn class="decl" id="BlockDriver::bdrv_snapshot_load_tmp" title='BlockDriver::bdrv_snapshot_load_tmp' data-ref="BlockDriver::bdrv_snapshot_load_tmp">bdrv_snapshot_load_tmp</dfn>)(<a class="typedef" href="../qemu/typedefs.h.html#BlockDriverState" title='BlockDriverState' data-type='struct BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a> *<dfn class="local col5 decl" id="815bs" title='bs' data-type='BlockDriverState *' data-ref="815bs">bs</dfn>,</td></tr>
<tr><th id="230">230</th><td>                                  <em>const</em> <em>char</em> *<dfn class="local col6 decl" id="816snapshot_id" title='snapshot_id' data-type='const char *' data-ref="816snapshot_id">snapshot_id</dfn>,</td></tr>
<tr><th id="231">231</th><td>                                  <em>const</em> <em>char</em> *<dfn class="local col7 decl" id="817name" title='name' data-type='const char *' data-ref="817name">name</dfn>,</td></tr>
<tr><th id="232">232</th><td>                                  <a class="typedef" href="../qemu/typedefs.h.html#Error" title='Error' data-type='struct Error' data-ref="Error">Error</a> **<dfn class="local col8 decl" id="818errp" title='errp' data-type='Error **' data-ref="818errp">errp</dfn>);</td></tr>
<tr><th id="233">233</th><td>    <em>int</em> (*<dfn class="decl" id="BlockDriver::bdrv_get_info" title='BlockDriver::bdrv_get_info' data-ref="BlockDriver::bdrv_get_info">bdrv_get_info</dfn>)(<a class="typedef" href="../qemu/typedefs.h.html#BlockDriverState" title='BlockDriverState' data-type='struct BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a> *<dfn class="local col9 decl" id="819bs" title='bs' data-type='BlockDriverState *' data-ref="819bs">bs</dfn>, <a class="typedef" href="block.h.html#BlockDriverInfo" title='BlockDriverInfo' data-type='struct BlockDriverInfo' data-ref="BlockDriverInfo">BlockDriverInfo</a> *<dfn class="local col0 decl" id="820bdi" title='bdi' data-type='BlockDriverInfo *' data-ref="820bdi">bdi</dfn>);</td></tr>
<tr><th id="234">234</th><td>    <a class="typedef" href="../../qapi-types.h.html#ImageInfoSpecific" title='ImageInfoSpecific' data-type='struct ImageInfoSpecific' data-ref="ImageInfoSpecific">ImageInfoSpecific</a> *(*<dfn class="decl" id="BlockDriver::bdrv_get_specific_info" title='BlockDriver::bdrv_get_specific_info' data-ref="BlockDriver::bdrv_get_specific_info">bdrv_get_specific_info</dfn>)(<a class="typedef" href="../qemu/typedefs.h.html#BlockDriverState" title='BlockDriverState' data-type='struct BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a> *<dfn class="local col1 decl" id="821bs" title='bs' data-type='BlockDriverState *' data-ref="821bs">bs</dfn>);</td></tr>
<tr><th id="235">235</th><td></td></tr>
<tr><th id="236">236</th><td>    <em>int</em> <a class="macro" href="../qemu/coroutine.h.html#45" title="" data-ref="_M/coroutine_fn">coroutine_fn</a> (*<dfn class="decl" id="BlockDriver::bdrv_save_vmstate" title='BlockDriver::bdrv_save_vmstate' data-ref="BlockDriver::bdrv_save_vmstate">bdrv_save_vmstate</dfn>)(<a class="typedef" href="../qemu/typedefs.h.html#BlockDriverState" title='BlockDriverState' data-type='struct BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a> *<dfn class="local col2 decl" id="822bs" title='bs' data-type='BlockDriverState *' data-ref="822bs">bs</dfn>,</td></tr>
<tr><th id="237">237</th><td>                                          <a class="typedef" href="../qemu/iov.h.html#QEMUIOVector" title='QEMUIOVector' data-type='struct QEMUIOVector' data-ref="QEMUIOVector">QEMUIOVector</a> *<dfn class="local col3 decl" id="823qiov" title='qiov' data-type='QEMUIOVector *' data-ref="823qiov">qiov</dfn>,</td></tr>
<tr><th id="238">238</th><td>                                          <a class="typedef" href="../../../include/stdint.h.html#int64_t" title='int64_t' data-type='long' data-ref="int64_t">int64_t</a> <dfn class="local col4 decl" id="824pos" title='pos' data-type='int64_t' data-ref="824pos">pos</dfn>);</td></tr>
<tr><th id="239">239</th><td>    <em>int</em> <a class="macro" href="../qemu/coroutine.h.html#45" title="" data-ref="_M/coroutine_fn">coroutine_fn</a> (*<dfn class="decl" id="BlockDriver::bdrv_load_vmstate" title='BlockDriver::bdrv_load_vmstate' data-ref="BlockDriver::bdrv_load_vmstate">bdrv_load_vmstate</dfn>)(<a class="typedef" href="../qemu/typedefs.h.html#BlockDriverState" title='BlockDriverState' data-type='struct BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a> *<dfn class="local col5 decl" id="825bs" title='bs' data-type='BlockDriverState *' data-ref="825bs">bs</dfn>,</td></tr>
<tr><th id="240">240</th><td>                                          <a class="typedef" href="../qemu/iov.h.html#QEMUIOVector" title='QEMUIOVector' data-type='struct QEMUIOVector' data-ref="QEMUIOVector">QEMUIOVector</a> *<dfn class="local col6 decl" id="826qiov" title='qiov' data-type='QEMUIOVector *' data-ref="826qiov">qiov</dfn>,</td></tr>
<tr><th id="241">241</th><td>                                          <a class="typedef" href="../../../include/stdint.h.html#int64_t" title='int64_t' data-type='long' data-ref="int64_t">int64_t</a> <dfn class="local col7 decl" id="827pos" title='pos' data-type='int64_t' data-ref="827pos">pos</dfn>);</td></tr>
<tr><th id="242">242</th><td></td></tr>
<tr><th id="243">243</th><td>    <em>int</em> (*<dfn class="decl" id="BlockDriver::bdrv_change_backing_file" title='BlockDriver::bdrv_change_backing_file' data-ref="BlockDriver::bdrv_change_backing_file">bdrv_change_backing_file</dfn>)(<a class="typedef" href="../qemu/typedefs.h.html#BlockDriverState" title='BlockDriverState' data-type='struct BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a> *<dfn class="local col8 decl" id="828bs" title='bs' data-type='BlockDriverState *' data-ref="828bs">bs</dfn>,</td></tr>
<tr><th id="244">244</th><td>        <em>const</em> <em>char</em> *<dfn class="local col9 decl" id="829backing_file" title='backing_file' data-type='const char *' data-ref="829backing_file">backing_file</dfn>, <em>const</em> <em>char</em> *<dfn class="local col0 decl" id="830backing_fmt" title='backing_fmt' data-type='const char *' data-ref="830backing_fmt">backing_fmt</dfn>);</td></tr>
<tr><th id="245">245</th><td></td></tr>
<tr><th id="246">246</th><td>    <i>/* removable device specific */</i></td></tr>
<tr><th id="247">247</th><td>    <span class="macro" title="_Bool" data-ref="_M/bool">bool</span> (*<dfn class="decl" id="BlockDriver::bdrv_is_inserted" title='BlockDriver::bdrv_is_inserted' data-ref="BlockDriver::bdrv_is_inserted">bdrv_is_inserted</dfn>)(<a class="typedef" href="../qemu/typedefs.h.html#BlockDriverState" title='BlockDriverState' data-type='struct BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a> *<dfn class="local col1 decl" id="831bs" title='bs' data-type='BlockDriverState *' data-ref="831bs">bs</dfn>);</td></tr>
<tr><th id="248">248</th><td>    <em>int</em> (*<dfn class="decl" id="BlockDriver::bdrv_media_changed" title='BlockDriver::bdrv_media_changed' data-ref="BlockDriver::bdrv_media_changed">bdrv_media_changed</dfn>)(<a class="typedef" href="../qemu/typedefs.h.html#BlockDriverState" title='BlockDriverState' data-type='struct BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a> *<dfn class="local col2 decl" id="832bs" title='bs' data-type='BlockDriverState *' data-ref="832bs">bs</dfn>);</td></tr>
<tr><th id="249">249</th><td>    <em>void</em> (*<dfn class="decl" id="BlockDriver::bdrv_eject" title='BlockDriver::bdrv_eject' data-ref="BlockDriver::bdrv_eject">bdrv_eject</dfn>)(<a class="typedef" href="../qemu/typedefs.h.html#BlockDriverState" title='BlockDriverState' data-type='struct BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a> *<dfn class="local col3 decl" id="833bs" title='bs' data-type='BlockDriverState *' data-ref="833bs">bs</dfn>, <span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="local col4 decl" id="834eject_flag" title='eject_flag' data-type='_Bool' data-ref="834eject_flag">eject_flag</dfn>);</td></tr>
<tr><th id="250">250</th><td>    <em>void</em> (*<dfn class="decl" id="BlockDriver::bdrv_lock_medium" title='BlockDriver::bdrv_lock_medium' data-ref="BlockDriver::bdrv_lock_medium">bdrv_lock_medium</dfn>)(<a class="typedef" href="../qemu/typedefs.h.html#BlockDriverState" title='BlockDriverState' data-type='struct BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a> *<dfn class="local col5 decl" id="835bs" title='bs' data-type='BlockDriverState *' data-ref="835bs">bs</dfn>, <span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="local col6 decl" id="836locked" title='locked' data-type='_Bool' data-ref="836locked">locked</dfn>);</td></tr>
<tr><th id="251">251</th><td></td></tr>
<tr><th id="252">252</th><td>    <i>/* to control generic scsi devices */</i></td></tr>
<tr><th id="253">253</th><td>    <a class="typedef" href="aio.h.html#BlockAIOCB" title='BlockAIOCB' data-type='struct BlockAIOCB' data-ref="BlockAIOCB">BlockAIOCB</a> *(*<dfn class="decl" id="BlockDriver::bdrv_aio_ioctl" title='BlockDriver::bdrv_aio_ioctl' data-ref="BlockDriver::bdrv_aio_ioctl">bdrv_aio_ioctl</dfn>)(<a class="typedef" href="../qemu/typedefs.h.html#BlockDriverState" title='BlockDriverState' data-type='struct BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a> *<dfn class="local col7 decl" id="837bs" title='bs' data-type='BlockDriverState *' data-ref="837bs">bs</dfn>,</td></tr>
<tr><th id="254">254</th><td>        <em>unsigned</em> <em>long</em> <em>int</em> <dfn class="local col8 decl" id="838req" title='req' data-type='unsigned long' data-ref="838req">req</dfn>, <em>void</em> *<dfn class="local col9 decl" id="839buf" title='buf' data-type='void *' data-ref="839buf">buf</dfn>,</td></tr>
<tr><th id="255">255</th><td>        <a class="typedef" href="aio.h.html#BlockCompletionFunc" title='BlockCompletionFunc' data-type='void (void *, int)' data-ref="BlockCompletionFunc">BlockCompletionFunc</a> *<dfn class="local col0 decl" id="840cb" title='cb' data-type='BlockCompletionFunc *' data-ref="840cb">cb</dfn>, <em>void</em> *<dfn class="local col1 decl" id="841opaque" title='opaque' data-type='void *' data-ref="841opaque">opaque</dfn>);</td></tr>
<tr><th id="256">256</th><td>    <em>int</em> <a class="macro" href="../qemu/coroutine.h.html#45" title="" data-ref="_M/coroutine_fn">coroutine_fn</a> (*<dfn class="decl" id="BlockDriver::bdrv_co_ioctl" title='BlockDriver::bdrv_co_ioctl' data-ref="BlockDriver::bdrv_co_ioctl">bdrv_co_ioctl</dfn>)(<a class="typedef" href="../qemu/typedefs.h.html#BlockDriverState" title='BlockDriverState' data-type='struct BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a> *<dfn class="local col2 decl" id="842bs" title='bs' data-type='BlockDriverState *' data-ref="842bs">bs</dfn>,</td></tr>
<tr><th id="257">257</th><td>                                      <em>unsigned</em> <em>long</em> <em>int</em> <dfn class="local col3 decl" id="843req" title='req' data-type='unsigned long' data-ref="843req">req</dfn>, <em>void</em> *<dfn class="local col4 decl" id="844buf" title='buf' data-type='void *' data-ref="844buf">buf</dfn>);</td></tr>
<tr><th id="258">258</th><td></td></tr>
<tr><th id="259">259</th><td>    <i>/* List of options for creating images, terminated by name == NULL */</i></td></tr>
<tr><th id="260">260</th><td>    <a class="typedef" href="../qemu/typedefs.h.html#QemuOptsList" title='QemuOptsList' data-type='struct QemuOptsList' data-ref="QemuOptsList">QemuOptsList</a> *<dfn class="decl" id="BlockDriver::create_opts" title='BlockDriver::create_opts' data-ref="BlockDriver::create_opts">create_opts</dfn>;</td></tr>
<tr><th id="261">261</th><td></td></tr>
<tr><th id="262">262</th><td>    <i>/*</i></td></tr>
<tr><th id="263">263</th><td><i>     * Returns 0 for completed check, -errno for internal errors.</i></td></tr>
<tr><th id="264">264</th><td><i>     * The check results are stored in result.</i></td></tr>
<tr><th id="265">265</th><td><i>     */</i></td></tr>
<tr><th id="266">266</th><td>    <em>int</em> (*<dfn class="decl" id="BlockDriver::bdrv_check" title='BlockDriver::bdrv_check' data-ref="BlockDriver::bdrv_check">bdrv_check</dfn>)(<a class="typedef" href="../qemu/typedefs.h.html#BlockDriverState" title='BlockDriverState' data-type='struct BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a> *<dfn class="local col5 decl" id="845bs" title='bs' data-type='BlockDriverState *' data-ref="845bs">bs</dfn>, <a class="typedef" href="block.h.html#BdrvCheckResult" title='BdrvCheckResult' data-type='struct BdrvCheckResult' data-ref="BdrvCheckResult">BdrvCheckResult</a> *<dfn class="local col6 decl" id="846result" title='result' data-type='BdrvCheckResult *' data-ref="846result">result</dfn>,</td></tr>
<tr><th id="267">267</th><td>        <a class="typedef" href="block.h.html#BdrvCheckMode" title='BdrvCheckMode' data-type='enum BdrvCheckMode' data-ref="BdrvCheckMode">BdrvCheckMode</a> <dfn class="local col7 decl" id="847fix" title='fix' data-type='BdrvCheckMode' data-ref="847fix">fix</dfn>);</td></tr>
<tr><th id="268">268</th><td></td></tr>
<tr><th id="269">269</th><td>    <em>int</em> (*<dfn class="decl" id="BlockDriver::bdrv_amend_options" title='BlockDriver::bdrv_amend_options' data-ref="BlockDriver::bdrv_amend_options">bdrv_amend_options</dfn>)(<a class="typedef" href="../qemu/typedefs.h.html#BlockDriverState" title='BlockDriverState' data-type='struct BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a> *<dfn class="local col8 decl" id="848bs" title='bs' data-type='BlockDriverState *' data-ref="848bs">bs</dfn>, <a class="typedef" href="../qemu/typedefs.h.html#QemuOpts" title='QemuOpts' data-type='struct QemuOpts' data-ref="QemuOpts">QemuOpts</a> *<dfn class="local col9 decl" id="849opts" title='opts' data-type='QemuOpts *' data-ref="849opts">opts</dfn>,</td></tr>
<tr><th id="270">270</th><td>                              <a class="typedef" href="block.h.html#BlockDriverAmendStatusCB" title='BlockDriverAmendStatusCB' data-type='void (BlockDriverState *, int64_t, int64_t, void *)' data-ref="BlockDriverAmendStatusCB">BlockDriverAmendStatusCB</a> *<dfn class="local col0 decl" id="850status_cb" title='status_cb' data-type='BlockDriverAmendStatusCB *' data-ref="850status_cb">status_cb</dfn>,</td></tr>
<tr><th id="271">271</th><td>                              <em>void</em> *<dfn class="local col1 decl" id="851cb_opaque" title='cb_opaque' data-type='void *' data-ref="851cb_opaque">cb_opaque</dfn>);</td></tr>
<tr><th id="272">272</th><td></td></tr>
<tr><th id="273">273</th><td>    <em>void</em> (*<dfn class="decl" id="BlockDriver::bdrv_debug_event" title='BlockDriver::bdrv_debug_event' data-ref="BlockDriver::bdrv_debug_event">bdrv_debug_event</dfn>)(<a class="typedef" href="../qemu/typedefs.h.html#BlockDriverState" title='BlockDriverState' data-type='struct BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a> *<dfn class="local col2 decl" id="852bs" title='bs' data-type='BlockDriverState *' data-ref="852bs">bs</dfn>, <a class="typedef" href="../../qapi-types.h.html#BlkdebugEvent" title='BlkdebugEvent' data-type='enum BlkdebugEvent' data-ref="BlkdebugEvent">BlkdebugEvent</a> <dfn class="local col3 decl" id="853event" title='event' data-type='BlkdebugEvent' data-ref="853event">event</dfn>);</td></tr>
<tr><th id="274">274</th><td></td></tr>
<tr><th id="275">275</th><td>    <i>/* TODO Better pass a option string/QDict/QemuOpts to add any rule? */</i></td></tr>
<tr><th id="276">276</th><td>    <em>int</em> (*<dfn class="decl" id="BlockDriver::bdrv_debug_breakpoint" title='BlockDriver::bdrv_debug_breakpoint' data-ref="BlockDriver::bdrv_debug_breakpoint">bdrv_debug_breakpoint</dfn>)(<a class="typedef" href="../qemu/typedefs.h.html#BlockDriverState" title='BlockDriverState' data-type='struct BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a> *<dfn class="local col4 decl" id="854bs" title='bs' data-type='BlockDriverState *' data-ref="854bs">bs</dfn>, <em>const</em> <em>char</em> *<dfn class="local col5 decl" id="855event" title='event' data-type='const char *' data-ref="855event">event</dfn>,</td></tr>
<tr><th id="277">277</th><td>        <em>const</em> <em>char</em> *<dfn class="local col6 decl" id="856tag" title='tag' data-type='const char *' data-ref="856tag">tag</dfn>);</td></tr>
<tr><th id="278">278</th><td>    <em>int</em> (*<dfn class="decl" id="BlockDriver::bdrv_debug_remove_breakpoint" title='BlockDriver::bdrv_debug_remove_breakpoint' data-ref="BlockDriver::bdrv_debug_remove_breakpoint">bdrv_debug_remove_breakpoint</dfn>)(<a class="typedef" href="../qemu/typedefs.h.html#BlockDriverState" title='BlockDriverState' data-type='struct BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a> *<dfn class="local col7 decl" id="857bs" title='bs' data-type='BlockDriverState *' data-ref="857bs">bs</dfn>,</td></tr>
<tr><th id="279">279</th><td>        <em>const</em> <em>char</em> *<dfn class="local col8 decl" id="858tag" title='tag' data-type='const char *' data-ref="858tag">tag</dfn>);</td></tr>
<tr><th id="280">280</th><td>    <em>int</em> (*<dfn class="decl" id="BlockDriver::bdrv_debug_resume" title='BlockDriver::bdrv_debug_resume' data-ref="BlockDriver::bdrv_debug_resume">bdrv_debug_resume</dfn>)(<a class="typedef" href="../qemu/typedefs.h.html#BlockDriverState" title='BlockDriverState' data-type='struct BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a> *<dfn class="local col9 decl" id="859bs" title='bs' data-type='BlockDriverState *' data-ref="859bs">bs</dfn>, <em>const</em> <em>char</em> *<dfn class="local col0 decl" id="860tag" title='tag' data-type='const char *' data-ref="860tag">tag</dfn>);</td></tr>
<tr><th id="281">281</th><td>    <span class="macro" title="_Bool" data-ref="_M/bool">bool</span> (*<dfn class="decl" id="BlockDriver::bdrv_debug_is_suspended" title='BlockDriver::bdrv_debug_is_suspended' data-ref="BlockDriver::bdrv_debug_is_suspended">bdrv_debug_is_suspended</dfn>)(<a class="typedef" href="../qemu/typedefs.h.html#BlockDriverState" title='BlockDriverState' data-type='struct BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a> *<dfn class="local col1 decl" id="861bs" title='bs' data-type='BlockDriverState *' data-ref="861bs">bs</dfn>, <em>const</em> <em>char</em> *<dfn class="local col2 decl" id="862tag" title='tag' data-type='const char *' data-ref="862tag">tag</dfn>);</td></tr>
<tr><th id="282">282</th><td></td></tr>
<tr><th id="283">283</th><td>    <em>void</em> (*<dfn class="decl" id="BlockDriver::bdrv_refresh_limits" title='BlockDriver::bdrv_refresh_limits' data-ref="BlockDriver::bdrv_refresh_limits">bdrv_refresh_limits</dfn>)(<a class="typedef" href="../qemu/typedefs.h.html#BlockDriverState" title='BlockDriverState' data-type='struct BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a> *<dfn class="local col3 decl" id="863bs" title='bs' data-type='BlockDriverState *' data-ref="863bs">bs</dfn>, <a class="typedef" href="../qemu/typedefs.h.html#Error" title='Error' data-type='struct Error' data-ref="Error">Error</a> **<dfn class="local col4 decl" id="864errp" title='errp' data-type='Error **' data-ref="864errp">errp</dfn>);</td></tr>
<tr><th id="284">284</th><td></td></tr>
<tr><th id="285">285</th><td>    <i>/*</i></td></tr>
<tr><th id="286">286</th><td><i>     * Returns 1 if newly created images are guaranteed to contain only</i></td></tr>
<tr><th id="287">287</th><td><i>     * zeros, 0 otherwise.</i></td></tr>
<tr><th id="288">288</th><td><i>     */</i></td></tr>
<tr><th id="289">289</th><td>    <em>int</em> (*<dfn class="decl" id="BlockDriver::bdrv_has_zero_init" title='BlockDriver::bdrv_has_zero_init' data-ref="BlockDriver::bdrv_has_zero_init">bdrv_has_zero_init</dfn>)(<a class="typedef" href="../qemu/typedefs.h.html#BlockDriverState" title='BlockDriverState' data-type='struct BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a> *<dfn class="local col5 decl" id="865bs" title='bs' data-type='BlockDriverState *' data-ref="865bs">bs</dfn>);</td></tr>
<tr><th id="290">290</th><td></td></tr>
<tr><th id="291">291</th><td>    <i>/* Remove fd handlers, timers, and other event loop callbacks so the event</i></td></tr>
<tr><th id="292">292</th><td><i>     * loop is no longer in use.  Called with no in-flight requests and in</i></td></tr>
<tr><th id="293">293</th><td><i>     * depth-first traversal order with parents before child nodes.</i></td></tr>
<tr><th id="294">294</th><td><i>     */</i></td></tr>
<tr><th id="295">295</th><td>    <em>void</em> (*<dfn class="decl" id="BlockDriver::bdrv_detach_aio_context" title='BlockDriver::bdrv_detach_aio_context' data-ref="BlockDriver::bdrv_detach_aio_context">bdrv_detach_aio_context</dfn>)(<a class="typedef" href="../qemu/typedefs.h.html#BlockDriverState" title='BlockDriverState' data-type='struct BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a> *<dfn class="local col6 decl" id="866bs" title='bs' data-type='BlockDriverState *' data-ref="866bs">bs</dfn>);</td></tr>
<tr><th id="296">296</th><td></td></tr>
<tr><th id="297">297</th><td>    <i>/* Add fd handlers, timers, and other event loop callbacks so I/O requests</i></td></tr>
<tr><th id="298">298</th><td><i>     * can be processed again.  Called with no in-flight requests and in</i></td></tr>
<tr><th id="299">299</th><td><i>     * depth-first traversal order with child nodes before parent nodes.</i></td></tr>
<tr><th id="300">300</th><td><i>     */</i></td></tr>
<tr><th id="301">301</th><td>    <em>void</em> (*<dfn class="decl" id="BlockDriver::bdrv_attach_aio_context" title='BlockDriver::bdrv_attach_aio_context' data-ref="BlockDriver::bdrv_attach_aio_context">bdrv_attach_aio_context</dfn>)(<a class="typedef" href="../qemu/typedefs.h.html#BlockDriverState" title='BlockDriverState' data-type='struct BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a> *<dfn class="local col7 decl" id="867bs" title='bs' data-type='BlockDriverState *' data-ref="867bs">bs</dfn>,</td></tr>
<tr><th id="302">302</th><td>                                    <a class="typedef" href="../qemu/typedefs.h.html#AioContext" title='AioContext' data-type='struct AioContext' data-ref="AioContext">AioContext</a> *<dfn class="local col8 decl" id="868new_context" title='new_context' data-type='AioContext *' data-ref="868new_context">new_context</dfn>);</td></tr>
<tr><th id="303">303</th><td></td></tr>
<tr><th id="304">304</th><td>    <i>/* io queue for linux-aio */</i></td></tr>
<tr><th id="305">305</th><td>    <em>void</em> (*<dfn class="decl" id="BlockDriver::bdrv_io_plug" title='BlockDriver::bdrv_io_plug' data-ref="BlockDriver::bdrv_io_plug">bdrv_io_plug</dfn>)(<a class="typedef" href="../qemu/typedefs.h.html#BlockDriverState" title='BlockDriverState' data-type='struct BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a> *<dfn class="local col9 decl" id="869bs" title='bs' data-type='BlockDriverState *' data-ref="869bs">bs</dfn>);</td></tr>
<tr><th id="306">306</th><td>    <em>void</em> (*<dfn class="decl" id="BlockDriver::bdrv_io_unplug" title='BlockDriver::bdrv_io_unplug' data-ref="BlockDriver::bdrv_io_unplug">bdrv_io_unplug</dfn>)(<a class="typedef" href="../qemu/typedefs.h.html#BlockDriverState" title='BlockDriverState' data-type='struct BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a> *<dfn class="local col0 decl" id="870bs" title='bs' data-type='BlockDriverState *' data-ref="870bs">bs</dfn>);</td></tr>
<tr><th id="307">307</th><td></td></tr>
<tr><th id="308">308</th><td>    <i class="doc">/**</i></td></tr>
<tr><th id="309">309</th><td><i class="doc">     * Try to get<span class="command"> @bs</span><span class="arg">'s</span> logical and physical block size.</i></td></tr>
<tr><th id="310">310</th><td><i class="doc">     * On success, store them in<span class="command"> @bsz</span> and return zero.</i></td></tr>
<tr><th id="311">311</th><td><i class="doc">     * On failure, return negative errno.</i></td></tr>
<tr><th id="312">312</th><td><i class="doc">     */</i></td></tr>
<tr><th id="313">313</th><td>    <em>int</em> (*<dfn class="decl" id="BlockDriver::bdrv_probe_blocksizes" title='BlockDriver::bdrv_probe_blocksizes' data-ref="BlockDriver::bdrv_probe_blocksizes">bdrv_probe_blocksizes</dfn>)(<a class="typedef" href="../qemu/typedefs.h.html#BlockDriverState" title='BlockDriverState' data-type='struct BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a> *<dfn class="local col1 decl" id="871bs" title='bs' data-type='BlockDriverState *' data-ref="871bs">bs</dfn>, <a class="typedef" href="block.h.html#BlockSizes" title='BlockSizes' data-type='struct BlockSizes' data-ref="BlockSizes">BlockSizes</a> *<dfn class="local col2 decl" id="872bsz" title='bsz' data-type='BlockSizes *' data-ref="872bsz">bsz</dfn>);</td></tr>
<tr><th id="314">314</th><td>    <i class="doc">/**</i></td></tr>
<tr><th id="315">315</th><td><i class="doc">     * Try to get<span class="command"> @bs</span><span class="arg">'s</span> geometry (cyls, heads, sectors)</i></td></tr>
<tr><th id="316">316</th><td><i class="doc">     * On success, store them in<span class="command"> @geo</span> and return 0.</i></td></tr>
<tr><th id="317">317</th><td><i class="doc">     * On failure return -errno.</i></td></tr>
<tr><th id="318">318</th><td><i class="doc">     * Only drivers that want to override guest geometry implement this</i></td></tr>
<tr><th id="319">319</th><td><i class="doc">     * callback; see hd_geometry_guess().</i></td></tr>
<tr><th id="320">320</th><td><i class="doc">     */</i></td></tr>
<tr><th id="321">321</th><td>    <em>int</em> (*<dfn class="decl" id="BlockDriver::bdrv_probe_geometry" title='BlockDriver::bdrv_probe_geometry' data-ref="BlockDriver::bdrv_probe_geometry">bdrv_probe_geometry</dfn>)(<a class="typedef" href="../qemu/typedefs.h.html#BlockDriverState" title='BlockDriverState' data-type='struct BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a> *<dfn class="local col3 decl" id="873bs" title='bs' data-type='BlockDriverState *' data-ref="873bs">bs</dfn>, <a class="typedef" href="block.h.html#HDGeometry" title='HDGeometry' data-type='struct HDGeometry' data-ref="HDGeometry">HDGeometry</a> *<dfn class="local col4 decl" id="874geo" title='geo' data-type='HDGeometry *' data-ref="874geo">geo</dfn>);</td></tr>
<tr><th id="322">322</th><td></td></tr>
<tr><th id="323">323</th><td>    <i class="doc">/**</i></td></tr>
<tr><th id="324">324</th><td><i class="doc">     * Drain and stop any internal sources of requests in the driver, and</i></td></tr>
<tr><th id="325">325</th><td><i class="doc">     * remain so until next I/O callback (e.g. bdrv_co_writev) is called.</i></td></tr>
<tr><th id="326">326</th><td><i class="doc">     */</i></td></tr>
<tr><th id="327">327</th><td>    <em>void</em> <a class="macro" href="../qemu/coroutine.h.html#45" title="" data-ref="_M/coroutine_fn">coroutine_fn</a> (*<dfn class="decl" id="BlockDriver::bdrv_co_drain" title='BlockDriver::bdrv_co_drain' data-ref="BlockDriver::bdrv_co_drain">bdrv_co_drain</dfn>)(<a class="typedef" href="../qemu/typedefs.h.html#BlockDriverState" title='BlockDriverState' data-type='struct BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a> *<dfn class="local col5 decl" id="875bs" title='bs' data-type='BlockDriverState *' data-ref="875bs">bs</dfn>);</td></tr>
<tr><th id="328">328</th><td></td></tr>
<tr><th id="329">329</th><td>    <em>void</em> (*<dfn class="decl" id="BlockDriver::bdrv_add_child" title='BlockDriver::bdrv_add_child' data-ref="BlockDriver::bdrv_add_child">bdrv_add_child</dfn>)(<a class="typedef" href="../qemu/typedefs.h.html#BlockDriverState" title='BlockDriverState' data-type='struct BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a> *<dfn class="local col6 decl" id="876parent" title='parent' data-type='BlockDriverState *' data-ref="876parent">parent</dfn>, <a class="typedef" href="../qemu/typedefs.h.html#BlockDriverState" title='BlockDriverState' data-type='struct BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a> *<dfn class="local col7 decl" id="877child" title='child' data-type='BlockDriverState *' data-ref="877child">child</dfn>,</td></tr>
<tr><th id="330">330</th><td>                           <a class="typedef" href="../qemu/typedefs.h.html#Error" title='Error' data-type='struct Error' data-ref="Error">Error</a> **<dfn class="local col8 decl" id="878errp" title='errp' data-type='Error **' data-ref="878errp">errp</dfn>);</td></tr>
<tr><th id="331">331</th><td>    <em>void</em> (*<dfn class="decl" id="BlockDriver::bdrv_del_child" title='BlockDriver::bdrv_del_child' data-ref="BlockDriver::bdrv_del_child">bdrv_del_child</dfn>)(<a class="typedef" href="../qemu/typedefs.h.html#BlockDriverState" title='BlockDriverState' data-type='struct BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a> *<dfn class="local col9 decl" id="879parent" title='parent' data-type='BlockDriverState *' data-ref="879parent">parent</dfn>, <a class="typedef" href="block.h.html#BdrvChild" title='BdrvChild' data-type='struct BdrvChild' data-ref="BdrvChild">BdrvChild</a> *<dfn class="local col0 decl" id="880child" title='child' data-type='BdrvChild *' data-ref="880child">child</dfn>,</td></tr>
<tr><th id="332">332</th><td>                           <a class="typedef" href="../qemu/typedefs.h.html#Error" title='Error' data-type='struct Error' data-ref="Error">Error</a> **<dfn class="local col1 decl" id="881errp" title='errp' data-type='Error **' data-ref="881errp">errp</dfn>);</td></tr>
<tr><th id="333">333</th><td></td></tr>
<tr><th id="334">334</th><td>    <i class="doc">/**</i></td></tr>
<tr><th id="335">335</th><td><i class="doc">     * Informs the block driver that a permission change is intended. The</i></td></tr>
<tr><th id="336">336</th><td><i class="doc">     * driver checks whether the change is permissible and may take other</i></td></tr>
<tr><th id="337">337</th><td><i class="doc">     * preparations for the change (e.g. get file system locks). This operation</i></td></tr>
<tr><th id="338">338</th><td><i class="doc">     * is always followed either by a call to either .bdrv_set_perm or</i></td></tr>
<tr><th id="339">339</th><td><i class="doc">     * .bdrv_abort_perm_update.</i></td></tr>
<tr><th id="340">340</th><td><i class="doc">     *</i></td></tr>
<tr><th id="341">341</th><td><i class="doc">     * Checks whether the requested set of cumulative permissions in<span class="command"> @perm</span></i></td></tr>
<tr><th id="342">342</th><td><i class="doc">     * can be granted for accessing<span class="command"> @bs</span> <span class="arg">and</span> whether no other users are using</i></td></tr>
<tr><th id="343">343</th><td><i class="doc">     * permissions other than those given in<span class="command"> @shared</span> (both arguments take</i></td></tr>
<tr><th id="344">344</th><td><i class="doc">     * BLK_PERM_* bitmasks).</i></td></tr>
<tr><th id="345">345</th><td><i class="doc">     *</i></td></tr>
<tr><th id="346">346</th><td><i class="doc">     * If both conditions are met, 0 is returned. Otherwise, -errno is returned</i></td></tr>
<tr><th id="347">347</th><td><i class="doc">     * and errp is set to an error describing the conflict.</i></td></tr>
<tr><th id="348">348</th><td><i class="doc">     */</i></td></tr>
<tr><th id="349">349</th><td>    <em>int</em> (*<dfn class="decl" id="BlockDriver::bdrv_check_perm" title='BlockDriver::bdrv_check_perm' data-ref="BlockDriver::bdrv_check_perm">bdrv_check_perm</dfn>)(<a class="typedef" href="../qemu/typedefs.h.html#BlockDriverState" title='BlockDriverState' data-type='struct BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a> *<dfn class="local col2 decl" id="882bs" title='bs' data-type='BlockDriverState *' data-ref="882bs">bs</dfn>, <a class="typedef" href="../../../include/stdint.h.html#uint64_t" title='uint64_t' data-type='unsigned long' data-ref="uint64_t">uint64_t</a> <dfn class="local col3 decl" id="883perm" title='perm' data-type='uint64_t' data-ref="883perm">perm</dfn>,</td></tr>
<tr><th id="350">350</th><td>                           <a class="typedef" href="../../../include/stdint.h.html#uint64_t" title='uint64_t' data-type='unsigned long' data-ref="uint64_t">uint64_t</a> <dfn class="local col4 decl" id="884shared" title='shared' data-type='uint64_t' data-ref="884shared">shared</dfn>, <a class="typedef" href="../qemu/typedefs.h.html#Error" title='Error' data-type='struct Error' data-ref="Error">Error</a> **<dfn class="local col5 decl" id="885errp" title='errp' data-type='Error **' data-ref="885errp">errp</dfn>);</td></tr>
<tr><th id="351">351</th><td></td></tr>
<tr><th id="352">352</th><td>    <i class="doc">/**</i></td></tr>
<tr><th id="353">353</th><td><i class="doc">     * Called to inform the driver that the set of cumulative set of used</i></td></tr>
<tr><th id="354">354</th><td><i class="doc">     * permissions for<span class="command"> @bs</span> <span class="arg">has</span> changed to<span class="command"> @perm</span>, and the set of sharable</i></td></tr>
<tr><th id="355">355</th><td><i class="doc">     * permission to<span class="command"> @shared</span>. The driver can use this to propagate changes to</i></td></tr>
<tr><th id="356">356</th><td><i class="doc">     * its children (i.e. request permissions only if a parent actually needs</i></td></tr>
<tr><th id="357">357</th><td><i class="doc">     * them).</i></td></tr>
<tr><th id="358">358</th><td><i class="doc">     *</i></td></tr>
<tr><th id="359">359</th><td><i class="doc">     * This function is only invoked after bdrv_check_perm(), so block drivers</i></td></tr>
<tr><th id="360">360</th><td><i class="doc">     * may rely on preparations made in their .bdrv_check_perm implementation.</i></td></tr>
<tr><th id="361">361</th><td><i class="doc">     */</i></td></tr>
<tr><th id="362">362</th><td>    <em>void</em> (*<dfn class="decl" id="BlockDriver::bdrv_set_perm" title='BlockDriver::bdrv_set_perm' data-ref="BlockDriver::bdrv_set_perm">bdrv_set_perm</dfn>)(<a class="typedef" href="../qemu/typedefs.h.html#BlockDriverState" title='BlockDriverState' data-type='struct BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a> *<dfn class="local col6 decl" id="886bs" title='bs' data-type='BlockDriverState *' data-ref="886bs">bs</dfn>, <a class="typedef" href="../../../include/stdint.h.html#uint64_t" title='uint64_t' data-type='unsigned long' data-ref="uint64_t">uint64_t</a> <dfn class="local col7 decl" id="887perm" title='perm' data-type='uint64_t' data-ref="887perm">perm</dfn>, <a class="typedef" href="../../../include/stdint.h.html#uint64_t" title='uint64_t' data-type='unsigned long' data-ref="uint64_t">uint64_t</a> <dfn class="local col8 decl" id="888shared" title='shared' data-type='uint64_t' data-ref="888shared">shared</dfn>);</td></tr>
<tr><th id="363">363</th><td></td></tr>
<tr><th id="364">364</th><td>    <i>/*</i></td></tr>
<tr><th id="365">365</th><td><i>     * Called to inform the driver that after a previous bdrv_check_perm()</i></td></tr>
<tr><th id="366">366</th><td><i>     * call, the permission update is not performed and any preparations made</i></td></tr>
<tr><th id="367">367</th><td><i>     * for it (e.g. taken file locks) need to be undone.</i></td></tr>
<tr><th id="368">368</th><td><i>     *</i></td></tr>
<tr><th id="369">369</th><td><i>     * This function can be called even for nodes that never saw a</i></td></tr>
<tr><th id="370">370</th><td><i>     * bdrv_check_perm() call. It is a no-op then.</i></td></tr>
<tr><th id="371">371</th><td><i>     */</i></td></tr>
<tr><th id="372">372</th><td>    <em>void</em> (*<dfn class="decl" id="BlockDriver::bdrv_abort_perm_update" title='BlockDriver::bdrv_abort_perm_update' data-ref="BlockDriver::bdrv_abort_perm_update">bdrv_abort_perm_update</dfn>)(<a class="typedef" href="../qemu/typedefs.h.html#BlockDriverState" title='BlockDriverState' data-type='struct BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a> *<dfn class="local col9 decl" id="889bs" title='bs' data-type='BlockDriverState *' data-ref="889bs">bs</dfn>);</td></tr>
<tr><th id="373">373</th><td></td></tr>
<tr><th id="374">374</th><td>    <i class="doc">/**</i></td></tr>
<tr><th id="375">375</th><td><i class="doc">     * Returns in<span class="command"> @nperm</span> and<span class="command"> @nshared</span> the permissions that the driver for<span class="command"> @bs</span></i></td></tr>
<tr><th id="376">376</th><td><i class="doc">     * <span class="arg">needs</span> on its child<span class="command"> @c</span><span class="arg">,</span> based on the cumulative permissions requested by</i></td></tr>
<tr><th id="377">377</th><td><i class="doc">     * the parents in<span class="command"> @parent</span>_perm and<span class="command"> @parent</span>_shared.</i></td></tr>
<tr><th id="378">378</th><td><i class="doc">     *</i></td></tr>
<tr><th id="379">379</th><td><i class="doc">     * If<span class="command"> @c</span> <span class="arg">is</span> NULL, return the permissions for attaching a new child for the</i></td></tr>
<tr><th id="380">380</th><td><i class="doc">     * given<span class="command"> @role</span>.</i></td></tr>
<tr><th id="381">381</th><td><i class="doc">     */</i></td></tr>
<tr><th id="382">382</th><td>     <em>void</em> (*<dfn class="decl" id="BlockDriver::bdrv_child_perm" title='BlockDriver::bdrv_child_perm' data-ref="BlockDriver::bdrv_child_perm">bdrv_child_perm</dfn>)(<a class="typedef" href="../qemu/typedefs.h.html#BlockDriverState" title='BlockDriverState' data-type='struct BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a> *<dfn class="local col0 decl" id="890bs" title='bs' data-type='BlockDriverState *' data-ref="890bs">bs</dfn>, <a class="typedef" href="block.h.html#BdrvChild" title='BdrvChild' data-type='struct BdrvChild' data-ref="BdrvChild">BdrvChild</a> *<dfn class="local col1 decl" id="891c" title='c' data-type='BdrvChild *' data-ref="891c">c</dfn>,</td></tr>
<tr><th id="383">383</th><td>                             <em>const</em> <a class="typedef" href="block.h.html#BdrvChildRole" title='BdrvChildRole' data-type='struct BdrvChildRole' data-ref="BdrvChildRole">BdrvChildRole</a> *<dfn class="local col2 decl" id="892role" title='role' data-type='const BdrvChildRole *' data-ref="892role">role</dfn>,</td></tr>
<tr><th id="384">384</th><td>                             <a class="typedef" href="../../../include/stdint.h.html#uint64_t" title='uint64_t' data-type='unsigned long' data-ref="uint64_t">uint64_t</a> <dfn class="local col3 decl" id="893parent_perm" title='parent_perm' data-type='uint64_t' data-ref="893parent_perm">parent_perm</dfn>, <a class="typedef" href="../../../include/stdint.h.html#uint64_t" title='uint64_t' data-type='unsigned long' data-ref="uint64_t">uint64_t</a> <dfn class="local col4 decl" id="894parent_shared" title='parent_shared' data-type='uint64_t' data-ref="894parent_shared">parent_shared</dfn>,</td></tr>
<tr><th id="385">385</th><td>                             <a class="typedef" href="../../../include/stdint.h.html#uint64_t" title='uint64_t' data-type='unsigned long' data-ref="uint64_t">uint64_t</a> *<dfn class="local col5 decl" id="895nperm" title='nperm' data-type='uint64_t *' data-ref="895nperm">nperm</dfn>, <a class="typedef" href="../../../include/stdint.h.html#uint64_t" title='uint64_t' data-type='unsigned long' data-ref="uint64_t">uint64_t</a> *<dfn class="local col6 decl" id="896nshared" title='nshared' data-type='uint64_t *' data-ref="896nshared">nshared</dfn>);</td></tr>
<tr><th id="386">386</th><td></td></tr>
<tr><th id="387">387</th><td>    <i class="doc">/**</i></td></tr>
<tr><th id="388">388</th><td><i class="doc">     * Bitmaps should be marked as 'IN_USE' in the image on reopening image</i></td></tr>
<tr><th id="389">389</th><td><i class="doc">     * as rw. This handler should realize it. It also should unset readonly</i></td></tr>
<tr><th id="390">390</th><td><i class="doc">     * field of BlockDirtyBitmap's in case of success.</i></td></tr>
<tr><th id="391">391</th><td><i class="doc">     */</i></td></tr>
<tr><th id="392">392</th><td>    <em>int</em> (*<dfn class="decl" id="BlockDriver::bdrv_reopen_bitmaps_rw" title='BlockDriver::bdrv_reopen_bitmaps_rw' data-ref="BlockDriver::bdrv_reopen_bitmaps_rw">bdrv_reopen_bitmaps_rw</dfn>)(<a class="typedef" href="../qemu/typedefs.h.html#BlockDriverState" title='BlockDriverState' data-type='struct BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a> *<dfn class="local col7 decl" id="897bs" title='bs' data-type='BlockDriverState *' data-ref="897bs">bs</dfn>, <a class="typedef" href="../qemu/typedefs.h.html#Error" title='Error' data-type='struct Error' data-ref="Error">Error</a> **<dfn class="local col8 decl" id="898errp" title='errp' data-type='Error **' data-ref="898errp">errp</dfn>);</td></tr>
<tr><th id="393">393</th><td>    <span class="macro" title="_Bool" data-ref="_M/bool">bool</span> (*<dfn class="decl" id="BlockDriver::bdrv_can_store_new_dirty_bitmap" title='BlockDriver::bdrv_can_store_new_dirty_bitmap' data-ref="BlockDriver::bdrv_can_store_new_dirty_bitmap">bdrv_can_store_new_dirty_bitmap</dfn>)(<a class="typedef" href="../qemu/typedefs.h.html#BlockDriverState" title='BlockDriverState' data-type='struct BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a> *<dfn class="local col9 decl" id="899bs" title='bs' data-type='BlockDriverState *' data-ref="899bs">bs</dfn>,</td></tr>
<tr><th id="394">394</th><td>                                            <em>const</em> <em>char</em> *<dfn class="local col0 decl" id="900name" title='name' data-type='const char *' data-ref="900name">name</dfn>,</td></tr>
<tr><th id="395">395</th><td>                                            <a class="typedef" href="../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> <dfn class="local col1 decl" id="901granularity" title='granularity' data-type='uint32_t' data-ref="901granularity">granularity</dfn>,</td></tr>
<tr><th id="396">396</th><td>                                            <a class="typedef" href="../qemu/typedefs.h.html#Error" title='Error' data-type='struct Error' data-ref="Error">Error</a> **<dfn class="local col2 decl" id="902errp" title='errp' data-type='Error **' data-ref="902errp">errp</dfn>);</td></tr>
<tr><th id="397">397</th><td>    <em>void</em> (*<dfn class="decl" id="BlockDriver::bdrv_remove_persistent_dirty_bitmap" title='BlockDriver::bdrv_remove_persistent_dirty_bitmap' data-ref="BlockDriver::bdrv_remove_persistent_dirty_bitmap">bdrv_remove_persistent_dirty_bitmap</dfn>)(<a class="typedef" href="../qemu/typedefs.h.html#BlockDriverState" title='BlockDriverState' data-type='struct BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a> *<dfn class="local col3 decl" id="903bs" title='bs' data-type='BlockDriverState *' data-ref="903bs">bs</dfn>,</td></tr>
<tr><th id="398">398</th><td>                                                <em>const</em> <em>char</em> *<dfn class="local col4 decl" id="904name" title='name' data-type='const char *' data-ref="904name">name</dfn>,</td></tr>
<tr><th id="399">399</th><td>                                                <a class="typedef" href="../qemu/typedefs.h.html#Error" title='Error' data-type='struct Error' data-ref="Error">Error</a> **<dfn class="local col5 decl" id="905errp" title='errp' data-type='Error **' data-ref="905errp">errp</dfn>);</td></tr>
<tr><th id="400">400</th><td></td></tr>
<tr><th id="401">401</th><td>    <a class="macro" href="../qemu/queue.h.html#94" title="struct { struct BlockDriver *le_next; struct BlockDriver **le_prev; }" data-ref="_M/QLIST_ENTRY">QLIST_ENTRY</a>(<a class="type" href="#BlockDriver" title='BlockDriver' data-ref="BlockDriver">BlockDriver</a>) <dfn class="decl" id="BlockDriver::list" title='BlockDriver::list' data-ref="BlockDriver::list">list</dfn>;</td></tr>
<tr><th id="402">402</th><td>};</td></tr>
<tr><th id="403">403</th><td></td></tr>
<tr><th id="404">404</th><td><b>typedef</b> <b>struct</b> <dfn class="type def" id="BlockLimits" title='BlockLimits' data-ref="BlockLimits"><a class="type" href="#BlockLimits" title='BlockLimits' data-ref="BlockLimits">BlockLimits</a></dfn> {</td></tr>
<tr><th id="405">405</th><td>    <i>/* Alignment requirement, in bytes, for offset/length of I/O</i></td></tr>
<tr><th id="406">406</th><td><i>     * requests. Must be a power of 2 less than INT_MAX; defaults to</i></td></tr>
<tr><th id="407">407</th><td><i>     * 1 for drivers with modern byte interfaces, and to 512</i></td></tr>
<tr><th id="408">408</th><td><i>     * otherwise. */</i></td></tr>
<tr><th id="409">409</th><td>    <a class="typedef" href="../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> <dfn class="decl" id="BlockLimits::request_alignment" title='BlockLimits::request_alignment' data-ref="BlockLimits::request_alignment">request_alignment</dfn>;</td></tr>
<tr><th id="410">410</th><td></td></tr>
<tr><th id="411">411</th><td>    <i>/* Maximum number of bytes that can be discarded at once (since it</i></td></tr>
<tr><th id="412">412</th><td><i>     * is signed, it must be &lt; 2G, if set). Must be multiple of</i></td></tr>
<tr><th id="413">413</th><td><i>     * pdiscard_alignment, but need not be power of 2. May be 0 if no</i></td></tr>
<tr><th id="414">414</th><td><i>     * inherent 32-bit limit */</i></td></tr>
<tr><th id="415">415</th><td>    <a class="typedef" href="../../../include/stdint.h.html#int32_t" title='int32_t' data-type='int' data-ref="int32_t">int32_t</a> <dfn class="decl" id="BlockLimits::max_pdiscard" title='BlockLimits::max_pdiscard' data-ref="BlockLimits::max_pdiscard">max_pdiscard</dfn>;</td></tr>
<tr><th id="416">416</th><td></td></tr>
<tr><th id="417">417</th><td>    <i>/* Optimal alignment for discard requests in bytes. A power of 2</i></td></tr>
<tr><th id="418">418</th><td><i>     * is best but not mandatory.  Must be a multiple of</i></td></tr>
<tr><th id="419">419</th><td><i>     * bl.request_alignment, and must be less than max_pdiscard if</i></td></tr>
<tr><th id="420">420</th><td><i>     * that is set. May be 0 if bl.request_alignment is good enough */</i></td></tr>
<tr><th id="421">421</th><td>    <a class="typedef" href="../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> <dfn class="decl" id="BlockLimits::pdiscard_alignment" title='BlockLimits::pdiscard_alignment' data-ref="BlockLimits::pdiscard_alignment">pdiscard_alignment</dfn>;</td></tr>
<tr><th id="422">422</th><td></td></tr>
<tr><th id="423">423</th><td>    <i>/* Maximum number of bytes that can zeroized at once (since it is</i></td></tr>
<tr><th id="424">424</th><td><i>     * signed, it must be &lt; 2G, if set). Must be multiple of</i></td></tr>
<tr><th id="425">425</th><td><i>     * pwrite_zeroes_alignment. May be 0 if no inherent 32-bit limit */</i></td></tr>
<tr><th id="426">426</th><td>    <a class="typedef" href="../../../include/stdint.h.html#int32_t" title='int32_t' data-type='int' data-ref="int32_t">int32_t</a> <dfn class="decl" id="BlockLimits::max_pwrite_zeroes" title='BlockLimits::max_pwrite_zeroes' data-ref="BlockLimits::max_pwrite_zeroes">max_pwrite_zeroes</dfn>;</td></tr>
<tr><th id="427">427</th><td></td></tr>
<tr><th id="428">428</th><td>    <i>/* Optimal alignment for write zeroes requests in bytes. A power</i></td></tr>
<tr><th id="429">429</th><td><i>     * of 2 is best but not mandatory.  Must be a multiple of</i></td></tr>
<tr><th id="430">430</th><td><i>     * bl.request_alignment, and must be less than max_pwrite_zeroes</i></td></tr>
<tr><th id="431">431</th><td><i>     * if that is set. May be 0 if bl.request_alignment is good</i></td></tr>
<tr><th id="432">432</th><td><i>     * enough */</i></td></tr>
<tr><th id="433">433</th><td>    <a class="typedef" href="../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> <dfn class="decl" id="BlockLimits::pwrite_zeroes_alignment" title='BlockLimits::pwrite_zeroes_alignment' data-ref="BlockLimits::pwrite_zeroes_alignment">pwrite_zeroes_alignment</dfn>;</td></tr>
<tr><th id="434">434</th><td></td></tr>
<tr><th id="435">435</th><td>    <i>/* Optimal transfer length in bytes.  A power of 2 is best but not</i></td></tr>
<tr><th id="436">436</th><td><i>     * mandatory.  Must be a multiple of bl.request_alignment, or 0 if</i></td></tr>
<tr><th id="437">437</th><td><i>     * no preferred size */</i></td></tr>
<tr><th id="438">438</th><td>    <a class="typedef" href="../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> <dfn class="decl" id="BlockLimits::opt_transfer" title='BlockLimits::opt_transfer' data-ref="BlockLimits::opt_transfer">opt_transfer</dfn>;</td></tr>
<tr><th id="439">439</th><td></td></tr>
<tr><th id="440">440</th><td>    <i>/* Maximal transfer length in bytes.  Need not be power of 2, but</i></td></tr>
<tr><th id="441">441</th><td><i>     * must be multiple of opt_transfer and bl.request_alignment, or 0</i></td></tr>
<tr><th id="442">442</th><td><i>     * for no 32-bit limit.  For now, anything larger than INT_MAX is</i></td></tr>
<tr><th id="443">443</th><td><i>     * clamped down. */</i></td></tr>
<tr><th id="444">444</th><td>    <a class="typedef" href="../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> <dfn class="decl" id="BlockLimits::max_transfer" title='BlockLimits::max_transfer' data-ref="BlockLimits::max_transfer">max_transfer</dfn>;</td></tr>
<tr><th id="445">445</th><td></td></tr>
<tr><th id="446">446</th><td>    <i>/* memory alignment, in bytes so that no bounce buffer is needed */</i></td></tr>
<tr><th id="447">447</th><td>    <span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t">size_t</span> <dfn class="decl" id="BlockLimits::min_mem_alignment" title='BlockLimits::min_mem_alignment' data-ref="BlockLimits::min_mem_alignment">min_mem_alignment</dfn>;</td></tr>
<tr><th id="448">448</th><td></td></tr>
<tr><th id="449">449</th><td>    <i>/* memory alignment, in bytes, for bounce buffer */</i></td></tr>
<tr><th id="450">450</th><td>    <span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t">size_t</span> <dfn class="decl" id="BlockLimits::opt_mem_alignment" title='BlockLimits::opt_mem_alignment' data-ref="BlockLimits::opt_mem_alignment">opt_mem_alignment</dfn>;</td></tr>
<tr><th id="451">451</th><td></td></tr>
<tr><th id="452">452</th><td>    <i>/* maximum number of iovec elements */</i></td></tr>
<tr><th id="453">453</th><td>    <em>int</em> <dfn class="decl" id="BlockLimits::max_iov" title='BlockLimits::max_iov' data-ref="BlockLimits::max_iov">max_iov</dfn>;</td></tr>
<tr><th id="454">454</th><td>} <dfn class="typedef" id="BlockLimits" title='BlockLimits' data-type='struct BlockLimits' data-ref="BlockLimits">BlockLimits</dfn>;</td></tr>
<tr><th id="455">455</th><td></td></tr>
<tr><th id="456">456</th><td><b>typedef</b> <b>struct</b> <a class="type" href="../../block.c.html#BdrvOpBlocker" title='BdrvOpBlocker' data-ref="BdrvOpBlocker" id="BdrvOpBlocker"><a class="type" href="../../block.c.html#BdrvOpBlocker" title='BdrvOpBlocker' data-ref="BdrvOpBlocker">BdrvOpBlocker</a></a> <dfn class="typedef" id="BdrvOpBlocker" title='BdrvOpBlocker' data-type='struct BdrvOpBlocker' data-ref="BdrvOpBlocker">BdrvOpBlocker</dfn>;</td></tr>
<tr><th id="457">457</th><td></td></tr>
<tr><th id="458">458</th><td><b>typedef</b> <b>struct</b> <dfn class="type def" id="BdrvAioNotifier" title='BdrvAioNotifier' data-ref="BdrvAioNotifier"><a class="type" href="#BdrvAioNotifier" title='BdrvAioNotifier' data-ref="BdrvAioNotifier">BdrvAioNotifier</a></dfn> {</td></tr>
<tr><th id="459">459</th><td>    <em>void</em> (*<dfn class="decl" id="BdrvAioNotifier::attached_aio_context" title='BdrvAioNotifier::attached_aio_context' data-ref="BdrvAioNotifier::attached_aio_context">attached_aio_context</dfn>)(<a class="typedef" href="../qemu/typedefs.h.html#AioContext" title='AioContext' data-type='struct AioContext' data-ref="AioContext">AioContext</a> *<dfn class="local col6 decl" id="906new_context" title='new_context' data-type='AioContext *' data-ref="906new_context">new_context</dfn>, <em>void</em> *<dfn class="local col7 decl" id="907opaque" title='opaque' data-type='void *' data-ref="907opaque">opaque</dfn>);</td></tr>
<tr><th id="460">460</th><td>    <em>void</em> (*<dfn class="decl" id="BdrvAioNotifier::detach_aio_context" title='BdrvAioNotifier::detach_aio_context' data-ref="BdrvAioNotifier::detach_aio_context">detach_aio_context</dfn>)(<em>void</em> *<dfn class="local col8 decl" id="908opaque" title='opaque' data-type='void *' data-ref="908opaque">opaque</dfn>);</td></tr>
<tr><th id="461">461</th><td></td></tr>
<tr><th id="462">462</th><td>    <em>void</em> *<dfn class="decl" id="BdrvAioNotifier::opaque" title='BdrvAioNotifier::opaque' data-ref="BdrvAioNotifier::opaque">opaque</dfn>;</td></tr>
<tr><th id="463">463</th><td>    <span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="decl" id="BdrvAioNotifier::deleted" title='BdrvAioNotifier::deleted' data-ref="BdrvAioNotifier::deleted">deleted</dfn>;</td></tr>
<tr><th id="464">464</th><td></td></tr>
<tr><th id="465">465</th><td>    <a class="macro" href="../qemu/queue.h.html#94" title="struct { struct BdrvAioNotifier *le_next; struct BdrvAioNotifier **le_prev; }" data-ref="_M/QLIST_ENTRY">QLIST_ENTRY</a>(<a class="type" href="#BdrvAioNotifier" title='BdrvAioNotifier' data-ref="BdrvAioNotifier">BdrvAioNotifier</a>) <dfn class="decl" id="BdrvAioNotifier::list" title='BdrvAioNotifier::list' data-ref="BdrvAioNotifier::list">list</dfn>;</td></tr>
<tr><th id="466">466</th><td>} <dfn class="typedef" id="BdrvAioNotifier" title='BdrvAioNotifier' data-type='struct BdrvAioNotifier' data-ref="BdrvAioNotifier">BdrvAioNotifier</dfn>;</td></tr>
<tr><th id="467">467</th><td></td></tr>
<tr><th id="468">468</th><td><b>struct</b> <dfn class="type def" id="BdrvChildRole" title='BdrvChildRole' data-ref="BdrvChildRole">BdrvChildRole</dfn> {</td></tr>
<tr><th id="469">469</th><td>    <i>/* If true, bdrv_replace_node() doesn't change the node this BdrvChild</i></td></tr>
<tr><th id="470">470</th><td><i>     * points to. */</i></td></tr>
<tr><th id="471">471</th><td>    <span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="decl" id="BdrvChildRole::stay_at_node" title='BdrvChildRole::stay_at_node' data-ref="BdrvChildRole::stay_at_node">stay_at_node</dfn>;</td></tr>
<tr><th id="472">472</th><td></td></tr>
<tr><th id="473">473</th><td>    <em>void</em> (*<dfn class="decl" id="BdrvChildRole::inherit_options" title='BdrvChildRole::inherit_options' data-ref="BdrvChildRole::inherit_options">inherit_options</dfn>)(<em>int</em> *<dfn class="local col9 decl" id="909child_flags" title='child_flags' data-type='int *' data-ref="909child_flags">child_flags</dfn>, <a class="typedef" href="../qapi/qmp/qdict.h.html#QDict" title='QDict' data-type='struct QDict' data-ref="QDict">QDict</a> *<dfn class="local col0 decl" id="910child_options" title='child_options' data-type='QDict *' data-ref="910child_options">child_options</dfn>,</td></tr>
<tr><th id="474">474</th><td>                            <em>int</em> <dfn class="local col1 decl" id="911parent_flags" title='parent_flags' data-type='int' data-ref="911parent_flags">parent_flags</dfn>, <a class="typedef" href="../qapi/qmp/qdict.h.html#QDict" title='QDict' data-type='struct QDict' data-ref="QDict">QDict</a> *<dfn class="local col2 decl" id="912parent_options" title='parent_options' data-type='QDict *' data-ref="912parent_options">parent_options</dfn>);</td></tr>
<tr><th id="475">475</th><td></td></tr>
<tr><th id="476">476</th><td>    <em>void</em> (*<dfn class="decl" id="BdrvChildRole::change_media" title='BdrvChildRole::change_media' data-ref="BdrvChildRole::change_media">change_media</dfn>)(<a class="typedef" href="block.h.html#BdrvChild" title='BdrvChild' data-type='struct BdrvChild' data-ref="BdrvChild">BdrvChild</a> *<dfn class="local col3 decl" id="913child" title='child' data-type='BdrvChild *' data-ref="913child">child</dfn>, <span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="local col4 decl" id="914load" title='load' data-type='_Bool' data-ref="914load">load</dfn>);</td></tr>
<tr><th id="477">477</th><td>    <em>void</em> (*<dfn class="decl" id="BdrvChildRole::resize" title='BdrvChildRole::resize' data-ref="BdrvChildRole::resize">resize</dfn>)(<a class="typedef" href="block.h.html#BdrvChild" title='BdrvChild' data-type='struct BdrvChild' data-ref="BdrvChild">BdrvChild</a> *<dfn class="local col5 decl" id="915child" title='child' data-type='BdrvChild *' data-ref="915child">child</dfn>);</td></tr>
<tr><th id="478">478</th><td></td></tr>
<tr><th id="479">479</th><td>    <i>/* Returns a name that is supposedly more useful for human users than the</i></td></tr>
<tr><th id="480">480</th><td><i>     * node name for identifying the node in question (in particular, a BB</i></td></tr>
<tr><th id="481">481</th><td><i>     * name), or NULL if the parent can't provide a better name. */</i></td></tr>
<tr><th id="482">482</th><td>    <em>const</em> <em>char</em> *(*<dfn class="decl" id="BdrvChildRole::get_name" title='BdrvChildRole::get_name' data-ref="BdrvChildRole::get_name">get_name</dfn>)(<a class="typedef" href="block.h.html#BdrvChild" title='BdrvChild' data-type='struct BdrvChild' data-ref="BdrvChild">BdrvChild</a> *<dfn class="local col6 decl" id="916child" title='child' data-type='BdrvChild *' data-ref="916child">child</dfn>);</td></tr>
<tr><th id="483">483</th><td></td></tr>
<tr><th id="484">484</th><td>    <i>/* Returns a malloced string that describes the parent of the child for a</i></td></tr>
<tr><th id="485">485</th><td><i>     * human reader. This could be a node-name, BlockBackend name, qdev ID or</i></td></tr>
<tr><th id="486">486</th><td><i>     * QOM path of the device owning the BlockBackend, job type and ID etc. The</i></td></tr>
<tr><th id="487">487</th><td><i>     * caller is responsible for freeing the memory. */</i></td></tr>
<tr><th id="488">488</th><td>    <em>char</em> *(*<dfn class="decl" id="BdrvChildRole::get_parent_desc" title='BdrvChildRole::get_parent_desc' data-ref="BdrvChildRole::get_parent_desc">get_parent_desc</dfn>)(<a class="typedef" href="block.h.html#BdrvChild" title='BdrvChild' data-type='struct BdrvChild' data-ref="BdrvChild">BdrvChild</a> *<dfn class="local col7 decl" id="917child" title='child' data-type='BdrvChild *' data-ref="917child">child</dfn>);</td></tr>
<tr><th id="489">489</th><td></td></tr>
<tr><th id="490">490</th><td>    <i>/*</i></td></tr>
<tr><th id="491">491</th><td><i>     * If this pair of functions is implemented, the parent doesn't issue new</i></td></tr>
<tr><th id="492">492</th><td><i>     * requests after returning from .drained_begin() until .drained_end() is</i></td></tr>
<tr><th id="493">493</th><td><i>     * called.</i></td></tr>
<tr><th id="494">494</th><td><i>     *</i></td></tr>
<tr><th id="495">495</th><td><i>     * Note that this can be nested. If drained_begin() was called twice, new</i></td></tr>
<tr><th id="496">496</th><td><i>     * I/O is allowed only after drained_end() was called twice, too.</i></td></tr>
<tr><th id="497">497</th><td><i>     */</i></td></tr>
<tr><th id="498">498</th><td>    <em>void</em> (*<dfn class="decl" id="BdrvChildRole::drained_begin" title='BdrvChildRole::drained_begin' data-ref="BdrvChildRole::drained_begin">drained_begin</dfn>)(<a class="typedef" href="block.h.html#BdrvChild" title='BdrvChild' data-type='struct BdrvChild' data-ref="BdrvChild">BdrvChild</a> *<dfn class="local col8 decl" id="918child" title='child' data-type='BdrvChild *' data-ref="918child">child</dfn>);</td></tr>
<tr><th id="499">499</th><td>    <em>void</em> (*<dfn class="decl" id="BdrvChildRole::drained_end" title='BdrvChildRole::drained_end' data-ref="BdrvChildRole::drained_end">drained_end</dfn>)(<a class="typedef" href="block.h.html#BdrvChild" title='BdrvChild' data-type='struct BdrvChild' data-ref="BdrvChild">BdrvChild</a> *<dfn class="local col9 decl" id="919child" title='child' data-type='BdrvChild *' data-ref="919child">child</dfn>);</td></tr>
<tr><th id="500">500</th><td></td></tr>
<tr><th id="501">501</th><td>    <i>/* Notifies the parent that the child has been activated/inactivated (e.g.</i></td></tr>
<tr><th id="502">502</th><td><i>     * when migration is completing) and it can start/stop requesting</i></td></tr>
<tr><th id="503">503</th><td><i>     * permissions and doing I/O on it. */</i></td></tr>
<tr><th id="504">504</th><td>    <em>void</em> (*<dfn class="decl" id="BdrvChildRole::activate" title='BdrvChildRole::activate' data-ref="BdrvChildRole::activate">activate</dfn>)(<a class="typedef" href="block.h.html#BdrvChild" title='BdrvChild' data-type='struct BdrvChild' data-ref="BdrvChild">BdrvChild</a> *<dfn class="local col0 decl" id="920child" title='child' data-type='BdrvChild *' data-ref="920child">child</dfn>, <a class="typedef" href="../qemu/typedefs.h.html#Error" title='Error' data-type='struct Error' data-ref="Error">Error</a> **<dfn class="local col1 decl" id="921errp" title='errp' data-type='Error **' data-ref="921errp">errp</dfn>);</td></tr>
<tr><th id="505">505</th><td>    <em>int</em> (*<dfn class="decl" id="BdrvChildRole::inactivate" title='BdrvChildRole::inactivate' data-ref="BdrvChildRole::inactivate">inactivate</dfn>)(<a class="typedef" href="block.h.html#BdrvChild" title='BdrvChild' data-type='struct BdrvChild' data-ref="BdrvChild">BdrvChild</a> *<dfn class="local col2 decl" id="922child" title='child' data-type='BdrvChild *' data-ref="922child">child</dfn>);</td></tr>
<tr><th id="506">506</th><td></td></tr>
<tr><th id="507">507</th><td>    <em>void</em> (*<dfn class="decl" id="BdrvChildRole::attach" title='BdrvChildRole::attach' data-ref="BdrvChildRole::attach">attach</dfn>)(<a class="typedef" href="block.h.html#BdrvChild" title='BdrvChild' data-type='struct BdrvChild' data-ref="BdrvChild">BdrvChild</a> *<dfn class="local col3 decl" id="923child" title='child' data-type='BdrvChild *' data-ref="923child">child</dfn>);</td></tr>
<tr><th id="508">508</th><td>    <em>void</em> (*<dfn class="decl" id="BdrvChildRole::detach" title='BdrvChildRole::detach' data-ref="BdrvChildRole::detach">detach</dfn>)(<a class="typedef" href="block.h.html#BdrvChild" title='BdrvChild' data-type='struct BdrvChild' data-ref="BdrvChild">BdrvChild</a> *<dfn class="local col4 decl" id="924child" title='child' data-type='BdrvChild *' data-ref="924child">child</dfn>);</td></tr>
<tr><th id="509">509</th><td>};</td></tr>
<tr><th id="510">510</th><td></td></tr>
<tr><th id="511">511</th><td><b>extern</b> <em>const</em> <a class="typedef" href="block.h.html#BdrvChildRole" title='BdrvChildRole' data-type='struct BdrvChildRole' data-ref="BdrvChildRole">BdrvChildRole</a> <dfn class="decl" id="child_file" title='child_file' data-ref="child_file">child_file</dfn>;</td></tr>
<tr><th id="512">512</th><td><b>extern</b> <em>const</em> <a class="typedef" href="block.h.html#BdrvChildRole" title='BdrvChildRole' data-type='struct BdrvChildRole' data-ref="BdrvChildRole">BdrvChildRole</a> <dfn class="decl" id="child_format" title='child_format' data-ref="child_format">child_format</dfn>;</td></tr>
<tr><th id="513">513</th><td><b>extern</b> <em>const</em> <a class="typedef" href="block.h.html#BdrvChildRole" title='BdrvChildRole' data-type='struct BdrvChildRole' data-ref="BdrvChildRole">BdrvChildRole</a> <dfn class="decl" id="child_backing" title='child_backing' data-ref="child_backing">child_backing</dfn>;</td></tr>
<tr><th id="514">514</th><td></td></tr>
<tr><th id="515">515</th><td><b>struct</b> <dfn class="type def" id="BdrvChild" title='BdrvChild' data-ref="BdrvChild">BdrvChild</dfn> {</td></tr>
<tr><th id="516">516</th><td>    <a class="typedef" href="../qemu/typedefs.h.html#BlockDriverState" title='BlockDriverState' data-type='struct BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a> *<dfn class="decl" id="BdrvChild::bs" title='BdrvChild::bs' data-ref="BdrvChild::bs">bs</dfn>;</td></tr>
<tr><th id="517">517</th><td>    <em>char</em> *<dfn class="decl" id="BdrvChild::name" title='BdrvChild::name' data-ref="BdrvChild::name">name</dfn>;</td></tr>
<tr><th id="518">518</th><td>    <em>const</em> <a class="typedef" href="block.h.html#BdrvChildRole" title='BdrvChildRole' data-type='struct BdrvChildRole' data-ref="BdrvChildRole">BdrvChildRole</a> *<dfn class="decl" id="BdrvChild::role" title='BdrvChild::role' data-ref="BdrvChild::role">role</dfn>;</td></tr>
<tr><th id="519">519</th><td>    <em>void</em> *<dfn class="decl" id="BdrvChild::opaque" title='BdrvChild::opaque' data-ref="BdrvChild::opaque">opaque</dfn>;</td></tr>
<tr><th id="520">520</th><td></td></tr>
<tr><th id="521">521</th><td>    <i class="doc">/**</i></td></tr>
<tr><th id="522">522</th><td><i class="doc">     * Granted permissions for operating on this BdrvChild (BLK_PERM_* bitmask)</i></td></tr>
<tr><th id="523">523</th><td><i class="doc">     */</i></td></tr>
<tr><th id="524">524</th><td>    <a class="typedef" href="../../../include/stdint.h.html#uint64_t" title='uint64_t' data-type='unsigned long' data-ref="uint64_t">uint64_t</a> <dfn class="decl" id="BdrvChild::perm" title='BdrvChild::perm' data-ref="BdrvChild::perm">perm</dfn>;</td></tr>
<tr><th id="525">525</th><td></td></tr>
<tr><th id="526">526</th><td>    <i class="doc">/**</i></td></tr>
<tr><th id="527">527</th><td><i class="doc">     * Permissions that can still be granted to other users of<span class="command"> @bs</span> <span class="arg">while</span> this</i></td></tr>
<tr><th id="528">528</th><td><i class="doc">     * BdrvChild is still attached to it. (BLK_PERM_* bitmask)</i></td></tr>
<tr><th id="529">529</th><td><i class="doc">     */</i></td></tr>
<tr><th id="530">530</th><td>    <a class="typedef" href="../../../include/stdint.h.html#uint64_t" title='uint64_t' data-type='unsigned long' data-ref="uint64_t">uint64_t</a> <dfn class="decl" id="BdrvChild::shared_perm" title='BdrvChild::shared_perm' data-ref="BdrvChild::shared_perm">shared_perm</dfn>;</td></tr>
<tr><th id="531">531</th><td></td></tr>
<tr><th id="532">532</th><td>    <a class="macro" href="../qemu/queue.h.html#94" title="struct { struct BdrvChild *le_next; struct BdrvChild **le_prev; }" data-ref="_M/QLIST_ENTRY">QLIST_ENTRY</a>(<a class="type" href="#BdrvChild" title='BdrvChild' data-ref="BdrvChild">BdrvChild</a>) <dfn class="decl" id="BdrvChild::next" title='BdrvChild::next' data-ref="BdrvChild::next">next</dfn>;</td></tr>
<tr><th id="533">533</th><td>    <a class="macro" href="../qemu/queue.h.html#94" title="struct { struct BdrvChild *le_next; struct BdrvChild **le_prev; }" data-ref="_M/QLIST_ENTRY">QLIST_ENTRY</a>(<a class="type" href="#BdrvChild" title='BdrvChild' data-ref="BdrvChild">BdrvChild</a>) <dfn class="decl" id="BdrvChild::next_parent" title='BdrvChild::next_parent' data-ref="BdrvChild::next_parent">next_parent</dfn>;</td></tr>
<tr><th id="534">534</th><td>};</td></tr>
<tr><th id="535">535</th><td></td></tr>
<tr><th id="536">536</th><td><i>/*</i></td></tr>
<tr><th id="537">537</th><td><i> * Note: the function bdrv_append() copies and swaps contents of</i></td></tr>
<tr><th id="538">538</th><td><i> * BlockDriverStates, so if you add new fields to this struct, please</i></td></tr>
<tr><th id="539">539</th><td><i> * inspect bdrv_append() to determine if the new fields need to be</i></td></tr>
<tr><th id="540">540</th><td><i> * copied as well.</i></td></tr>
<tr><th id="541">541</th><td><i> */</i></td></tr>
<tr><th id="542">542</th><td><b>struct</b> <dfn class="type def" id="BlockDriverState" title='BlockDriverState' data-ref="BlockDriverState">BlockDriverState</dfn> {</td></tr>
<tr><th id="543">543</th><td>    <i>/* Protected by big QEMU lock or read-only after opening.  No special</i></td></tr>
<tr><th id="544">544</th><td><i>     * locking needed during I/O...</i></td></tr>
<tr><th id="545">545</th><td><i>     */</i></td></tr>
<tr><th id="546">546</th><td>    <em>int</em> <dfn class="decl" id="BlockDriverState::open_flags" title='BlockDriverState::open_flags' data-ref="BlockDriverState::open_flags">open_flags</dfn>; <i>/* flags used to open the file, re-used for re-open */</i></td></tr>
<tr><th id="547">547</th><td>    <span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="decl" id="BlockDriverState::read_only" title='BlockDriverState::read_only' data-ref="BlockDriverState::read_only">read_only</dfn>; <i>/* if true, the media is read only */</i></td></tr>
<tr><th id="548">548</th><td>    <span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="decl" id="BlockDriverState::encrypted" title='BlockDriverState::encrypted' data-ref="BlockDriverState::encrypted">encrypted</dfn>; <i>/* if true, the media is encrypted */</i></td></tr>
<tr><th id="549">549</th><td>    <span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="decl" id="BlockDriverState::sg" title='BlockDriverState::sg' data-ref="BlockDriverState::sg">sg</dfn>;        <i>/* if true, the device is a /dev/sg* */</i></td></tr>
<tr><th id="550">550</th><td>    <span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="decl" id="BlockDriverState::probed" title='BlockDriverState::probed' data-ref="BlockDriverState::probed">probed</dfn>;    <i>/* if true, format was probed rather than specified */</i></td></tr>
<tr><th id="551">551</th><td>    <span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="decl" id="BlockDriverState::force_share" title='BlockDriverState::force_share' data-ref="BlockDriverState::force_share">force_share</dfn>; <i>/* if true, always allow all shared permissions */</i></td></tr>
<tr><th id="552">552</th><td>    <span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="decl" id="BlockDriverState::implicit" title='BlockDriverState::implicit' data-ref="BlockDriverState::implicit">implicit</dfn>;  <i>/* if true, this filter node was automatically inserted */</i></td></tr>
<tr><th id="553">553</th><td></td></tr>
<tr><th id="554">554</th><td>    <a class="typedef" href="block.h.html#BlockDriver" title='BlockDriver' data-type='struct BlockDriver' data-ref="BlockDriver">BlockDriver</a> *<dfn class="decl" id="BlockDriverState::drv" title='BlockDriverState::drv' data-ref="BlockDriverState::drv">drv</dfn>; <i>/* NULL means no media */</i></td></tr>
<tr><th id="555">555</th><td>    <em>void</em> *<dfn class="decl" id="BlockDriverState::opaque" title='BlockDriverState::opaque' data-ref="BlockDriverState::opaque">opaque</dfn>;</td></tr>
<tr><th id="556">556</th><td></td></tr>
<tr><th id="557">557</th><td>    <a class="typedef" href="../qemu/typedefs.h.html#AioContext" title='AioContext' data-type='struct AioContext' data-ref="AioContext">AioContext</a> *<dfn class="decl" id="BlockDriverState::aio_context" title='BlockDriverState::aio_context' data-ref="BlockDriverState::aio_context">aio_context</dfn>; <i>/* event loop used for fd handlers, timers, etc */</i></td></tr>
<tr><th id="558">558</th><td>    <i>/* long-running tasks intended to always use the same AioContext as this</i></td></tr>
<tr><th id="559">559</th><td><i>     * BDS may register themselves in this list to be notified of changes</i></td></tr>
<tr><th id="560">560</th><td><i>     * regarding this BDS's context */</i></td></tr>
<tr><th id="561">561</th><td>    <a class="macro" href="../qemu/queue.h.html#86" title="struct { struct BdrvAioNotifier *lh_first; }" data-ref="_M/QLIST_HEAD">QLIST_HEAD</a>(, <a class="type" href="#BdrvAioNotifier" title='BdrvAioNotifier' data-ref="BdrvAioNotifier">BdrvAioNotifier</a>) <dfn class="decl" id="BlockDriverState::aio_notifiers" title='BlockDriverState::aio_notifiers' data-ref="BlockDriverState::aio_notifiers">aio_notifiers</dfn>;</td></tr>
<tr><th id="562">562</th><td>    <span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="decl" id="BlockDriverState::walking_aio_notifiers" title='BlockDriverState::walking_aio_notifiers' data-ref="BlockDriverState::walking_aio_notifiers">walking_aio_notifiers</dfn>; <i>/* to make removal during iteration safe */</i></td></tr>
<tr><th id="563">563</th><td></td></tr>
<tr><th id="564">564</th><td>    <em>char</em> <dfn class="decl" id="BlockDriverState::filename" title='BlockDriverState::filename' data-ref="BlockDriverState::filename">filename</dfn>[<a class="macro" href="../../../include/linux/limits.h.html#12" title="4096" data-ref="_M/PATH_MAX">PATH_MAX</a>];</td></tr>
<tr><th id="565">565</th><td>    <em>char</em> <dfn class="decl" id="BlockDriverState::backing_file" title='BlockDriverState::backing_file' data-ref="BlockDriverState::backing_file">backing_file</dfn>[<a class="macro" href="../../../include/linux/limits.h.html#12" title="4096" data-ref="_M/PATH_MAX">PATH_MAX</a>]; <i>/* if non zero, the image is a diff of</i></td></tr>
<tr><th id="566">566</th><td><i>                                    this file image */</i></td></tr>
<tr><th id="567">567</th><td>    <em>char</em> <dfn class="decl" id="BlockDriverState::backing_format" title='BlockDriverState::backing_format' data-ref="BlockDriverState::backing_format">backing_format</dfn>[<var>16</var>]; <i>/* if non-zero and backing_file exists */</i></td></tr>
<tr><th id="568">568</th><td></td></tr>
<tr><th id="569">569</th><td>    <a class="typedef" href="../qapi/qmp/qdict.h.html#QDict" title='QDict' data-type='struct QDict' data-ref="QDict">QDict</a> *<dfn class="decl" id="BlockDriverState::full_open_options" title='BlockDriverState::full_open_options' data-ref="BlockDriverState::full_open_options">full_open_options</dfn>;</td></tr>
<tr><th id="570">570</th><td>    <em>char</em> <dfn class="decl" id="BlockDriverState::exact_filename" title='BlockDriverState::exact_filename' data-ref="BlockDriverState::exact_filename">exact_filename</dfn>[<a class="macro" href="../../../include/linux/limits.h.html#12" title="4096" data-ref="_M/PATH_MAX">PATH_MAX</a>];</td></tr>
<tr><th id="571">571</th><td></td></tr>
<tr><th id="572">572</th><td>    <a class="typedef" href="block.h.html#BdrvChild" title='BdrvChild' data-type='struct BdrvChild' data-ref="BdrvChild">BdrvChild</a> *<dfn class="decl" id="BlockDriverState::backing" title='BlockDriverState::backing' data-ref="BlockDriverState::backing">backing</dfn>;</td></tr>
<tr><th id="573">573</th><td>    <a class="typedef" href="block.h.html#BdrvChild" title='BdrvChild' data-type='struct BdrvChild' data-ref="BdrvChild">BdrvChild</a> *<dfn class="decl" id="BlockDriverState::file" title='BlockDriverState::file' data-ref="BlockDriverState::file">file</dfn>;</td></tr>
<tr><th id="574">574</th><td></td></tr>
<tr><th id="575">575</th><td>    <i>/* I/O Limits */</i></td></tr>
<tr><th id="576">576</th><td>    <a class="typedef" href="#BlockLimits" title='BlockLimits' data-type='struct BlockLimits' data-ref="BlockLimits">BlockLimits</a> <dfn class="decl" id="BlockDriverState::bl" title='BlockDriverState::bl' data-ref="BlockDriverState::bl">bl</dfn>;</td></tr>
<tr><th id="577">577</th><td></td></tr>
<tr><th id="578">578</th><td>    <i>/* Flags honored during pwrite (so far: BDRV_REQ_FUA) */</i></td></tr>
<tr><th id="579">579</th><td>    <em>unsigned</em> <em>int</em> <dfn class="decl" id="BlockDriverState::supported_write_flags" title='BlockDriverState::supported_write_flags' data-ref="BlockDriverState::supported_write_flags">supported_write_flags</dfn>;</td></tr>
<tr><th id="580">580</th><td>    <i>/* Flags honored during pwrite_zeroes (so far: BDRV_REQ_FUA,</i></td></tr>
<tr><th id="581">581</th><td><i>     * BDRV_REQ_MAY_UNMAP) */</i></td></tr>
<tr><th id="582">582</th><td>    <em>unsigned</em> <em>int</em> <dfn class="decl" id="BlockDriverState::supported_zero_flags" title='BlockDriverState::supported_zero_flags' data-ref="BlockDriverState::supported_zero_flags">supported_zero_flags</dfn>;</td></tr>
<tr><th id="583">583</th><td></td></tr>
<tr><th id="584">584</th><td>    <i>/* the following member gives a name to every node on the bs graph. */</i></td></tr>
<tr><th id="585">585</th><td>    <em>char</em> <dfn class="decl" id="BlockDriverState::node_name" title='BlockDriverState::node_name' data-ref="BlockDriverState::node_name">node_name</dfn>[<var>32</var>];</td></tr>
<tr><th id="586">586</th><td>    <i>/* element of the list of named nodes building the graph */</i></td></tr>
<tr><th id="587">587</th><td>    <a class="macro" href="../qemu/queue.h.html#359" title="struct { struct BlockDriverState *tqe_next; struct BlockDriverState * *tqe_prev; }" data-ref="_M/QTAILQ_ENTRY">QTAILQ_ENTRY</a>(<a class="type" href="#BlockDriverState" title='BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a>) <dfn class="decl" id="BlockDriverState::node_list" title='BlockDriverState::node_list' data-ref="BlockDriverState::node_list">node_list</dfn>;</td></tr>
<tr><th id="588">588</th><td>    <i>/* element of the list of all BlockDriverStates (all_bdrv_states) */</i></td></tr>
<tr><th id="589">589</th><td>    <a class="macro" href="../qemu/queue.h.html#359" title="struct { struct BlockDriverState *tqe_next; struct BlockDriverState * *tqe_prev; }" data-ref="_M/QTAILQ_ENTRY">QTAILQ_ENTRY</a>(<a class="type" href="#BlockDriverState" title='BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a>) <dfn class="decl" id="BlockDriverState::bs_list" title='BlockDriverState::bs_list' data-ref="BlockDriverState::bs_list">bs_list</dfn>;</td></tr>
<tr><th id="590">590</th><td>    <i>/* element of the list of monitor-owned BDS */</i></td></tr>
<tr><th id="591">591</th><td>    <a class="macro" href="../qemu/queue.h.html#359" title="struct { struct BlockDriverState *tqe_next; struct BlockDriverState * *tqe_prev; }" data-ref="_M/QTAILQ_ENTRY">QTAILQ_ENTRY</a>(<a class="type" href="#BlockDriverState" title='BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a>) <dfn class="decl" id="BlockDriverState::monitor_list" title='BlockDriverState::monitor_list' data-ref="BlockDriverState::monitor_list">monitor_list</dfn>;</td></tr>
<tr><th id="592">592</th><td>    <em>int</em> <dfn class="decl" id="BlockDriverState::refcnt" title='BlockDriverState::refcnt' data-ref="BlockDriverState::refcnt">refcnt</dfn>;</td></tr>
<tr><th id="593">593</th><td></td></tr>
<tr><th id="594">594</th><td>    <i>/* operation blockers */</i></td></tr>
<tr><th id="595">595</th><td>    <a class="macro" href="../qemu/queue.h.html#86" title="struct { struct BdrvOpBlocker *lh_first; }" data-ref="_M/QLIST_HEAD">QLIST_HEAD</a>(, <a class="type" href="../../block.c.html#BdrvOpBlocker" title='BdrvOpBlocker' data-ref="BdrvOpBlocker">BdrvOpBlocker</a>) <dfn class="decl" id="BlockDriverState::op_blockers" title='BlockDriverState::op_blockers' data-ref="BlockDriverState::op_blockers">op_blockers</dfn>[<a class="enum" href="block.h.html#BlockOpType::BLOCK_OP_TYPE_MAX" title='BlockOpType::BLOCK_OP_TYPE_MAX' data-ref="BlockOpType::BLOCK_OP_TYPE_MAX">BLOCK_OP_TYPE_MAX</a>];</td></tr>
<tr><th id="596">596</th><td></td></tr>
<tr><th id="597">597</th><td>    <i>/* long-running background operation */</i></td></tr>
<tr><th id="598">598</th><td>    <a class="typedef" href="blockjob.h.html#BlockJob" title='BlockJob' data-type='struct BlockJob' data-ref="BlockJob">BlockJob</a> *<dfn class="decl" id="BlockDriverState::job" title='BlockDriverState::job' data-ref="BlockDriverState::job">job</dfn>;</td></tr>
<tr><th id="599">599</th><td></td></tr>
<tr><th id="600">600</th><td>    <i>/* The node that this node inherited default options from (and a reopen on</i></td></tr>
<tr><th id="601">601</th><td><i>     * which can affect this node by changing these defaults). This is always a</i></td></tr>
<tr><th id="602">602</th><td><i>     * parent node of this node. */</i></td></tr>
<tr><th id="603">603</th><td>    <a class="typedef" href="../qemu/typedefs.h.html#BlockDriverState" title='BlockDriverState' data-type='struct BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a> *<dfn class="decl" id="BlockDriverState::inherits_from" title='BlockDriverState::inherits_from' data-ref="BlockDriverState::inherits_from">inherits_from</dfn>;</td></tr>
<tr><th id="604">604</th><td>    <a class="macro" href="../qemu/queue.h.html#86" title="struct { struct BdrvChild *lh_first; }" data-ref="_M/QLIST_HEAD">QLIST_HEAD</a>(, <a class="type" href="#BdrvChild" title='BdrvChild' data-ref="BdrvChild">BdrvChild</a>) <dfn class="decl" id="BlockDriverState::children" title='BlockDriverState::children' data-ref="BlockDriverState::children">children</dfn>;</td></tr>
<tr><th id="605">605</th><td>    <a class="macro" href="../qemu/queue.h.html#86" title="struct { struct BdrvChild *lh_first; }" data-ref="_M/QLIST_HEAD">QLIST_HEAD</a>(, <a class="type" href="#BdrvChild" title='BdrvChild' data-ref="BdrvChild">BdrvChild</a>) <dfn class="decl" id="BlockDriverState::parents" title='BlockDriverState::parents' data-ref="BlockDriverState::parents">parents</dfn>;</td></tr>
<tr><th id="606">606</th><td></td></tr>
<tr><th id="607">607</th><td>    <a class="typedef" href="../qapi/qmp/qdict.h.html#QDict" title='QDict' data-type='struct QDict' data-ref="QDict">QDict</a> *<dfn class="decl" id="BlockDriverState::options" title='BlockDriverState::options' data-ref="BlockDriverState::options">options</dfn>;</td></tr>
<tr><th id="608">608</th><td>    <a class="typedef" href="../qapi/qmp/qdict.h.html#QDict" title='QDict' data-type='struct QDict' data-ref="QDict">QDict</a> *<dfn class="decl" id="BlockDriverState::explicit_options" title='BlockDriverState::explicit_options' data-ref="BlockDriverState::explicit_options">explicit_options</dfn>;</td></tr>
<tr><th id="609">609</th><td>    <a class="typedef" href="../../qapi-types.h.html#BlockdevDetectZeroesOptions" title='BlockdevDetectZeroesOptions' data-type='enum BlockdevDetectZeroesOptions' data-ref="BlockdevDetectZeroesOptions">BlockdevDetectZeroesOptions</a> <dfn class="decl" id="BlockDriverState::detect_zeroes" title='BlockDriverState::detect_zeroes' data-ref="BlockDriverState::detect_zeroes">detect_zeroes</dfn>;</td></tr>
<tr><th id="610">610</th><td></td></tr>
<tr><th id="611">611</th><td>    <i>/* The error object in use for blocking operations on backing_hd */</i></td></tr>
<tr><th id="612">612</th><td>    <a class="typedef" href="../qemu/typedefs.h.html#Error" title='Error' data-type='struct Error' data-ref="Error">Error</a> *<dfn class="decl" id="BlockDriverState::backing_blocker" title='BlockDriverState::backing_blocker' data-ref="BlockDriverState::backing_blocker">backing_blocker</dfn>;</td></tr>
<tr><th id="613">613</th><td></td></tr>
<tr><th id="614">614</th><td>    <i>/* Protected by AioContext lock */</i></td></tr>
<tr><th id="615">615</th><td></td></tr>
<tr><th id="616">616</th><td>    <i>/* If we are reading a disk image, give its size in sectors.</i></td></tr>
<tr><th id="617">617</th><td><i>     * Generally read-only; it is written to by load_snapshot and</i></td></tr>
<tr><th id="618">618</th><td><i>     * save_snaphost, but the block layer is quiescent during those.</i></td></tr>
<tr><th id="619">619</th><td><i>     */</i></td></tr>
<tr><th id="620">620</th><td>    <a class="typedef" href="../../../include/stdint.h.html#int64_t" title='int64_t' data-type='long' data-ref="int64_t">int64_t</a> <dfn class="decl" id="BlockDriverState::total_sectors" title='BlockDriverState::total_sectors' data-ref="BlockDriverState::total_sectors">total_sectors</dfn>;</td></tr>
<tr><th id="621">621</th><td></td></tr>
<tr><th id="622">622</th><td>    <i>/* Callback before write request is processed */</i></td></tr>
<tr><th id="623">623</th><td>    <a class="typedef" href="../qemu/notify.h.html#NotifierWithReturnList" title='NotifierWithReturnList' data-type='struct NotifierWithReturnList' data-ref="NotifierWithReturnList">NotifierWithReturnList</a> <dfn class="decl" id="BlockDriverState::before_write_notifiers" title='BlockDriverState::before_write_notifiers' data-ref="BlockDriverState::before_write_notifiers">before_write_notifiers</dfn>;</td></tr>
<tr><th id="624">624</th><td></td></tr>
<tr><th id="625">625</th><td>    <i>/* threshold limit for writes, in bytes. "High water mark". */</i></td></tr>
<tr><th id="626">626</th><td>    <a class="typedef" href="../../../include/stdint.h.html#uint64_t" title='uint64_t' data-type='unsigned long' data-ref="uint64_t">uint64_t</a> <dfn class="decl" id="BlockDriverState::write_threshold_offset" title='BlockDriverState::write_threshold_offset' data-ref="BlockDriverState::write_threshold_offset">write_threshold_offset</dfn>;</td></tr>
<tr><th id="627">627</th><td>    <a class="typedef" href="../qemu/notify.h.html#NotifierWithReturn" title='NotifierWithReturn' data-type='struct NotifierWithReturn' data-ref="NotifierWithReturn">NotifierWithReturn</a> <dfn class="decl" id="BlockDriverState::write_threshold_notifier" title='BlockDriverState::write_threshold_notifier' data-ref="BlockDriverState::write_threshold_notifier">write_threshold_notifier</dfn>;</td></tr>
<tr><th id="628">628</th><td></td></tr>
<tr><th id="629">629</th><td>    <i>/* Writing to the list requires the BQL _and_ the dirty_bitmap_mutex.</i></td></tr>
<tr><th id="630">630</th><td><i>     * Reading from the list can be done with either the BQL or the</i></td></tr>
<tr><th id="631">631</th><td><i>     * dirty_bitmap_mutex.  Modifying a bitmap only requires</i></td></tr>
<tr><th id="632">632</th><td><i>     * dirty_bitmap_mutex.  */</i></td></tr>
<tr><th id="633">633</th><td>    <a class="typedef" href="../qemu/thread.h.html#QemuMutex" title='QemuMutex' data-type='struct QemuMutex' data-ref="QemuMutex">QemuMutex</a> <dfn class="decl" id="BlockDriverState::dirty_bitmap_mutex" title='BlockDriverState::dirty_bitmap_mutex' data-ref="BlockDriverState::dirty_bitmap_mutex">dirty_bitmap_mutex</dfn>;</td></tr>
<tr><th id="634">634</th><td>    <a class="macro" href="../qemu/queue.h.html#86" title="struct { struct BdrvDirtyBitmap *lh_first; }" data-ref="_M/QLIST_HEAD">QLIST_HEAD</a>(, <a class="type" href="../qemu/typedefs.h.html#BdrvDirtyBitmap" title='BdrvDirtyBitmap' data-ref="BdrvDirtyBitmap">BdrvDirtyBitmap</a>) <dfn class="decl" id="BlockDriverState::dirty_bitmaps" title='BlockDriverState::dirty_bitmaps' data-ref="BlockDriverState::dirty_bitmaps">dirty_bitmaps</dfn>;</td></tr>
<tr><th id="635">635</th><td></td></tr>
<tr><th id="636">636</th><td>    <i>/* Offset after the highest byte written to */</i></td></tr>
<tr><th id="637">637</th><td>    <a class="typedef" href="../qemu/stats64.h.html#Stat64" title='Stat64' data-type='struct Stat64' data-ref="Stat64">Stat64</a> <dfn class="decl" id="BlockDriverState::wr_highest_offset" title='BlockDriverState::wr_highest_offset' data-ref="BlockDriverState::wr_highest_offset">wr_highest_offset</dfn>;</td></tr>
<tr><th id="638">638</th><td></td></tr>
<tr><th id="639">639</th><td>    <i>/* If true, copy read backing sectors into image.  Can be &gt;1 if more</i></td></tr>
<tr><th id="640">640</th><td><i>     * than one client has requested copy-on-read.  Accessed with atomic</i></td></tr>
<tr><th id="641">641</th><td><i>     * ops.</i></td></tr>
<tr><th id="642">642</th><td><i>     */</i></td></tr>
<tr><th id="643">643</th><td>    <em>int</em> <dfn class="decl" id="BlockDriverState::copy_on_read" title='BlockDriverState::copy_on_read' data-ref="BlockDriverState::copy_on_read">copy_on_read</dfn>;</td></tr>
<tr><th id="644">644</th><td></td></tr>
<tr><th id="645">645</th><td>    <i>/* number of in-flight requests; overall and serialising.</i></td></tr>
<tr><th id="646">646</th><td><i>     * Accessed with atomic ops.</i></td></tr>
<tr><th id="647">647</th><td><i>     */</i></td></tr>
<tr><th id="648">648</th><td>    <em>unsigned</em> <em>int</em> <dfn class="decl" id="BlockDriverState::in_flight" title='BlockDriverState::in_flight' data-ref="BlockDriverState::in_flight">in_flight</dfn>;</td></tr>
<tr><th id="649">649</th><td>    <em>unsigned</em> <em>int</em> <dfn class="decl" id="BlockDriverState::serialising_in_flight" title='BlockDriverState::serialising_in_flight' data-ref="BlockDriverState::serialising_in_flight">serialising_in_flight</dfn>;</td></tr>
<tr><th id="650">650</th><td></td></tr>
<tr><th id="651">651</th><td>    <i>/* Internal to BDRV_POLL_WHILE and bdrv_wakeup.  Accessed with atomic</i></td></tr>
<tr><th id="652">652</th><td><i>     * ops.</i></td></tr>
<tr><th id="653">653</th><td><i>     */</i></td></tr>
<tr><th id="654">654</th><td>    <span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="decl" id="BlockDriverState::wakeup" title='BlockDriverState::wakeup' data-ref="BlockDriverState::wakeup">wakeup</dfn>;</td></tr>
<tr><th id="655">655</th><td></td></tr>
<tr><th id="656">656</th><td>    <i>/* counter for nested bdrv_io_plug.</i></td></tr>
<tr><th id="657">657</th><td><i>     * Accessed with atomic ops.</i></td></tr>
<tr><th id="658">658</th><td><i>    */</i></td></tr>
<tr><th id="659">659</th><td>    <em>unsigned</em> <dfn class="decl" id="BlockDriverState::io_plugged" title='BlockDriverState::io_plugged' data-ref="BlockDriverState::io_plugged">io_plugged</dfn>;</td></tr>
<tr><th id="660">660</th><td></td></tr>
<tr><th id="661">661</th><td>    <i>/* do we need to tell the quest if we have a volatile write cache? */</i></td></tr>
<tr><th id="662">662</th><td>    <em>int</em> <dfn class="decl" id="BlockDriverState::enable_write_cache" title='BlockDriverState::enable_write_cache' data-ref="BlockDriverState::enable_write_cache">enable_write_cache</dfn>;</td></tr>
<tr><th id="663">663</th><td></td></tr>
<tr><th id="664">664</th><td>    <i>/* Accessed with atomic ops.  */</i></td></tr>
<tr><th id="665">665</th><td>    <em>int</em> <dfn class="decl" id="BlockDriverState::quiesce_counter" title='BlockDriverState::quiesce_counter' data-ref="BlockDriverState::quiesce_counter">quiesce_counter</dfn>;</td></tr>
<tr><th id="666">666</th><td>    <em>unsigned</em> <em>int</em> <dfn class="decl" id="BlockDriverState::write_gen" title='BlockDriverState::write_gen' data-ref="BlockDriverState::write_gen">write_gen</dfn>;               <i>/* Current data generation */</i></td></tr>
<tr><th id="667">667</th><td></td></tr>
<tr><th id="668">668</th><td>    <i>/* Protected by reqs_lock.  */</i></td></tr>
<tr><th id="669">669</th><td>    <a class="typedef" href="../qemu/coroutine.h.html#CoMutex" title='CoMutex' data-type='struct CoMutex' data-ref="CoMutex">CoMutex</a> <dfn class="decl" id="BlockDriverState::reqs_lock" title='BlockDriverState::reqs_lock' data-ref="BlockDriverState::reqs_lock">reqs_lock</dfn>;</td></tr>
<tr><th id="670">670</th><td>    <a class="macro" href="../qemu/queue.h.html#86" title="struct { struct BdrvTrackedRequest *lh_first; }" data-ref="_M/QLIST_HEAD">QLIST_HEAD</a>(, <a class="type" href="#BdrvTrackedRequest" title='BdrvTrackedRequest' data-ref="BdrvTrackedRequest">BdrvTrackedRequest</a>) <dfn class="decl" id="BlockDriverState::tracked_requests" title='BlockDriverState::tracked_requests' data-ref="BlockDriverState::tracked_requests">tracked_requests</dfn>;</td></tr>
<tr><th id="671">671</th><td>    <a class="typedef" href="../qemu/coroutine.h.html#CoQueue" title='CoQueue' data-type='struct CoQueue' data-ref="CoQueue">CoQueue</a> <dfn class="decl" id="BlockDriverState::flush_queue" title='BlockDriverState::flush_queue' data-ref="BlockDriverState::flush_queue">flush_queue</dfn>;                  <i>/* Serializing flush queue */</i></td></tr>
<tr><th id="672">672</th><td>    <span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="decl" id="BlockDriverState::active_flush_req" title='BlockDriverState::active_flush_req' data-ref="BlockDriverState::active_flush_req">active_flush_req</dfn>;                <i>/* Flush request in flight? */</i></td></tr>
<tr><th id="673">673</th><td></td></tr>
<tr><th id="674">674</th><td>    <i>/* Only read/written by whoever has set active_flush_req to true.  */</i></td></tr>
<tr><th id="675">675</th><td>    <em>unsigned</em> <em>int</em> <dfn class="decl" id="BlockDriverState::flushed_gen" title='BlockDriverState::flushed_gen' data-ref="BlockDriverState::flushed_gen">flushed_gen</dfn>;             <i>/* Flushed write generation */</i></td></tr>
<tr><th id="676">676</th><td>};</td></tr>
<tr><th id="677">677</th><td></td></tr>
<tr><th id="678">678</th><td><b>struct</b> <dfn class="type def" id="BlockBackendRootState" title='BlockBackendRootState' data-ref="BlockBackendRootState">BlockBackendRootState</dfn> {</td></tr>
<tr><th id="679">679</th><td>    <em>int</em> <dfn class="decl" id="BlockBackendRootState::open_flags" title='BlockBackendRootState::open_flags' data-ref="BlockBackendRootState::open_flags">open_flags</dfn>;</td></tr>
<tr><th id="680">680</th><td>    <span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="decl" id="BlockBackendRootState::read_only" title='BlockBackendRootState::read_only' data-ref="BlockBackendRootState::read_only">read_only</dfn>;</td></tr>
<tr><th id="681">681</th><td>    <a class="typedef" href="../../qapi-types.h.html#BlockdevDetectZeroesOptions" title='BlockdevDetectZeroesOptions' data-type='enum BlockdevDetectZeroesOptions' data-ref="BlockdevDetectZeroesOptions">BlockdevDetectZeroesOptions</a> <dfn class="decl" id="BlockBackendRootState::detect_zeroes" title='BlockBackendRootState::detect_zeroes' data-ref="BlockBackendRootState::detect_zeroes">detect_zeroes</dfn>;</td></tr>
<tr><th id="682">682</th><td>};</td></tr>
<tr><th id="683">683</th><td></td></tr>
<tr><th id="684">684</th><td><b>typedef</b> <b>enum</b> <dfn class="type def" id="BlockMirrorBackingMode" title='BlockMirrorBackingMode' data-ref="BlockMirrorBackingMode"><a class="type" href="#BlockMirrorBackingMode" title='BlockMirrorBackingMode' data-ref="BlockMirrorBackingMode">BlockMirrorBackingMode</a></dfn> {</td></tr>
<tr><th id="685">685</th><td>    <i>/* Reuse the existing backing chain from the source for the target.</i></td></tr>
<tr><th id="686">686</th><td><i>     * - sync=full: Set backing BDS to NULL.</i></td></tr>
<tr><th id="687">687</th><td><i>     * - sync=top:  Use source's backing BDS.</i></td></tr>
<tr><th id="688">688</th><td><i>     * - sync=none: Use source as the backing BDS. */</i></td></tr>
<tr><th id="689">689</th><td>    <dfn class="enum" id="BlockMirrorBackingMode::MIRROR_SOURCE_BACKING_CHAIN" title='BlockMirrorBackingMode::MIRROR_SOURCE_BACKING_CHAIN' data-ref="BlockMirrorBackingMode::MIRROR_SOURCE_BACKING_CHAIN">MIRROR_SOURCE_BACKING_CHAIN</dfn>,</td></tr>
<tr><th id="690">690</th><td></td></tr>
<tr><th id="691">691</th><td>    <i>/* Open the target's backing chain completely anew */</i></td></tr>
<tr><th id="692">692</th><td>    <dfn class="enum" id="BlockMirrorBackingMode::MIRROR_OPEN_BACKING_CHAIN" title='BlockMirrorBackingMode::MIRROR_OPEN_BACKING_CHAIN' data-ref="BlockMirrorBackingMode::MIRROR_OPEN_BACKING_CHAIN">MIRROR_OPEN_BACKING_CHAIN</dfn>,</td></tr>
<tr><th id="693">693</th><td></td></tr>
<tr><th id="694">694</th><td>    <i>/* Do not change the target's backing BDS after job completion */</i></td></tr>
<tr><th id="695">695</th><td>    <dfn class="enum" id="BlockMirrorBackingMode::MIRROR_LEAVE_BACKING_CHAIN" title='BlockMirrorBackingMode::MIRROR_LEAVE_BACKING_CHAIN' data-ref="BlockMirrorBackingMode::MIRROR_LEAVE_BACKING_CHAIN">MIRROR_LEAVE_BACKING_CHAIN</dfn>,</td></tr>
<tr><th id="696">696</th><td>} <dfn class="typedef" id="BlockMirrorBackingMode" title='BlockMirrorBackingMode' data-type='enum BlockMirrorBackingMode' data-ref="BlockMirrorBackingMode">BlockMirrorBackingMode</dfn>;</td></tr>
<tr><th id="697">697</th><td></td></tr>
<tr><th id="698">698</th><td><em>static</em> <b>inline</b> <a class="typedef" href="../qemu/typedefs.h.html#BlockDriverState" title='BlockDriverState' data-type='struct BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a> *<dfn class="decl def" id="backing_bs" title='backing_bs' data-ref="backing_bs">backing_bs</dfn>(<a class="typedef" href="../qemu/typedefs.h.html#BlockDriverState" title='BlockDriverState' data-type='struct BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a> *<dfn class="local col5 decl" id="925bs" title='bs' data-type='BlockDriverState *' data-ref="925bs">bs</dfn>)</td></tr>
<tr><th id="699">699</th><td>{</td></tr>
<tr><th id="700">700</th><td>    <b>return</b> <a class="local col5 ref" href="#925bs" title='bs' data-ref="925bs">bs</a>-&gt;<a class="ref" href="#BlockDriverState::backing" title='BlockDriverState::backing' data-ref="BlockDriverState::backing">backing</a> ? <a class="local col5 ref" href="#925bs" title='bs' data-ref="925bs">bs</a>-&gt;<a class="ref" href="#BlockDriverState::backing" title='BlockDriverState::backing' data-ref="BlockDriverState::backing">backing</a>-&gt;<a class="ref" href="#BdrvChild::bs" title='BdrvChild::bs' data-ref="BdrvChild::bs">bs</a> : <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="701">701</th><td>}</td></tr>
<tr><th id="702">702</th><td></td></tr>
<tr><th id="703">703</th><td></td></tr>
<tr><th id="704">704</th><td><i>/* Essential block drivers which must always be statically linked into qemu, and</i></td></tr>
<tr><th id="705">705</th><td><i> * which therefore can be accessed without using bdrv_find_format() */</i></td></tr>
<tr><th id="706">706</th><td><b>extern</b> <a class="typedef" href="block.h.html#BlockDriver" title='BlockDriver' data-type='struct BlockDriver' data-ref="BlockDriver">BlockDriver</a> <dfn class="decl" id="bdrv_file" title='bdrv_file' data-ref="bdrv_file">bdrv_file</dfn>;</td></tr>
<tr><th id="707">707</th><td><b>extern</b> <a class="typedef" href="block.h.html#BlockDriver" title='BlockDriver' data-type='struct BlockDriver' data-ref="BlockDriver">BlockDriver</a> <dfn class="decl" id="bdrv_raw" title='bdrv_raw' data-ref="bdrv_raw">bdrv_raw</dfn>;</td></tr>
<tr><th id="708">708</th><td><b>extern</b> <a class="typedef" href="block.h.html#BlockDriver" title='BlockDriver' data-type='struct BlockDriver' data-ref="BlockDriver">BlockDriver</a> <dfn class="decl" id="bdrv_qcow2" title='bdrv_qcow2' data-ref="bdrv_qcow2">bdrv_qcow2</dfn>;</td></tr>
<tr><th id="709">709</th><td></td></tr>
<tr><th id="710">710</th><td><em>int</em> <a class="macro" href="../qemu/coroutine.h.html#45" title="" data-ref="_M/coroutine_fn">coroutine_fn</a> <dfn class="decl" id="bdrv_co_preadv" title='bdrv_co_preadv' data-ref="bdrv_co_preadv">bdrv_co_preadv</dfn>(<a class="typedef" href="block.h.html#BdrvChild" title='BdrvChild' data-type='struct BdrvChild' data-ref="BdrvChild">BdrvChild</a> *<dfn class="local col6 decl" id="926child" title='child' data-type='BdrvChild *' data-ref="926child">child</dfn>,</td></tr>
<tr><th id="711">711</th><td>    <a class="typedef" href="../../../include/stdint.h.html#int64_t" title='int64_t' data-type='long' data-ref="int64_t">int64_t</a> <dfn class="local col7 decl" id="927offset" title='offset' data-type='int64_t' data-ref="927offset">offset</dfn>, <em>unsigned</em> <em>int</em> <dfn class="local col8 decl" id="928bytes" title='bytes' data-type='unsigned int' data-ref="928bytes">bytes</dfn>, <a class="typedef" href="../qemu/iov.h.html#QEMUIOVector" title='QEMUIOVector' data-type='struct QEMUIOVector' data-ref="QEMUIOVector">QEMUIOVector</a> *<dfn class="local col9 decl" id="929qiov" title='qiov' data-type='QEMUIOVector *' data-ref="929qiov">qiov</dfn>,</td></tr>
<tr><th id="712">712</th><td>    <a class="typedef" href="block.h.html#BdrvRequestFlags" title='BdrvRequestFlags' data-type='enum BdrvRequestFlags' data-ref="BdrvRequestFlags">BdrvRequestFlags</a> <dfn class="local col0 decl" id="930flags" title='flags' data-type='BdrvRequestFlags' data-ref="930flags">flags</dfn>);</td></tr>
<tr><th id="713">713</th><td><em>int</em> <a class="macro" href="../qemu/coroutine.h.html#45" title="" data-ref="_M/coroutine_fn">coroutine_fn</a> <dfn class="decl" id="bdrv_co_pwritev" title='bdrv_co_pwritev' data-ref="bdrv_co_pwritev">bdrv_co_pwritev</dfn>(<a class="typedef" href="block.h.html#BdrvChild" title='BdrvChild' data-type='struct BdrvChild' data-ref="BdrvChild">BdrvChild</a> *<dfn class="local col1 decl" id="931child" title='child' data-type='BdrvChild *' data-ref="931child">child</dfn>,</td></tr>
<tr><th id="714">714</th><td>    <a class="typedef" href="../../../include/stdint.h.html#int64_t" title='int64_t' data-type='long' data-ref="int64_t">int64_t</a> <dfn class="local col2 decl" id="932offset" title='offset' data-type='int64_t' data-ref="932offset">offset</dfn>, <em>unsigned</em> <em>int</em> <dfn class="local col3 decl" id="933bytes" title='bytes' data-type='unsigned int' data-ref="933bytes">bytes</dfn>, <a class="typedef" href="../qemu/iov.h.html#QEMUIOVector" title='QEMUIOVector' data-type='struct QEMUIOVector' data-ref="QEMUIOVector">QEMUIOVector</a> *<dfn class="local col4 decl" id="934qiov" title='qiov' data-type='QEMUIOVector *' data-ref="934qiov">qiov</dfn>,</td></tr>
<tr><th id="715">715</th><td>    <a class="typedef" href="block.h.html#BdrvRequestFlags" title='BdrvRequestFlags' data-type='enum BdrvRequestFlags' data-ref="BdrvRequestFlags">BdrvRequestFlags</a> <dfn class="local col5 decl" id="935flags" title='flags' data-type='BdrvRequestFlags' data-ref="935flags">flags</dfn>);</td></tr>
<tr><th id="716">716</th><td></td></tr>
<tr><th id="717">717</th><td><em>int</em> <a class="decl" href="../../block.c.html#get_tmp_filename" title='get_tmp_filename' data-ref="get_tmp_filename" id="get_tmp_filename">get_tmp_filename</a>(<em>char</em> *<dfn class="local col6 decl" id="936filename" title='filename' data-type='char *' data-ref="936filename">filename</dfn>, <em>int</em> <dfn class="local col7 decl" id="937size" title='size' data-type='int' data-ref="937size">size</dfn>);</td></tr>
<tr><th id="718">718</th><td><a class="typedef" href="block.h.html#BlockDriver" title='BlockDriver' data-type='struct BlockDriver' data-ref="BlockDriver">BlockDriver</a> *<a class="decl" href="../../block.c.html#bdrv_probe_all" title='bdrv_probe_all' data-ref="bdrv_probe_all" id="bdrv_probe_all">bdrv_probe_all</a>(<em>const</em> <a class="typedef" href="../../../include/stdint.h.html#uint8_t" title='uint8_t' data-type='unsigned char' data-ref="uint8_t">uint8_t</a> *<dfn class="local col8 decl" id="938buf" title='buf' data-type='const uint8_t *' data-ref="938buf">buf</dfn>, <em>int</em> <dfn class="local col9 decl" id="939buf_size" title='buf_size' data-type='int' data-ref="939buf_size">buf_size</dfn>,</td></tr>
<tr><th id="719">719</th><td>                            <em>const</em> <em>char</em> *<dfn class="local col0 decl" id="940filename" title='filename' data-type='const char *' data-ref="940filename">filename</dfn>);</td></tr>
<tr><th id="720">720</th><td></td></tr>
<tr><th id="721">721</th><td><em>void</em> <a class="decl" href="../../block.c.html#bdrv_parse_filename_strip_prefix" title='bdrv_parse_filename_strip_prefix' data-ref="bdrv_parse_filename_strip_prefix" id="bdrv_parse_filename_strip_prefix">bdrv_parse_filename_strip_prefix</a>(<em>const</em> <em>char</em> *<dfn class="local col1 decl" id="941filename" title='filename' data-type='const char *' data-ref="941filename">filename</dfn>, <em>const</em> <em>char</em> *<dfn class="local col2 decl" id="942prefix" title='prefix' data-type='const char *' data-ref="942prefix">prefix</dfn>,</td></tr>
<tr><th id="722">722</th><td>                                      <a class="typedef" href="../qapi/qmp/qdict.h.html#QDict" title='QDict' data-type='struct QDict' data-ref="QDict">QDict</a> *<dfn class="local col3 decl" id="943options" title='options' data-type='QDict *' data-ref="943options">options</dfn>);</td></tr>
<tr><th id="723">723</th><td></td></tr>
<tr><th id="724">724</th><td></td></tr>
<tr><th id="725">725</th><td><i class="doc">/**</i></td></tr>
<tr><th id="726">726</th><td><i class="doc"> * bdrv_add_before_write_notifier:</i></td></tr>
<tr><th id="727">727</th><td><i class="doc"> *</i></td></tr>
<tr><th id="728">728</th><td><i class="doc"> * Register a callback that is invoked before write requests are processed but</i></td></tr>
<tr><th id="729">729</th><td><i class="doc"> * after any throttling or waiting for overlapping requests.</i></td></tr>
<tr><th id="730">730</th><td><i class="doc"> */</i></td></tr>
<tr><th id="731">731</th><td><em>void</em> <dfn class="decl" id="bdrv_add_before_write_notifier" title='bdrv_add_before_write_notifier' data-ref="bdrv_add_before_write_notifier">bdrv_add_before_write_notifier</dfn>(<a class="typedef" href="../qemu/typedefs.h.html#BlockDriverState" title='BlockDriverState' data-type='struct BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a> *<dfn class="local col4 decl" id="944bs" title='bs' data-type='BlockDriverState *' data-ref="944bs">bs</dfn>,</td></tr>
<tr><th id="732">732</th><td>                                    <a class="typedef" href="../qemu/notify.h.html#NotifierWithReturn" title='NotifierWithReturn' data-type='struct NotifierWithReturn' data-ref="NotifierWithReturn">NotifierWithReturn</a> *<dfn class="local col5 decl" id="945notifier" title='notifier' data-type='NotifierWithReturn *' data-ref="945notifier">notifier</dfn>);</td></tr>
<tr><th id="733">733</th><td></td></tr>
<tr><th id="734">734</th><td><i class="doc">/**</i></td></tr>
<tr><th id="735">735</th><td><i class="doc"> * bdrv_detach_aio_context:</i></td></tr>
<tr><th id="736">736</th><td><i class="doc"> *</i></td></tr>
<tr><th id="737">737</th><td><i class="doc"> * May be called from .bdrv_detach_aio_context() to detach children from the</i></td></tr>
<tr><th id="738">738</th><td><i class="doc"> * current #AioContext.  This is only needed by block drivers that manage their</i></td></tr>
<tr><th id="739">739</th><td><i class="doc"> * own children.  Both -&gt;file and -&gt;backing are automatically handled and</i></td></tr>
<tr><th id="740">740</th><td><i class="doc"> * block drivers should not call this function on them explicitly.</i></td></tr>
<tr><th id="741">741</th><td><i class="doc"> */</i></td></tr>
<tr><th id="742">742</th><td><em>void</em> <a class="decl" href="../../block.c.html#bdrv_detach_aio_context" title='bdrv_detach_aio_context' data-ref="bdrv_detach_aio_context" id="bdrv_detach_aio_context">bdrv_detach_aio_context</a>(<a class="typedef" href="../qemu/typedefs.h.html#BlockDriverState" title='BlockDriverState' data-type='struct BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a> *<dfn class="local col6 decl" id="946bs" title='bs' data-type='BlockDriverState *' data-ref="946bs">bs</dfn>);</td></tr>
<tr><th id="743">743</th><td></td></tr>
<tr><th id="744">744</th><td><i class="doc">/**</i></td></tr>
<tr><th id="745">745</th><td><i class="doc"> * bdrv_attach_aio_context:</i></td></tr>
<tr><th id="746">746</th><td><i class="doc"> *</i></td></tr>
<tr><th id="747">747</th><td><i class="doc"> * May be called from .bdrv_attach_aio_context() to attach children to the new</i></td></tr>
<tr><th id="748">748</th><td><i class="doc"> * #AioContext.  This is only needed by block drivers that manage their own</i></td></tr>
<tr><th id="749">749</th><td><i class="doc"> * children.  Both -&gt;file and -&gt;backing are automatically handled and block</i></td></tr>
<tr><th id="750">750</th><td><i class="doc"> * drivers should not call this function on them explicitly.</i></td></tr>
<tr><th id="751">751</th><td><i class="doc"> */</i></td></tr>
<tr><th id="752">752</th><td><em>void</em> <a class="decl" href="../../block.c.html#bdrv_attach_aio_context" title='bdrv_attach_aio_context' data-ref="bdrv_attach_aio_context" id="bdrv_attach_aio_context">bdrv_attach_aio_context</a>(<a class="typedef" href="../qemu/typedefs.h.html#BlockDriverState" title='BlockDriverState' data-type='struct BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a> *<dfn class="local col7 decl" id="947bs" title='bs' data-type='BlockDriverState *' data-ref="947bs">bs</dfn>,</td></tr>
<tr><th id="753">753</th><td>                             <a class="typedef" href="../qemu/typedefs.h.html#AioContext" title='AioContext' data-type='struct AioContext' data-ref="AioContext">AioContext</a> *<dfn class="local col8 decl" id="948new_context" title='new_context' data-type='AioContext *' data-ref="948new_context">new_context</dfn>);</td></tr>
<tr><th id="754">754</th><td></td></tr>
<tr><th id="755">755</th><td><i class="doc">/**</i></td></tr>
<tr><th id="756">756</th><td><i class="doc"> * bdrv_add_aio_context_notifier:</i></td></tr>
<tr><th id="757">757</th><td><i class="doc"> *</i></td></tr>
<tr><th id="758">758</th><td><i class="doc"> * If a long-running job intends to be always run in the same AioContext as a</i></td></tr>
<tr><th id="759">759</th><td><i class="doc"> * certain BDS, it may use this function to be notified of changes regarding the</i></td></tr>
<tr><th id="760">760</th><td><i class="doc"> * association of the BDS to an AioContext.</i></td></tr>
<tr><th id="761">761</th><td><i class="doc"> *</i></td></tr>
<tr><th id="762">762</th><td><i class="doc"> * attached_aio_context() is called after the target BDS has been attached to a</i></td></tr>
<tr><th id="763">763</th><td><i class="doc"> * new AioContext; detach_aio_context() is called before the target BDS is being</i></td></tr>
<tr><th id="764">764</th><td><i class="doc"> * detached from its old AioContext.</i></td></tr>
<tr><th id="765">765</th><td><i class="doc"> */</i></td></tr>
<tr><th id="766">766</th><td><em>void</em> <a class="decl" href="../../block.c.html#bdrv_add_aio_context_notifier" title='bdrv_add_aio_context_notifier' data-ref="bdrv_add_aio_context_notifier" id="bdrv_add_aio_context_notifier">bdrv_add_aio_context_notifier</a>(<a class="typedef" href="../qemu/typedefs.h.html#BlockDriverState" title='BlockDriverState' data-type='struct BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a> *<dfn class="local col9 decl" id="949bs" title='bs' data-type='BlockDriverState *' data-ref="949bs">bs</dfn>,</td></tr>
<tr><th id="767">767</th><td>        <em>void</em> (*<dfn class="local col0 decl" id="950attached_aio_context" title='attached_aio_context' data-type='void (*)(AioContext *, void *)' data-ref="950attached_aio_context">attached_aio_context</dfn>)(<a class="typedef" href="../qemu/typedefs.h.html#AioContext" title='AioContext' data-type='struct AioContext' data-ref="AioContext">AioContext</a> *<dfn class="local col1 decl" id="951new_context" title='new_context' data-type='AioContext *' data-ref="951new_context">new_context</dfn>, <em>void</em> *<dfn class="local col2 decl" id="952opaque" title='opaque' data-type='void *' data-ref="952opaque">opaque</dfn>),</td></tr>
<tr><th id="768">768</th><td>        <em>void</em> (*<dfn class="local col3 decl" id="953detach_aio_context" title='detach_aio_context' data-type='void (*)(void *)' data-ref="953detach_aio_context">detach_aio_context</dfn>)(<em>void</em> *<dfn class="local col4 decl" id="954opaque" title='opaque' data-type='void *' data-ref="954opaque">opaque</dfn>), <em>void</em> *<dfn class="local col5 decl" id="955opaque" title='opaque' data-type='void *' data-ref="955opaque">opaque</dfn>);</td></tr>
<tr><th id="769">769</th><td></td></tr>
<tr><th id="770">770</th><td><i class="doc">/**</i></td></tr>
<tr><th id="771">771</th><td><i class="doc"> * bdrv_remove_aio_context_notifier:</i></td></tr>
<tr><th id="772">772</th><td><i class="doc"> *</i></td></tr>
<tr><th id="773">773</th><td><i class="doc"> * Unsubscribe of change notifications regarding the BDS's AioContext. The</i></td></tr>
<tr><th id="774">774</th><td><i class="doc"> * parameters given here have to be the same as those given to</i></td></tr>
<tr><th id="775">775</th><td><i class="doc"> * bdrv_add_aio_context_notifier().</i></td></tr>
<tr><th id="776">776</th><td><i class="doc"> */</i></td></tr>
<tr><th id="777">777</th><td><em>void</em> <a class="decl" href="../../block.c.html#bdrv_remove_aio_context_notifier" title='bdrv_remove_aio_context_notifier' data-ref="bdrv_remove_aio_context_notifier" id="bdrv_remove_aio_context_notifier">bdrv_remove_aio_context_notifier</a>(<a class="typedef" href="../qemu/typedefs.h.html#BlockDriverState" title='BlockDriverState' data-type='struct BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a> *<dfn class="local col6 decl" id="956bs" title='bs' data-type='BlockDriverState *' data-ref="956bs">bs</dfn>,</td></tr>
<tr><th id="778">778</th><td>                                      <em>void</em> (*<dfn class="local col7 decl" id="957aio_context_attached" title='aio_context_attached' data-type='void (*)(AioContext *, void *)' data-ref="957aio_context_attached">aio_context_attached</dfn>)(<a class="typedef" href="../qemu/typedefs.h.html#AioContext" title='AioContext' data-type='struct AioContext' data-ref="AioContext">AioContext</a> *,</td></tr>
<tr><th id="779">779</th><td>                                                                   <em>void</em> *),</td></tr>
<tr><th id="780">780</th><td>                                      <em>void</em> (*<dfn class="local col8 decl" id="958aio_context_detached" title='aio_context_detached' data-type='void (*)(void *)' data-ref="958aio_context_detached">aio_context_detached</dfn>)(<em>void</em> *),</td></tr>
<tr><th id="781">781</th><td>                                      <em>void</em> *<dfn class="local col9 decl" id="959opaque" title='opaque' data-type='void *' data-ref="959opaque">opaque</dfn>);</td></tr>
<tr><th id="782">782</th><td></td></tr>
<tr><th id="783">783</th><td><i class="doc">/**</i></td></tr>
<tr><th id="784">784</th><td><i class="doc"> * bdrv_wakeup:</i></td></tr>
<tr><th id="785">785</th><td><i class="doc"> *<span class="command"> @bs</span><span class="arg">:</span> The BlockDriverState for which an I/O operation has been completed.</i></td></tr>
<tr><th id="786">786</th><td><i class="doc"> *</i></td></tr>
<tr><th id="787">787</th><td><i class="doc"> * Wake up the main thread if it is waiting on BDRV_POLL_WHILE.  During</i></td></tr>
<tr><th id="788">788</th><td><i class="doc"> * synchronous I/O on a BlockDriverState that is attached to another</i></td></tr>
<tr><th id="789">789</th><td><i class="doc"> * I/O thread, the main thread lets the I/O thread's event loop run,</i></td></tr>
<tr><th id="790">790</th><td><i class="doc"> * waiting for the I/O operation to complete.  A bdrv_wakeup will wake</i></td></tr>
<tr><th id="791">791</th><td><i class="doc"> * up the main thread if necessary.</i></td></tr>
<tr><th id="792">792</th><td><i class="doc"> *</i></td></tr>
<tr><th id="793">793</th><td><i class="doc"> * Manual calls to bdrv_wakeup are rarely necessary, because</i></td></tr>
<tr><th id="794">794</th><td><i class="doc"> * bdrv_dec_in_flight already calls it.</i></td></tr>
<tr><th id="795">795</th><td><i class="doc"> */</i></td></tr>
<tr><th id="796">796</th><td><em>void</em> <dfn class="decl" id="bdrv_wakeup" title='bdrv_wakeup' data-ref="bdrv_wakeup">bdrv_wakeup</dfn>(<a class="typedef" href="../qemu/typedefs.h.html#BlockDriverState" title='BlockDriverState' data-type='struct BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a> *<dfn class="local col0 decl" id="960bs" title='bs' data-type='BlockDriverState *' data-ref="960bs">bs</dfn>);</td></tr>
<tr><th id="797">797</th><td></td></tr>
<tr><th id="798">798</th><td><u>#<span data-ppcond="798">ifdef</span> <span class="macro" data-ref="_M/_WIN32">_WIN32</span></u></td></tr>
<tr><th id="799">799</th><td><em>int</em> is_windows_drive(<em>const</em> <em>char</em> *filename);</td></tr>
<tr><th id="800">800</th><td><u>#<span data-ppcond="798">endif</span></u></td></tr>
<tr><th id="801">801</th><td></td></tr>
<tr><th id="802">802</th><td><i class="doc">/**</i></td></tr>
<tr><th id="803">803</th><td><i class="doc"> * stream_start:</i></td></tr>
<tr><th id="804">804</th><td><i class="doc"> *<span class="command"> @job</span>_id: The id of the newly-created job, or %NULL to use the</i></td></tr>
<tr><th id="805">805</th><td><i class="doc"> * device name of<span class="command"> @bs</span><span class="arg">.</span></i></td></tr>
<tr><th id="806">806</th><td><i class="doc"> *<span class="command"> @bs</span><span class="arg">:</span> Block device to operate on.</i></td></tr>
<tr><th id="807">807</th><td><i class="doc"> *<span class="command"> @base</span>: Block device that will become the new base, or %NULL to</i></td></tr>
<tr><th id="808">808</th><td><i class="doc"> * flatten the whole backing file chain onto<span class="command"> @bs</span><span class="arg">.</span></i></td></tr>
<tr><th id="809">809</th><td><i class="doc"> *<span class="command"> @backing</span>_file_str: The file name that will be written to<span class="command"> @bs</span> <span class="arg">as</span> the</i></td></tr>
<tr><th id="810">810</th><td><i class="doc"> * the new backing file if the job completes. Ignored if<span class="command"> @base</span> is %NULL.</i></td></tr>
<tr><th id="811">811</th><td><i class="doc"> *<span class="command"> @speed</span>: The maximum speed, in bytes per second, or 0 for unlimited.</i></td></tr>
<tr><th id="812">812</th><td><i class="doc"> * <span class="command">@on</span>_<span class="verb">error: The action to take upon error.</span></i></td></tr>
<tr><th id="813">813</th><td><i class="doc"> *<span class="command"> @errp</span>: Error object.</i></td></tr>
<tr><th id="814">814</th><td><i class="doc"> *</i></td></tr>
<tr><th id="815">815</th><td><i class="doc"> * Start a streaming operation on<span class="command"> @bs</span><span class="arg">.</span>  Clusters that are unallocated</i></td></tr>
<tr><th id="816">816</th><td><i class="doc"> * in<span class="command"> @bs</span><span class="arg">,</span> but allocated in any image between<span class="command"> @base</span> and<span class="command"> @bs</span> <span class="arg">(both</span></i></td></tr>
<tr><th id="817">817</th><td><i class="doc"> * exclusive) will be written to<span class="command"> @bs</span><span class="arg">.</span>  At the end of a successful</i></td></tr>
<tr><th id="818">818</th><td><i class="doc"> * streaming job, the backing file of<span class="command"> @bs</span> <span class="arg">will</span> be changed to</i></td></tr>
<tr><th id="819">819</th><td><i class="doc"> *<span class="command"> @backing</span>_file_str in the written image and to<span class="command"> @base</span> in the live</i></td></tr>
<tr><th id="820">820</th><td><i class="doc"> * BlockDriverState.</i></td></tr>
<tr><th id="821">821</th><td><i class="doc"> */</i></td></tr>
<tr><th id="822">822</th><td><em>void</em> <dfn class="decl" id="stream_start" title='stream_start' data-ref="stream_start">stream_start</dfn>(<em>const</em> <em>char</em> *<dfn class="local col1 decl" id="961job_id" title='job_id' data-type='const char *' data-ref="961job_id">job_id</dfn>, <a class="typedef" href="../qemu/typedefs.h.html#BlockDriverState" title='BlockDriverState' data-type='struct BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a> *<dfn class="local col2 decl" id="962bs" title='bs' data-type='BlockDriverState *' data-ref="962bs">bs</dfn>,</td></tr>
<tr><th id="823">823</th><td>                  <a class="typedef" href="../qemu/typedefs.h.html#BlockDriverState" title='BlockDriverState' data-type='struct BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a> *<dfn class="local col3 decl" id="963base" title='base' data-type='BlockDriverState *' data-ref="963base">base</dfn>, <em>const</em> <em>char</em> *<dfn class="local col4 decl" id="964backing_file_str" title='backing_file_str' data-type='const char *' data-ref="964backing_file_str">backing_file_str</dfn>,</td></tr>
<tr><th id="824">824</th><td>                  <a class="typedef" href="../../../include/stdint.h.html#int64_t" title='int64_t' data-type='long' data-ref="int64_t">int64_t</a> <dfn class="local col5 decl" id="965speed" title='speed' data-type='int64_t' data-ref="965speed">speed</dfn>, <a class="typedef" href="../../qapi-types.h.html#BlockdevOnError" title='BlockdevOnError' data-type='enum BlockdevOnError' data-ref="BlockdevOnError">BlockdevOnError</a> <dfn class="local col6 decl" id="966on_error" title='on_error' data-type='BlockdevOnError' data-ref="966on_error">on_error</dfn>, <a class="typedef" href="../qemu/typedefs.h.html#Error" title='Error' data-type='struct Error' data-ref="Error">Error</a> **<dfn class="local col7 decl" id="967errp" title='errp' data-type='Error **' data-ref="967errp">errp</dfn>);</td></tr>
<tr><th id="825">825</th><td></td></tr>
<tr><th id="826">826</th><td><i class="doc">/**</i></td></tr>
<tr><th id="827">827</th><td><i class="doc"> * commit_start:</i></td></tr>
<tr><th id="828">828</th><td><i class="doc"> *<span class="command"> @job</span>_id: The id of the newly-created job, or %NULL to use the</i></td></tr>
<tr><th id="829">829</th><td><i class="doc"> * device name of<span class="command"> @bs</span><span class="arg">.</span></i></td></tr>
<tr><th id="830">830</th><td><i class="doc"> *<span class="command"> @bs</span><span class="arg">:</span> Active block device.</i></td></tr>
<tr><th id="831">831</th><td><i class="doc"> *<span class="command"> @top</span>: Top block device to be committed.</i></td></tr>
<tr><th id="832">832</th><td><i class="doc"> *<span class="command"> @base</span>: Block device that will be written into, and become the new top.</i></td></tr>
<tr><th id="833">833</th><td><i class="doc"> *<span class="command"> @speed</span>: The maximum speed, in bytes per second, or 0 for unlimited.</i></td></tr>
<tr><th id="834">834</th><td><i class="doc"> * <span class="command">@on</span>_<span class="verb">error: The action to take upon error.</span></i></td></tr>
<tr><th id="835">835</th><td><i class="doc"> *<span class="command"> @backing</span>_file_str: String to use as the backing file in<span class="command"> @top</span>'s overlay</i></td></tr>
<tr><th id="836">836</th><td><i class="doc"> *<span class="command"> @filter</span>_node_name: The node name that should be assigned to the filter</i></td></tr>
<tr><th id="837">837</th><td><i class="doc"> * driver that the commit job inserts into the graph above<span class="command"> @top</span>. NULL means</i></td></tr>
<tr><th id="838">838</th><td><i class="doc"> * that a node name should be autogenerated.</i></td></tr>
<tr><th id="839">839</th><td><i class="doc"> *<span class="command"> @errp</span>: Error object.</i></td></tr>
<tr><th id="840">840</th><td><i class="doc"> *</i></td></tr>
<tr><th id="841">841</th><td><i class="doc"> */</i></td></tr>
<tr><th id="842">842</th><td><em>void</em> <dfn class="decl" id="commit_start" title='commit_start' data-ref="commit_start">commit_start</dfn>(<em>const</em> <em>char</em> *<dfn class="local col8 decl" id="968job_id" title='job_id' data-type='const char *' data-ref="968job_id">job_id</dfn>, <a class="typedef" href="../qemu/typedefs.h.html#BlockDriverState" title='BlockDriverState' data-type='struct BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a> *<dfn class="local col9 decl" id="969bs" title='bs' data-type='BlockDriverState *' data-ref="969bs">bs</dfn>,</td></tr>
<tr><th id="843">843</th><td>                  <a class="typedef" href="../qemu/typedefs.h.html#BlockDriverState" title='BlockDriverState' data-type='struct BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a> *<dfn class="local col0 decl" id="970base" title='base' data-type='BlockDriverState *' data-ref="970base">base</dfn>, <a class="typedef" href="../qemu/typedefs.h.html#BlockDriverState" title='BlockDriverState' data-type='struct BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a> *<dfn class="local col1 decl" id="971top" title='top' data-type='BlockDriverState *' data-ref="971top">top</dfn>, <a class="typedef" href="../../../include/stdint.h.html#int64_t" title='int64_t' data-type='long' data-ref="int64_t">int64_t</a> <dfn class="local col2 decl" id="972speed" title='speed' data-type='int64_t' data-ref="972speed">speed</dfn>,</td></tr>
<tr><th id="844">844</th><td>                  <a class="typedef" href="../../qapi-types.h.html#BlockdevOnError" title='BlockdevOnError' data-type='enum BlockdevOnError' data-ref="BlockdevOnError">BlockdevOnError</a> <dfn class="local col3 decl" id="973on_error" title='on_error' data-type='BlockdevOnError' data-ref="973on_error">on_error</dfn>, <em>const</em> <em>char</em> *<dfn class="local col4 decl" id="974backing_file_str" title='backing_file_str' data-type='const char *' data-ref="974backing_file_str">backing_file_str</dfn>,</td></tr>
<tr><th id="845">845</th><td>                  <em>const</em> <em>char</em> *<dfn class="local col5 decl" id="975filter_node_name" title='filter_node_name' data-type='const char *' data-ref="975filter_node_name">filter_node_name</dfn>, <a class="typedef" href="../qemu/typedefs.h.html#Error" title='Error' data-type='struct Error' data-ref="Error">Error</a> **<dfn class="local col6 decl" id="976errp" title='errp' data-type='Error **' data-ref="976errp">errp</dfn>);</td></tr>
<tr><th id="846">846</th><td><i class="doc">/**</i></td></tr>
<tr><th id="847">847</th><td><i class="doc"> * commit_active_start:</i></td></tr>
<tr><th id="848">848</th><td><i class="doc"> *<span class="command"> @job</span>_id: The id of the newly-created job, or %NULL to use the</i></td></tr>
<tr><th id="849">849</th><td><i class="doc"> * device name of<span class="command"> @bs</span><span class="arg">.</span></i></td></tr>
<tr><th id="850">850</th><td><i class="doc"> *<span class="command"> @bs</span><span class="arg">:</span> Active block device to be committed.</i></td></tr>
<tr><th id="851">851</th><td><i class="doc"> *<span class="command"> @base</span>: Block device that will be written into, and become the new top.</i></td></tr>
<tr><th id="852">852</th><td><i class="doc"> *<span class="command"> @creation</span>_flags: Flags that control the behavior of the Job lifetime.</i></td></tr>
<tr><th id="853">853</th><td><i class="doc"> *                  See<span class="command"> @BlockJobCreateFlags</span></i></td></tr>
<tr><th id="854">854</th><td><i class="doc"> *<span class="command"> @speed</span>: The maximum speed, in bytes per second, or 0 for unlimited.</i></td></tr>
<tr><th id="855">855</th><td><i class="doc"> * <span class="command">@on</span>_<span class="verb">error: The action to take upon error.</span></i></td></tr>
<tr><th id="856">856</th><td><i class="doc"> *<span class="command"> @filter</span>_node_name: The node name that should be assigned to the filter</i></td></tr>
<tr><th id="857">857</th><td><i class="doc"> * driver that the commit job inserts into the graph above<span class="command"> @bs</span><span class="arg">.</span> NULL means that</i></td></tr>
<tr><th id="858">858</th><td><i class="doc"> * a node name should be autogenerated.</i></td></tr>
<tr><th id="859">859</th><td><i class="doc"> *<span class="command"> @cb</span>: Completion function for the job.</i></td></tr>
<tr><th id="860">860</th><td><i class="doc"> *<span class="command"> @opaque</span>: Opaque pointer value passed to<span class="command"> @cb</span>.</i></td></tr>
<tr><th id="861">861</th><td><i class="doc"> *<span class="command"> @auto</span>_complete: Auto complete the job.</i></td></tr>
<tr><th id="862">862</th><td><i class="doc"> *<span class="command"> @errp</span>: Error object.</i></td></tr>
<tr><th id="863">863</th><td><i class="doc"> *</i></td></tr>
<tr><th id="864">864</th><td><i class="doc"> */</i></td></tr>
<tr><th id="865">865</th><td><em>void</em> <dfn class="decl" id="commit_active_start" title='commit_active_start' data-ref="commit_active_start">commit_active_start</dfn>(<em>const</em> <em>char</em> *<dfn class="local col7 decl" id="977job_id" title='job_id' data-type='const char *' data-ref="977job_id">job_id</dfn>, <a class="typedef" href="../qemu/typedefs.h.html#BlockDriverState" title='BlockDriverState' data-type='struct BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a> *<dfn class="local col8 decl" id="978bs" title='bs' data-type='BlockDriverState *' data-ref="978bs">bs</dfn>,</td></tr>
<tr><th id="866">866</th><td>                         <a class="typedef" href="../qemu/typedefs.h.html#BlockDriverState" title='BlockDriverState' data-type='struct BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a> *<dfn class="local col9 decl" id="979base" title='base' data-type='BlockDriverState *' data-ref="979base">base</dfn>, <em>int</em> <dfn class="local col0 decl" id="980creation_flags" title='creation_flags' data-type='int' data-ref="980creation_flags">creation_flags</dfn>,</td></tr>
<tr><th id="867">867</th><td>                         <a class="typedef" href="../../../include/stdint.h.html#int64_t" title='int64_t' data-type='long' data-ref="int64_t">int64_t</a> <dfn class="local col1 decl" id="981speed" title='speed' data-type='int64_t' data-ref="981speed">speed</dfn>, <a class="typedef" href="../../qapi-types.h.html#BlockdevOnError" title='BlockdevOnError' data-type='enum BlockdevOnError' data-ref="BlockdevOnError">BlockdevOnError</a> <dfn class="local col2 decl" id="982on_error" title='on_error' data-type='BlockdevOnError' data-ref="982on_error">on_error</dfn>,</td></tr>
<tr><th id="868">868</th><td>                         <em>const</em> <em>char</em> *<dfn class="local col3 decl" id="983filter_node_name" title='filter_node_name' data-type='const char *' data-ref="983filter_node_name">filter_node_name</dfn>,</td></tr>
<tr><th id="869">869</th><td>                         <a class="typedef" href="aio.h.html#BlockCompletionFunc" title='BlockCompletionFunc' data-type='void (void *, int)' data-ref="BlockCompletionFunc">BlockCompletionFunc</a> *<dfn class="local col4 decl" id="984cb" title='cb' data-type='BlockCompletionFunc *' data-ref="984cb">cb</dfn>, <em>void</em> *<dfn class="local col5 decl" id="985opaque" title='opaque' data-type='void *' data-ref="985opaque">opaque</dfn>,</td></tr>
<tr><th id="870">870</th><td>                         <span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="local col6 decl" id="986auto_complete" title='auto_complete' data-type='_Bool' data-ref="986auto_complete">auto_complete</dfn>, <a class="typedef" href="../qemu/typedefs.h.html#Error" title='Error' data-type='struct Error' data-ref="Error">Error</a> **<dfn class="local col7 decl" id="987errp" title='errp' data-type='Error **' data-ref="987errp">errp</dfn>);</td></tr>
<tr><th id="871">871</th><td><i>/*</i></td></tr>
<tr><th id="872">872</th><td><i> * mirror_start:</i></td></tr>
<tr><th id="873">873</th><td><i> * @job_id: The id of the newly-created job, or %NULL to use the</i></td></tr>
<tr><th id="874">874</th><td><i> * device name of @bs.</i></td></tr>
<tr><th id="875">875</th><td><i> * @bs: Block device to operate on.</i></td></tr>
<tr><th id="876">876</th><td><i> * @target: Block device to write to.</i></td></tr>
<tr><th id="877">877</th><td><i> * @replaces: Block graph node name to replace once the mirror is done. Can</i></td></tr>
<tr><th id="878">878</th><td><i> *            only be used when full mirroring is selected.</i></td></tr>
<tr><th id="879">879</th><td><i> * @speed: The maximum speed, in bytes per second, or 0 for unlimited.</i></td></tr>
<tr><th id="880">880</th><td><i> * @granularity: The chosen granularity for the dirty bitmap.</i></td></tr>
<tr><th id="881">881</th><td><i> * @buf_size: The amount of data that can be in flight at one time.</i></td></tr>
<tr><th id="882">882</th><td><i> * @mode: Whether to collapse all images in the chain to the target.</i></td></tr>
<tr><th id="883">883</th><td><i> * @backing_mode: How to establish the target's backing chain after completion.</i></td></tr>
<tr><th id="884">884</th><td><i> * @on_source_error: The action to take upon error reading from the source.</i></td></tr>
<tr><th id="885">885</th><td><i> * @on_target_error: The action to take upon error writing to the target.</i></td></tr>
<tr><th id="886">886</th><td><i> * @unmap: Whether to unmap target where source sectors only contain zeroes.</i></td></tr>
<tr><th id="887">887</th><td><i> * @filter_node_name: The node name that should be assigned to the filter</i></td></tr>
<tr><th id="888">888</th><td><i> * driver that the mirror job inserts into the graph above @bs. NULL means that</i></td></tr>
<tr><th id="889">889</th><td><i> * a node name should be autogenerated.</i></td></tr>
<tr><th id="890">890</th><td><i> * @errp: Error object.</i></td></tr>
<tr><th id="891">891</th><td><i> *</i></td></tr>
<tr><th id="892">892</th><td><i> * Start a mirroring operation on @bs.  Clusters that are allocated</i></td></tr>
<tr><th id="893">893</th><td><i> * in @bs will be written to @target until the job is cancelled or</i></td></tr>
<tr><th id="894">894</th><td><i> * manually completed.  At the end of a successful mirroring job,</i></td></tr>
<tr><th id="895">895</th><td><i> * @bs will be switched to read from @target.</i></td></tr>
<tr><th id="896">896</th><td><i> */</i></td></tr>
<tr><th id="897">897</th><td><em>void</em> <dfn class="decl" id="mirror_start" title='mirror_start' data-ref="mirror_start">mirror_start</dfn>(<em>const</em> <em>char</em> *<dfn class="local col8 decl" id="988job_id" title='job_id' data-type='const char *' data-ref="988job_id">job_id</dfn>, <a class="typedef" href="../qemu/typedefs.h.html#BlockDriverState" title='BlockDriverState' data-type='struct BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a> *<dfn class="local col9 decl" id="989bs" title='bs' data-type='BlockDriverState *' data-ref="989bs">bs</dfn>,</td></tr>
<tr><th id="898">898</th><td>                  <a class="typedef" href="../qemu/typedefs.h.html#BlockDriverState" title='BlockDriverState' data-type='struct BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a> *<dfn class="local col0 decl" id="990target" title='target' data-type='BlockDriverState *' data-ref="990target">target</dfn>, <em>const</em> <em>char</em> *<dfn class="local col1 decl" id="991replaces" title='replaces' data-type='const char *' data-ref="991replaces">replaces</dfn>,</td></tr>
<tr><th id="899">899</th><td>                  <a class="typedef" href="../../../include/stdint.h.html#int64_t" title='int64_t' data-type='long' data-ref="int64_t">int64_t</a> <dfn class="local col2 decl" id="992speed" title='speed' data-type='int64_t' data-ref="992speed">speed</dfn>, <a class="typedef" href="../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> <dfn class="local col3 decl" id="993granularity" title='granularity' data-type='uint32_t' data-ref="993granularity">granularity</dfn>, <a class="typedef" href="../../../include/stdint.h.html#int64_t" title='int64_t' data-type='long' data-ref="int64_t">int64_t</a> <dfn class="local col4 decl" id="994buf_size" title='buf_size' data-type='int64_t' data-ref="994buf_size">buf_size</dfn>,</td></tr>
<tr><th id="900">900</th><td>                  <a class="typedef" href="../../qapi-types.h.html#MirrorSyncMode" title='MirrorSyncMode' data-type='enum MirrorSyncMode' data-ref="MirrorSyncMode">MirrorSyncMode</a> <dfn class="local col5 decl" id="995mode" title='mode' data-type='MirrorSyncMode' data-ref="995mode">mode</dfn>, <a class="typedef" href="#BlockMirrorBackingMode" title='BlockMirrorBackingMode' data-type='enum BlockMirrorBackingMode' data-ref="BlockMirrorBackingMode">BlockMirrorBackingMode</a> <dfn class="local col6 decl" id="996backing_mode" title='backing_mode' data-type='BlockMirrorBackingMode' data-ref="996backing_mode">backing_mode</dfn>,</td></tr>
<tr><th id="901">901</th><td>                  <a class="typedef" href="../../qapi-types.h.html#BlockdevOnError" title='BlockdevOnError' data-type='enum BlockdevOnError' data-ref="BlockdevOnError">BlockdevOnError</a> <dfn class="local col7 decl" id="997on_source_error" title='on_source_error' data-type='BlockdevOnError' data-ref="997on_source_error">on_source_error</dfn>,</td></tr>
<tr><th id="902">902</th><td>                  <a class="typedef" href="../../qapi-types.h.html#BlockdevOnError" title='BlockdevOnError' data-type='enum BlockdevOnError' data-ref="BlockdevOnError">BlockdevOnError</a> <dfn class="local col8 decl" id="998on_target_error" title='on_target_error' data-type='BlockdevOnError' data-ref="998on_target_error">on_target_error</dfn>,</td></tr>
<tr><th id="903">903</th><td>                  <span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="local col9 decl" id="999unmap" title='unmap' data-type='_Bool' data-ref="999unmap">unmap</dfn>, <em>const</em> <em>char</em> *<dfn class="local col0 decl" id="1000filter_node_name" title='filter_node_name' data-type='const char *' data-ref="1000filter_node_name">filter_node_name</dfn>, <a class="typedef" href="../qemu/typedefs.h.html#Error" title='Error' data-type='struct Error' data-ref="Error">Error</a> **<dfn class="local col1 decl" id="1001errp" title='errp' data-type='Error **' data-ref="1001errp">errp</dfn>);</td></tr>
<tr><th id="904">904</th><td></td></tr>
<tr><th id="905">905</th><td><i>/*</i></td></tr>
<tr><th id="906">906</th><td><i> * backup_job_create:</i></td></tr>
<tr><th id="907">907</th><td><i> * @job_id: The id of the newly-created job, or %NULL to use the</i></td></tr>
<tr><th id="908">908</th><td><i> * device name of @bs.</i></td></tr>
<tr><th id="909">909</th><td><i> * @bs: Block device to operate on.</i></td></tr>
<tr><th id="910">910</th><td><i> * @target: Block device to write to.</i></td></tr>
<tr><th id="911">911</th><td><i> * @speed: The maximum speed, in bytes per second, or 0 for unlimited.</i></td></tr>
<tr><th id="912">912</th><td><i> * @sync_mode: What parts of the disk image should be copied to the destination.</i></td></tr>
<tr><th id="913">913</th><td><i> * @sync_bitmap: The dirty bitmap if sync_mode is MIRROR_SYNC_MODE_INCREMENTAL.</i></td></tr>
<tr><th id="914">914</th><td><i> * @on_source_error: The action to take upon error reading from the source.</i></td></tr>
<tr><th id="915">915</th><td><i> * @on_target_error: The action to take upon error writing to the target.</i></td></tr>
<tr><th id="916">916</th><td><i> * @creation_flags: Flags that control the behavior of the Job lifetime.</i></td></tr>
<tr><th id="917">917</th><td><i> *                  See @BlockJobCreateFlags</i></td></tr>
<tr><th id="918">918</th><td><i> * @cb: Completion function for the job.</i></td></tr>
<tr><th id="919">919</th><td><i> * @opaque: Opaque pointer value passed to @cb.</i></td></tr>
<tr><th id="920">920</th><td><i> * @txn: Transaction that this job is part of (may be NULL).</i></td></tr>
<tr><th id="921">921</th><td><i> *</i></td></tr>
<tr><th id="922">922</th><td><i> * Create a backup operation on @bs.  Clusters in @bs are written to @target</i></td></tr>
<tr><th id="923">923</th><td><i> * until the job is cancelled or manually completed.</i></td></tr>
<tr><th id="924">924</th><td><i> */</i></td></tr>
<tr><th id="925">925</th><td><a class="typedef" href="blockjob.h.html#BlockJob" title='BlockJob' data-type='struct BlockJob' data-ref="BlockJob">BlockJob</a> *<dfn class="decl" id="backup_job_create" title='backup_job_create' data-ref="backup_job_create">backup_job_create</dfn>(<em>const</em> <em>char</em> *<dfn class="local col2 decl" id="1002job_id" title='job_id' data-type='const char *' data-ref="1002job_id">job_id</dfn>, <a class="typedef" href="../qemu/typedefs.h.html#BlockDriverState" title='BlockDriverState' data-type='struct BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a> *<dfn class="local col3 decl" id="1003bs" title='bs' data-type='BlockDriverState *' data-ref="1003bs">bs</dfn>,</td></tr>
<tr><th id="926">926</th><td>                            <a class="typedef" href="../qemu/typedefs.h.html#BlockDriverState" title='BlockDriverState' data-type='struct BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a> *<dfn class="local col4 decl" id="1004target" title='target' data-type='BlockDriverState *' data-ref="1004target">target</dfn>, <a class="typedef" href="../../../include/stdint.h.html#int64_t" title='int64_t' data-type='long' data-ref="int64_t">int64_t</a> <dfn class="local col5 decl" id="1005speed" title='speed' data-type='int64_t' data-ref="1005speed">speed</dfn>,</td></tr>
<tr><th id="927">927</th><td>                            <a class="typedef" href="../../qapi-types.h.html#MirrorSyncMode" title='MirrorSyncMode' data-type='enum MirrorSyncMode' data-ref="MirrorSyncMode">MirrorSyncMode</a> <dfn class="local col6 decl" id="1006sync_mode" title='sync_mode' data-type='MirrorSyncMode' data-ref="1006sync_mode">sync_mode</dfn>,</td></tr>
<tr><th id="928">928</th><td>                            <a class="typedef" href="../qemu/typedefs.h.html#BdrvDirtyBitmap" title='BdrvDirtyBitmap' data-type='struct BdrvDirtyBitmap' data-ref="BdrvDirtyBitmap">BdrvDirtyBitmap</a> *<dfn class="local col7 decl" id="1007sync_bitmap" title='sync_bitmap' data-type='BdrvDirtyBitmap *' data-ref="1007sync_bitmap">sync_bitmap</dfn>,</td></tr>
<tr><th id="929">929</th><td>                            <span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="local col8 decl" id="1008compress" title='compress' data-type='_Bool' data-ref="1008compress">compress</dfn>,</td></tr>
<tr><th id="930">930</th><td>                            <a class="typedef" href="../../qapi-types.h.html#BlockdevOnError" title='BlockdevOnError' data-type='enum BlockdevOnError' data-ref="BlockdevOnError">BlockdevOnError</a> <dfn class="local col9 decl" id="1009on_source_error" title='on_source_error' data-type='BlockdevOnError' data-ref="1009on_source_error">on_source_error</dfn>,</td></tr>
<tr><th id="931">931</th><td>                            <a class="typedef" href="../../qapi-types.h.html#BlockdevOnError" title='BlockdevOnError' data-type='enum BlockdevOnError' data-ref="BlockdevOnError">BlockdevOnError</a> <dfn class="local col0 decl" id="1010on_target_error" title='on_target_error' data-type='BlockdevOnError' data-ref="1010on_target_error">on_target_error</dfn>,</td></tr>
<tr><th id="932">932</th><td>                            <em>int</em> <dfn class="local col1 decl" id="1011creation_flags" title='creation_flags' data-type='int' data-ref="1011creation_flags">creation_flags</dfn>,</td></tr>
<tr><th id="933">933</th><td>                            <a class="typedef" href="aio.h.html#BlockCompletionFunc" title='BlockCompletionFunc' data-type='void (void *, int)' data-ref="BlockCompletionFunc">BlockCompletionFunc</a> *<dfn class="local col2 decl" id="1012cb" title='cb' data-type='BlockCompletionFunc *' data-ref="1012cb">cb</dfn>, <em>void</em> *<dfn class="local col3 decl" id="1013opaque" title='opaque' data-type='void *' data-ref="1013opaque">opaque</dfn>,</td></tr>
<tr><th id="934">934</th><td>                            <a class="typedef" href="blockjob.h.html#BlockJobTxn" title='BlockJobTxn' data-type='struct BlockJobTxn' data-ref="BlockJobTxn">BlockJobTxn</a> *<dfn class="local col4 decl" id="1014txn" title='txn' data-type='BlockJobTxn *' data-ref="1014txn">txn</dfn>, <a class="typedef" href="../qemu/typedefs.h.html#Error" title='Error' data-type='struct Error' data-ref="Error">Error</a> **<dfn class="local col5 decl" id="1015errp" title='errp' data-type='Error **' data-ref="1015errp">errp</dfn>);</td></tr>
<tr><th id="935">935</th><td></td></tr>
<tr><th id="936">936</th><td><em>void</em> <dfn class="decl" id="hmp_drive_add_node" title='hmp_drive_add_node' data-ref="hmp_drive_add_node">hmp_drive_add_node</dfn>(<a class="typedef" href="../qemu/typedefs.h.html#Monitor" title='Monitor' data-type='struct Monitor' data-ref="Monitor">Monitor</a> *<dfn class="local col6 decl" id="1016mon" title='mon' data-type='Monitor *' data-ref="1016mon">mon</dfn>, <em>const</em> <em>char</em> *<dfn class="local col7 decl" id="1017optstr" title='optstr' data-type='const char *' data-ref="1017optstr">optstr</dfn>);</td></tr>
<tr><th id="937">937</th><td></td></tr>
<tr><th id="938">938</th><td><a class="typedef" href="block.h.html#BdrvChild" title='BdrvChild' data-type='struct BdrvChild' data-ref="BdrvChild">BdrvChild</a> *<a class="decl" href="../../block.c.html#bdrv_root_attach_child" title='bdrv_root_attach_child' data-ref="bdrv_root_attach_child" id="bdrv_root_attach_child">bdrv_root_attach_child</a>(<a class="typedef" href="../qemu/typedefs.h.html#BlockDriverState" title='BlockDriverState' data-type='struct BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a> *<dfn class="local col8 decl" id="1018child_bs" title='child_bs' data-type='BlockDriverState *' data-ref="1018child_bs">child_bs</dfn>,</td></tr>
<tr><th id="939">939</th><td>                                  <em>const</em> <em>char</em> *<dfn class="local col9 decl" id="1019child_name" title='child_name' data-type='const char *' data-ref="1019child_name">child_name</dfn>,</td></tr>
<tr><th id="940">940</th><td>                                  <em>const</em> <a class="typedef" href="block.h.html#BdrvChildRole" title='BdrvChildRole' data-type='struct BdrvChildRole' data-ref="BdrvChildRole">BdrvChildRole</a> *<dfn class="local col0 decl" id="1020child_role" title='child_role' data-type='const BdrvChildRole *' data-ref="1020child_role">child_role</dfn>,</td></tr>
<tr><th id="941">941</th><td>                                  <a class="typedef" href="../../../include/stdint.h.html#uint64_t" title='uint64_t' data-type='unsigned long' data-ref="uint64_t">uint64_t</a> <dfn class="local col1 decl" id="1021perm" title='perm' data-type='uint64_t' data-ref="1021perm">perm</dfn>, <a class="typedef" href="../../../include/stdint.h.html#uint64_t" title='uint64_t' data-type='unsigned long' data-ref="uint64_t">uint64_t</a> <dfn class="local col2 decl" id="1022shared_perm" title='shared_perm' data-type='uint64_t' data-ref="1022shared_perm">shared_perm</dfn>,</td></tr>
<tr><th id="942">942</th><td>                                  <em>void</em> *<dfn class="local col3 decl" id="1023opaque" title='opaque' data-type='void *' data-ref="1023opaque">opaque</dfn>, <a class="typedef" href="../qemu/typedefs.h.html#Error" title='Error' data-type='struct Error' data-ref="Error">Error</a> **<dfn class="local col4 decl" id="1024errp" title='errp' data-type='Error **' data-ref="1024errp">errp</dfn>);</td></tr>
<tr><th id="943">943</th><td><em>void</em> <a class="decl" href="../../block.c.html#bdrv_root_unref_child" title='bdrv_root_unref_child' data-ref="bdrv_root_unref_child" id="bdrv_root_unref_child">bdrv_root_unref_child</a>(<a class="typedef" href="block.h.html#BdrvChild" title='BdrvChild' data-type='struct BdrvChild' data-ref="BdrvChild">BdrvChild</a> *<dfn class="local col5 decl" id="1025child" title='child' data-type='BdrvChild *' data-ref="1025child">child</dfn>);</td></tr>
<tr><th id="944">944</th><td></td></tr>
<tr><th id="945">945</th><td><em>int</em> <a class="decl" href="../../block.c.html#bdrv_child_try_set_perm" title='bdrv_child_try_set_perm' data-ref="bdrv_child_try_set_perm" id="bdrv_child_try_set_perm">bdrv_child_try_set_perm</a>(<a class="typedef" href="block.h.html#BdrvChild" title='BdrvChild' data-type='struct BdrvChild' data-ref="BdrvChild">BdrvChild</a> *<dfn class="local col6 decl" id="1026c" title='c' data-type='BdrvChild *' data-ref="1026c">c</dfn>, <a class="typedef" href="../../../include/stdint.h.html#uint64_t" title='uint64_t' data-type='unsigned long' data-ref="uint64_t">uint64_t</a> <dfn class="local col7 decl" id="1027perm" title='perm' data-type='uint64_t' data-ref="1027perm">perm</dfn>, <a class="typedef" href="../../../include/stdint.h.html#uint64_t" title='uint64_t' data-type='unsigned long' data-ref="uint64_t">uint64_t</a> <dfn class="local col8 decl" id="1028shared" title='shared' data-type='uint64_t' data-ref="1028shared">shared</dfn>,</td></tr>
<tr><th id="946">946</th><td>                            <a class="typedef" href="../qemu/typedefs.h.html#Error" title='Error' data-type='struct Error' data-ref="Error">Error</a> **<dfn class="local col9 decl" id="1029errp" title='errp' data-type='Error **' data-ref="1029errp">errp</dfn>);</td></tr>
<tr><th id="947">947</th><td></td></tr>
<tr><th id="948">948</th><td><i>/* Default implementation for BlockDriver.bdrv_child_perm() that can be used by</i></td></tr>
<tr><th id="949">949</th><td><i> * block filters: Forward CONSISTENT_READ, WRITE, WRITE_UNCHANGED and RESIZE to</i></td></tr>
<tr><th id="950">950</th><td><i> * all children */</i></td></tr>
<tr><th id="951">951</th><td><em>void</em> <a class="decl" href="../../block.c.html#bdrv_filter_default_perms" title='bdrv_filter_default_perms' data-ref="bdrv_filter_default_perms" id="bdrv_filter_default_perms">bdrv_filter_default_perms</a>(<a class="typedef" href="../qemu/typedefs.h.html#BlockDriverState" title='BlockDriverState' data-type='struct BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a> *<dfn class="local col0 decl" id="1030bs" title='bs' data-type='BlockDriverState *' data-ref="1030bs">bs</dfn>, <a class="typedef" href="block.h.html#BdrvChild" title='BdrvChild' data-type='struct BdrvChild' data-ref="BdrvChild">BdrvChild</a> *<dfn class="local col1 decl" id="1031c" title='c' data-type='BdrvChild *' data-ref="1031c">c</dfn>,</td></tr>
<tr><th id="952">952</th><td>                               <em>const</em> <a class="typedef" href="block.h.html#BdrvChildRole" title='BdrvChildRole' data-type='struct BdrvChildRole' data-ref="BdrvChildRole">BdrvChildRole</a> *<dfn class="local col2 decl" id="1032role" title='role' data-type='const BdrvChildRole *' data-ref="1032role">role</dfn>,</td></tr>
<tr><th id="953">953</th><td>                               <a class="typedef" href="../../../include/stdint.h.html#uint64_t" title='uint64_t' data-type='unsigned long' data-ref="uint64_t">uint64_t</a> <dfn class="local col3 decl" id="1033perm" title='perm' data-type='uint64_t' data-ref="1033perm">perm</dfn>, <a class="typedef" href="../../../include/stdint.h.html#uint64_t" title='uint64_t' data-type='unsigned long' data-ref="uint64_t">uint64_t</a> <dfn class="local col4 decl" id="1034shared" title='shared' data-type='uint64_t' data-ref="1034shared">shared</dfn>,</td></tr>
<tr><th id="954">954</th><td>                               <a class="typedef" href="../../../include/stdint.h.html#uint64_t" title='uint64_t' data-type='unsigned long' data-ref="uint64_t">uint64_t</a> *<dfn class="local col5 decl" id="1035nperm" title='nperm' data-type='uint64_t *' data-ref="1035nperm">nperm</dfn>, <a class="typedef" href="../../../include/stdint.h.html#uint64_t" title='uint64_t' data-type='unsigned long' data-ref="uint64_t">uint64_t</a> *<dfn class="local col6 decl" id="1036nshared" title='nshared' data-type='uint64_t *' data-ref="1036nshared">nshared</dfn>);</td></tr>
<tr><th id="955">955</th><td></td></tr>
<tr><th id="956">956</th><td><i>/* Default implementation for BlockDriver.bdrv_child_perm() that can be used by</i></td></tr>
<tr><th id="957">957</th><td><i> * (non-raw) image formats: Like above for bs-&gt;backing, but for bs-&gt;file it</i></td></tr>
<tr><th id="958">958</th><td><i> * requires WRITE | RESIZE for read-write images, always requires</i></td></tr>
<tr><th id="959">959</th><td><i> * CONSISTENT_READ and doesn't share WRITE. */</i></td></tr>
<tr><th id="960">960</th><td><em>void</em> <a class="decl" href="../../block.c.html#bdrv_format_default_perms" title='bdrv_format_default_perms' data-ref="bdrv_format_default_perms" id="bdrv_format_default_perms">bdrv_format_default_perms</a>(<a class="typedef" href="../qemu/typedefs.h.html#BlockDriverState" title='BlockDriverState' data-type='struct BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a> *<dfn class="local col7 decl" id="1037bs" title='bs' data-type='BlockDriverState *' data-ref="1037bs">bs</dfn>, <a class="typedef" href="block.h.html#BdrvChild" title='BdrvChild' data-type='struct BdrvChild' data-ref="BdrvChild">BdrvChild</a> *<dfn class="local col8 decl" id="1038c" title='c' data-type='BdrvChild *' data-ref="1038c">c</dfn>,</td></tr>
<tr><th id="961">961</th><td>                               <em>const</em> <a class="typedef" href="block.h.html#BdrvChildRole" title='BdrvChildRole' data-type='struct BdrvChildRole' data-ref="BdrvChildRole">BdrvChildRole</a> *<dfn class="local col9 decl" id="1039role" title='role' data-type='const BdrvChildRole *' data-ref="1039role">role</dfn>,</td></tr>
<tr><th id="962">962</th><td>                               <a class="typedef" href="../../../include/stdint.h.html#uint64_t" title='uint64_t' data-type='unsigned long' data-ref="uint64_t">uint64_t</a> <dfn class="local col0 decl" id="1040perm" title='perm' data-type='uint64_t' data-ref="1040perm">perm</dfn>, <a class="typedef" href="../../../include/stdint.h.html#uint64_t" title='uint64_t' data-type='unsigned long' data-ref="uint64_t">uint64_t</a> <dfn class="local col1 decl" id="1041shared" title='shared' data-type='uint64_t' data-ref="1041shared">shared</dfn>,</td></tr>
<tr><th id="963">963</th><td>                               <a class="typedef" href="../../../include/stdint.h.html#uint64_t" title='uint64_t' data-type='unsigned long' data-ref="uint64_t">uint64_t</a> *<dfn class="local col2 decl" id="1042nperm" title='nperm' data-type='uint64_t *' data-ref="1042nperm">nperm</dfn>, <a class="typedef" href="../../../include/stdint.h.html#uint64_t" title='uint64_t' data-type='unsigned long' data-ref="uint64_t">uint64_t</a> *<dfn class="local col3 decl" id="1043nshared" title='nshared' data-type='uint64_t *' data-ref="1043nshared">nshared</dfn>);</td></tr>
<tr><th id="964">964</th><td></td></tr>
<tr><th id="965">965</th><td><em>const</em> <em>char</em> *<a class="decl" href="../../block.c.html#bdrv_get_parent_name" title='bdrv_get_parent_name' data-ref="bdrv_get_parent_name" id="bdrv_get_parent_name">bdrv_get_parent_name</a>(<em>const</em> <a class="typedef" href="../qemu/typedefs.h.html#BlockDriverState" title='BlockDriverState' data-type='struct BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a> *<dfn class="local col4 decl" id="1044bs" title='bs' data-type='const BlockDriverState *' data-ref="1044bs">bs</dfn>);</td></tr>
<tr><th id="966">966</th><td><em>void</em> <dfn class="decl" id="blk_dev_change_media_cb" title='blk_dev_change_media_cb' data-ref="blk_dev_change_media_cb">blk_dev_change_media_cb</dfn>(<a class="typedef" href="../qemu/typedefs.h.html#BlockBackend" title='BlockBackend' data-type='struct BlockBackend' data-ref="BlockBackend">BlockBackend</a> *<dfn class="local col5 decl" id="1045blk" title='blk' data-type='BlockBackend *' data-ref="1045blk">blk</dfn>, <span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="local col6 decl" id="1046load" title='load' data-type='_Bool' data-ref="1046load">load</dfn>, <a class="typedef" href="../qemu/typedefs.h.html#Error" title='Error' data-type='struct Error' data-ref="Error">Error</a> **<dfn class="local col7 decl" id="1047errp" title='errp' data-type='Error **' data-ref="1047errp">errp</dfn>);</td></tr>
<tr><th id="967">967</th><td><span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="decl" id="blk_dev_has_removable_media" title='blk_dev_has_removable_media' data-ref="blk_dev_has_removable_media">blk_dev_has_removable_media</dfn>(<a class="typedef" href="../qemu/typedefs.h.html#BlockBackend" title='BlockBackend' data-type='struct BlockBackend' data-ref="BlockBackend">BlockBackend</a> *<dfn class="local col8 decl" id="1048blk" title='blk' data-type='BlockBackend *' data-ref="1048blk">blk</dfn>);</td></tr>
<tr><th id="968">968</th><td><span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="decl" id="blk_dev_has_tray" title='blk_dev_has_tray' data-ref="blk_dev_has_tray">blk_dev_has_tray</dfn>(<a class="typedef" href="../qemu/typedefs.h.html#BlockBackend" title='BlockBackend' data-type='struct BlockBackend' data-ref="BlockBackend">BlockBackend</a> *<dfn class="local col9 decl" id="1049blk" title='blk' data-type='BlockBackend *' data-ref="1049blk">blk</dfn>);</td></tr>
<tr><th id="969">969</th><td><em>void</em> <dfn class="decl" id="blk_dev_eject_request" title='blk_dev_eject_request' data-ref="blk_dev_eject_request">blk_dev_eject_request</dfn>(<a class="typedef" href="../qemu/typedefs.h.html#BlockBackend" title='BlockBackend' data-type='struct BlockBackend' data-ref="BlockBackend">BlockBackend</a> *<dfn class="local col0 decl" id="1050blk" title='blk' data-type='BlockBackend *' data-ref="1050blk">blk</dfn>, <span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="local col1 decl" id="1051force" title='force' data-type='_Bool' data-ref="1051force">force</dfn>);</td></tr>
<tr><th id="970">970</th><td><span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="decl" id="blk_dev_is_tray_open" title='blk_dev_is_tray_open' data-ref="blk_dev_is_tray_open">blk_dev_is_tray_open</dfn>(<a class="typedef" href="../qemu/typedefs.h.html#BlockBackend" title='BlockBackend' data-type='struct BlockBackend' data-ref="BlockBackend">BlockBackend</a> *<dfn class="local col2 decl" id="1052blk" title='blk' data-type='BlockBackend *' data-ref="1052blk">blk</dfn>);</td></tr>
<tr><th id="971">971</th><td><span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="decl" id="blk_dev_is_medium_locked" title='blk_dev_is_medium_locked' data-ref="blk_dev_is_medium_locked">blk_dev_is_medium_locked</dfn>(<a class="typedef" href="../qemu/typedefs.h.html#BlockBackend" title='BlockBackend' data-type='struct BlockBackend' data-ref="BlockBackend">BlockBackend</a> *<dfn class="local col3 decl" id="1053blk" title='blk' data-type='BlockBackend *' data-ref="1053blk">blk</dfn>);</td></tr>
<tr><th id="972">972</th><td></td></tr>
<tr><th id="973">973</th><td><em>void</em> <dfn class="decl" id="bdrv_set_dirty" title='bdrv_set_dirty' data-ref="bdrv_set_dirty">bdrv_set_dirty</dfn>(<a class="typedef" href="../qemu/typedefs.h.html#BlockDriverState" title='BlockDriverState' data-type='struct BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a> *<dfn class="local col4 decl" id="1054bs" title='bs' data-type='BlockDriverState *' data-ref="1054bs">bs</dfn>, <a class="typedef" href="../../../include/stdint.h.html#int64_t" title='int64_t' data-type='long' data-ref="int64_t">int64_t</a> <dfn class="local col5 decl" id="1055cur_sector" title='cur_sector' data-type='int64_t' data-ref="1055cur_sector">cur_sector</dfn>, <a class="typedef" href="../../../include/stdint.h.html#int64_t" title='int64_t' data-type='long' data-ref="int64_t">int64_t</a> <dfn class="local col6 decl" id="1056nr_sect" title='nr_sect' data-type='int64_t' data-ref="1056nr_sect">nr_sect</dfn>);</td></tr>
<tr><th id="974">974</th><td><span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="decl" id="bdrv_requests_pending" title='bdrv_requests_pending' data-ref="bdrv_requests_pending">bdrv_requests_pending</dfn>(<a class="typedef" href="../qemu/typedefs.h.html#BlockDriverState" title='BlockDriverState' data-type='struct BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a> *<dfn class="local col7 decl" id="1057bs" title='bs' data-type='BlockDriverState *' data-ref="1057bs">bs</dfn>);</td></tr>
<tr><th id="975">975</th><td></td></tr>
<tr><th id="976">976</th><td><em>void</em> <dfn class="decl" id="bdrv_clear_dirty_bitmap" title='bdrv_clear_dirty_bitmap' data-ref="bdrv_clear_dirty_bitmap">bdrv_clear_dirty_bitmap</dfn>(<a class="typedef" href="../qemu/typedefs.h.html#BdrvDirtyBitmap" title='BdrvDirtyBitmap' data-type='struct BdrvDirtyBitmap' data-ref="BdrvDirtyBitmap">BdrvDirtyBitmap</a> *<dfn class="local col8 decl" id="1058bitmap" title='bitmap' data-type='BdrvDirtyBitmap *' data-ref="1058bitmap">bitmap</dfn>, <a class="typedef" href="../qemu/hbitmap.h.html#HBitmap" title='HBitmap' data-type='struct HBitmap' data-ref="HBitmap">HBitmap</a> **<dfn class="local col9 decl" id="1059out" title='out' data-type='HBitmap **' data-ref="1059out">out</dfn>);</td></tr>
<tr><th id="977">977</th><td><em>void</em> <dfn class="decl" id="bdrv_undo_clear_dirty_bitmap" title='bdrv_undo_clear_dirty_bitmap' data-ref="bdrv_undo_clear_dirty_bitmap">bdrv_undo_clear_dirty_bitmap</dfn>(<a class="typedef" href="../qemu/typedefs.h.html#BdrvDirtyBitmap" title='BdrvDirtyBitmap' data-type='struct BdrvDirtyBitmap' data-ref="BdrvDirtyBitmap">BdrvDirtyBitmap</a> *<dfn class="local col0 decl" id="1060bitmap" title='bitmap' data-type='BdrvDirtyBitmap *' data-ref="1060bitmap">bitmap</dfn>, <a class="typedef" href="../qemu/hbitmap.h.html#HBitmap" title='HBitmap' data-type='struct HBitmap' data-ref="HBitmap">HBitmap</a> *<dfn class="local col1 decl" id="1061in" title='in' data-type='HBitmap *' data-ref="1061in">in</dfn>);</td></tr>
<tr><th id="978">978</th><td></td></tr>
<tr><th id="979">979</th><td><em>void</em> <dfn class="decl" id="bdrv_inc_in_flight" title='bdrv_inc_in_flight' data-ref="bdrv_inc_in_flight">bdrv_inc_in_flight</dfn>(<a class="typedef" href="../qemu/typedefs.h.html#BlockDriverState" title='BlockDriverState' data-type='struct BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a> *<dfn class="local col2 decl" id="1062bs" title='bs' data-type='BlockDriverState *' data-ref="1062bs">bs</dfn>);</td></tr>
<tr><th id="980">980</th><td><em>void</em> <dfn class="decl" id="bdrv_dec_in_flight" title='bdrv_dec_in_flight' data-ref="bdrv_dec_in_flight">bdrv_dec_in_flight</dfn>(<a class="typedef" href="../qemu/typedefs.h.html#BlockDriverState" title='BlockDriverState' data-type='struct BlockDriverState' data-ref="BlockDriverState">BlockDriverState</a> *<dfn class="local col3 decl" id="1063bs" title='bs' data-type='BlockDriverState *' data-ref="1063bs">bs</dfn>);</td></tr>
<tr><th id="981">981</th><td></td></tr>
<tr><th id="982">982</th><td><em>void</em> <dfn class="decl" id="blockdev_close_all_bdrv_states" title='blockdev_close_all_bdrv_states' data-ref="blockdev_close_all_bdrv_states">blockdev_close_all_bdrv_states</dfn>(<em>void</em>);</td></tr>
<tr><th id="983">983</th><td></td></tr>
<tr><th id="984">984</th><td><u>#<span data-ppcond="24">endif</span> /* BLOCK_INT_H */</u></td></tr>
<tr><th id="985">985</th><td></td></tr>
</table><hr/><p id='footer'>
Generated while processing <a href='../../block.c.html'>codebrowser/block.c</a><br/>Generated on <em>2017-Aug-28</em> from project codebrowser revision <em>v2.10.0-rc0-7-g6be37cc</em><br />Powered by <a href='https://woboq.com'><img alt='Woboq' src='https://code.woboq.org/woboq-16.png' width='41' height='16' /></a> <a href='https://code.woboq.org'>Code Browser</a> 2.1
<br/>Generator usage only permitted with license.</p>
</div></body></html>

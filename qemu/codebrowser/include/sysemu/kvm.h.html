<!doctype html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0"><title>kvm.h source code [codebrowser/include/sysemu/kvm.h] - Woboq Code Browser</title>
<meta name="woboq:interestingDefinitions" content="KVMCapabilityInfo,kvm_sw_breakpoint "/>
<link rel="stylesheet" href="../../../../data/qtcreator.css" title="QtCreator"/>
<link rel="alternate stylesheet" href="../../../../data/kdevelop.css" title="KDevelop"/>
<script type="text/javascript" src="../../../../data/jquery/jquery.min.js"></script>
<script type="text/javascript" src="../../../../data/jquery/jquery-ui.min.js"></script>
<script>var file = 'codebrowser/include/sysemu/kvm.h'; var root_path = '../../..'; var data_path = '../../../../data';</script>
<script src='../../../../data/codebrowser.js'></script>
</head>
<body><div id='header'><h1 id='breadcrumb'><span>Browse the source code of </span><a href='../..'>codebrowser</a>/<a href='..'>include</a>/<a href='./'>sysemu</a>/<a href='kvm.h.html'>kvm.h</a></h1></div>
<hr/><div id='content'><table class="code">
<tr><th id="1">1</th><td><i>/*</i></td></tr>
<tr><th id="2">2</th><td><i> * QEMU KVM support</i></td></tr>
<tr><th id="3">3</th><td><i> *</i></td></tr>
<tr><th id="4">4</th><td><i> * Copyright IBM, Corp. 2008</i></td></tr>
<tr><th id="5">5</th><td><i> *</i></td></tr>
<tr><th id="6">6</th><td><i> * Authors:</i></td></tr>
<tr><th id="7">7</th><td><i> *  Anthony Liguori   &lt;aliguori@us.ibm.com&gt;</i></td></tr>
<tr><th id="8">8</th><td><i> *</i></td></tr>
<tr><th id="9">9</th><td><i> * This work is licensed under the terms of the GNU GPL, version 2 or later.</i></td></tr>
<tr><th id="10">10</th><td><i> * See the COPYING file in the top-level directory.</i></td></tr>
<tr><th id="11">11</th><td><i> *</i></td></tr>
<tr><th id="12">12</th><td><i> */</i></td></tr>
<tr><th id="13">13</th><td></td></tr>
<tr><th id="14">14</th><td><u>#<span data-ppcond="14">ifndef</span> <span class="macro" data-ref="_M/QEMU_KVM_H">QEMU_KVM_H</span></u></td></tr>
<tr><th id="15">15</th><td><u>#define <dfn class="macro" id="_M/QEMU_KVM_H" data-ref="_M/QEMU_KVM_H">QEMU_KVM_H</dfn></u></td></tr>
<tr><th id="16">16</th><td></td></tr>
<tr><th id="17">17</th><td><u>#include <a href="../qemu/queue.h.html">"qemu/queue.h"</a></u></td></tr>
<tr><th id="18">18</th><td><u>#include <a href="../qom/cpu.h.html">"qom/cpu.h"</a></u></td></tr>
<tr><th id="19">19</th><td><u>#include <a href="../exec/memattrs.h.html">"exec/memattrs.h"</a></u></td></tr>
<tr><th id="20">20</th><td><u>#include <a href="../hw/irq.h.html">"hw/irq.h"</a></u></td></tr>
<tr><th id="21">21</th><td></td></tr>
<tr><th id="22">22</th><td><u>#<span data-ppcond="22">ifdef</span> <span class="macro" data-ref="_M/NEED_CPU_H">NEED_CPU_H</span></u></td></tr>
<tr><th id="23">23</th><td><u># <span data-ppcond="23">ifdef</span> <a class="macro" href="../../x86_64-softmmu/config-target.h.html#5" data-ref="_M/CONFIG_KVM">CONFIG_KVM</a></u></td></tr>
<tr><th id="24">24</th><td><u>#  include <a href="../../linux-headers/linux/kvm.h.html">&lt;linux/kvm.h&gt;</a></u></td></tr>
<tr><th id="25">25</th><td><u>#  include <a href="../../linux-headers/linux/kvm_para.h.html">&lt;linux/kvm_para.h&gt;</a></u></td></tr>
<tr><th id="26">26</th><td><u>#  define <dfn class="macro" id="_M/CONFIG_KVM_IS_POSSIBLE" data-ref="_M/CONFIG_KVM_IS_POSSIBLE">CONFIG_KVM_IS_POSSIBLE</dfn></u></td></tr>
<tr><th id="27">27</th><td><u># <span data-ppcond="23">endif</span></u></td></tr>
<tr><th id="28">28</th><td><u>#<span data-ppcond="22">else</span></u></td></tr>
<tr><th id="29">29</th><td><u># define CONFIG_KVM_IS_POSSIBLE</u></td></tr>
<tr><th id="30">30</th><td><u>#<span data-ppcond="22">endif</span></u></td></tr>
<tr><th id="31">31</th><td></td></tr>
<tr><th id="32">32</th><td><u>#<span data-ppcond="32">ifdef</span> <a class="macro" href="#26" data-ref="_M/CONFIG_KVM_IS_POSSIBLE">CONFIG_KVM_IS_POSSIBLE</a></u></td></tr>
<tr><th id="33">33</th><td></td></tr>
<tr><th id="34">34</th><td><b>extern</b> <span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="decl" id="kvm_allowed" title='kvm_allowed' data-ref="kvm_allowed">kvm_allowed</dfn>;</td></tr>
<tr><th id="35">35</th><td><b>extern</b> <span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="decl" id="kvm_kernel_irqchip" title='kvm_kernel_irqchip' data-ref="kvm_kernel_irqchip">kvm_kernel_irqchip</dfn>;</td></tr>
<tr><th id="36">36</th><td><b>extern</b> <span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="decl" id="kvm_split_irqchip" title='kvm_split_irqchip' data-ref="kvm_split_irqchip">kvm_split_irqchip</dfn>;</td></tr>
<tr><th id="37">37</th><td><b>extern</b> <span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="decl" id="kvm_async_interrupts_allowed" title='kvm_async_interrupts_allowed' data-ref="kvm_async_interrupts_allowed">kvm_async_interrupts_allowed</dfn>;</td></tr>
<tr><th id="38">38</th><td><b>extern</b> <span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="decl" id="kvm_halt_in_kernel_allowed" title='kvm_halt_in_kernel_allowed' data-ref="kvm_halt_in_kernel_allowed">kvm_halt_in_kernel_allowed</dfn>;</td></tr>
<tr><th id="39">39</th><td><b>extern</b> <span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="decl" id="kvm_eventfds_allowed" title='kvm_eventfds_allowed' data-ref="kvm_eventfds_allowed">kvm_eventfds_allowed</dfn>;</td></tr>
<tr><th id="40">40</th><td><b>extern</b> <span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="decl" id="kvm_irqfds_allowed" title='kvm_irqfds_allowed' data-ref="kvm_irqfds_allowed">kvm_irqfds_allowed</dfn>;</td></tr>
<tr><th id="41">41</th><td><b>extern</b> <span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="decl" id="kvm_resamplefds_allowed" title='kvm_resamplefds_allowed' data-ref="kvm_resamplefds_allowed">kvm_resamplefds_allowed</dfn>;</td></tr>
<tr><th id="42">42</th><td><b>extern</b> <span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="decl" id="kvm_msi_via_irqfd_allowed" title='kvm_msi_via_irqfd_allowed' data-ref="kvm_msi_via_irqfd_allowed">kvm_msi_via_irqfd_allowed</dfn>;</td></tr>
<tr><th id="43">43</th><td><b>extern</b> <span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="decl" id="kvm_gsi_routing_allowed" title='kvm_gsi_routing_allowed' data-ref="kvm_gsi_routing_allowed">kvm_gsi_routing_allowed</dfn>;</td></tr>
<tr><th id="44">44</th><td><b>extern</b> <span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="decl" id="kvm_gsi_direct_mapping" title='kvm_gsi_direct_mapping' data-ref="kvm_gsi_direct_mapping">kvm_gsi_direct_mapping</dfn>;</td></tr>
<tr><th id="45">45</th><td><b>extern</b> <span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="decl" id="kvm_readonly_mem_allowed" title='kvm_readonly_mem_allowed' data-ref="kvm_readonly_mem_allowed">kvm_readonly_mem_allowed</dfn>;</td></tr>
<tr><th id="46">46</th><td><b>extern</b> <span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="decl" id="kvm_direct_msi_allowed" title='kvm_direct_msi_allowed' data-ref="kvm_direct_msi_allowed">kvm_direct_msi_allowed</dfn>;</td></tr>
<tr><th id="47">47</th><td><b>extern</b> <span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="decl" id="kvm_ioeventfd_any_length_allowed" title='kvm_ioeventfd_any_length_allowed' data-ref="kvm_ioeventfd_any_length_allowed">kvm_ioeventfd_any_length_allowed</dfn>;</td></tr>
<tr><th id="48">48</th><td><b>extern</b> <span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="decl" id="kvm_msi_use_devid" title='kvm_msi_use_devid' data-ref="kvm_msi_use_devid">kvm_msi_use_devid</dfn>;</td></tr>
<tr><th id="49">49</th><td></td></tr>
<tr><th id="50">50</th><td><u>#define <dfn class="macro" id="_M/kvm_enabled" data-ref="_M/kvm_enabled">kvm_enabled</dfn>()           (kvm_allowed)</u></td></tr>
<tr><th id="51">51</th><td><i class="doc">/**</i></td></tr>
<tr><th id="52">52</th><td><i class="doc"> * kvm_irqchip_in_kernel:</i></td></tr>
<tr><th id="53">53</th><td><i class="doc"> *</i></td></tr>
<tr><th id="54">54</th><td><i class="doc"> * Returns: true if the user asked us to create an in-kernel</i></td></tr>
<tr><th id="55">55</th><td><i class="doc"> * irqchip via the "kernel_irqchip=on" machine option.</i></td></tr>
<tr><th id="56">56</th><td><i class="doc"> * What this actually means is architecture and machine model</i></td></tr>
<tr><th id="57">57</th><td><i class="doc"> * specific: on PC, for instance, it means that the LAPIC,</i></td></tr>
<tr><th id="58">58</th><td><i class="doc"> * IOAPIC and PIT are all in kernel. This function should never</i></td></tr>
<tr><th id="59">59</th><td><i class="doc"> * be used from generic target-independent code: use one of the</i></td></tr>
<tr><th id="60">60</th><td><i class="doc"> * following functions or some other specific check instead.</i></td></tr>
<tr><th id="61">61</th><td><i class="doc"> */</i></td></tr>
<tr><th id="62">62</th><td><u>#define <dfn class="macro" id="_M/kvm_irqchip_in_kernel" data-ref="_M/kvm_irqchip_in_kernel">kvm_irqchip_in_kernel</dfn>() (kvm_kernel_irqchip)</u></td></tr>
<tr><th id="63">63</th><td></td></tr>
<tr><th id="64">64</th><td><i class="doc">/**</i></td></tr>
<tr><th id="65">65</th><td><i class="doc"> * kvm_irqchip_is_split:</i></td></tr>
<tr><th id="66">66</th><td><i class="doc"> *</i></td></tr>
<tr><th id="67">67</th><td><i class="doc"> * Returns: true if the user asked us to split the irqchip</i></td></tr>
<tr><th id="68">68</th><td><i class="doc"> * implementation between user and kernel space. The details are</i></td></tr>
<tr><th id="69">69</th><td><i class="doc"> * architecture and machine specific. On PC, it means that the PIC,</i></td></tr>
<tr><th id="70">70</th><td><i class="doc"> * IOAPIC, and PIT are in user space while the LAPIC is in the kernel.</i></td></tr>
<tr><th id="71">71</th><td><i class="doc"> */</i></td></tr>
<tr><th id="72">72</th><td><u>#define <dfn class="macro" id="_M/kvm_irqchip_is_split" data-ref="_M/kvm_irqchip_is_split">kvm_irqchip_is_split</dfn>() (kvm_split_irqchip)</u></td></tr>
<tr><th id="73">73</th><td></td></tr>
<tr><th id="74">74</th><td><i class="doc">/**</i></td></tr>
<tr><th id="75">75</th><td><i class="doc"> * kvm_async_interrupts_enabled:</i></td></tr>
<tr><th id="76">76</th><td><i class="doc"> *</i></td></tr>
<tr><th id="77">77</th><td><i class="doc"> * Returns: true if we can deliver interrupts to KVM</i></td></tr>
<tr><th id="78">78</th><td><i class="doc"> * asynchronously (ie by ioctl from any thread at any time)</i></td></tr>
<tr><th id="79">79</th><td><i class="doc"> * rather than having to do interrupt delivery synchronously</i></td></tr>
<tr><th id="80">80</th><td><i class="doc"> * (where the vcpu must be stopped at a suitable point first).</i></td></tr>
<tr><th id="81">81</th><td><i class="doc"> */</i></td></tr>
<tr><th id="82">82</th><td><u>#define <dfn class="macro" id="_M/kvm_async_interrupts_enabled" data-ref="_M/kvm_async_interrupts_enabled">kvm_async_interrupts_enabled</dfn>() (kvm_async_interrupts_allowed)</u></td></tr>
<tr><th id="83">83</th><td></td></tr>
<tr><th id="84">84</th><td><i class="doc">/**</i></td></tr>
<tr><th id="85">85</th><td><i class="doc"> * kvm_halt_in_kernel</i></td></tr>
<tr><th id="86">86</th><td><i class="doc"> *</i></td></tr>
<tr><th id="87">87</th><td><i class="doc"> * Returns: true if halted cpus should still get a KVM_RUN ioctl to run</i></td></tr>
<tr><th id="88">88</th><td><i class="doc"> * inside of kernel space. This only works if MP state is implemented.</i></td></tr>
<tr><th id="89">89</th><td><i class="doc"> */</i></td></tr>
<tr><th id="90">90</th><td><u>#define <dfn class="macro" id="_M/kvm_halt_in_kernel" data-ref="_M/kvm_halt_in_kernel">kvm_halt_in_kernel</dfn>() (kvm_halt_in_kernel_allowed)</u></td></tr>
<tr><th id="91">91</th><td></td></tr>
<tr><th id="92">92</th><td><i class="doc">/**</i></td></tr>
<tr><th id="93">93</th><td><i class="doc"> * kvm_eventfds_enabled:</i></td></tr>
<tr><th id="94">94</th><td><i class="doc"> *</i></td></tr>
<tr><th id="95">95</th><td><i class="doc"> * Returns: true if we can use eventfds to receive notifications</i></td></tr>
<tr><th id="96">96</th><td><i class="doc"> * from a KVM CPU (ie the kernel supports eventds and we are running</i></td></tr>
<tr><th id="97">97</th><td><i class="doc"> * with a configuration where it is meaningful to use them).</i></td></tr>
<tr><th id="98">98</th><td><i class="doc"> */</i></td></tr>
<tr><th id="99">99</th><td><u>#define <dfn class="macro" id="_M/kvm_eventfds_enabled" data-ref="_M/kvm_eventfds_enabled">kvm_eventfds_enabled</dfn>() (kvm_eventfds_allowed)</u></td></tr>
<tr><th id="100">100</th><td></td></tr>
<tr><th id="101">101</th><td><i class="doc">/**</i></td></tr>
<tr><th id="102">102</th><td><i class="doc"> * kvm_irqfds_enabled:</i></td></tr>
<tr><th id="103">103</th><td><i class="doc"> *</i></td></tr>
<tr><th id="104">104</th><td><i class="doc"> * Returns: true if we can use irqfds to inject interrupts into</i></td></tr>
<tr><th id="105">105</th><td><i class="doc"> * a KVM CPU (ie the kernel supports irqfds and we are running</i></td></tr>
<tr><th id="106">106</th><td><i class="doc"> * with a configuration where it is meaningful to use them).</i></td></tr>
<tr><th id="107">107</th><td><i class="doc"> */</i></td></tr>
<tr><th id="108">108</th><td><u>#define <dfn class="macro" id="_M/kvm_irqfds_enabled" data-ref="_M/kvm_irqfds_enabled">kvm_irqfds_enabled</dfn>() (kvm_irqfds_allowed)</u></td></tr>
<tr><th id="109">109</th><td></td></tr>
<tr><th id="110">110</th><td><i class="doc">/**</i></td></tr>
<tr><th id="111">111</th><td><i class="doc"> * kvm_resamplefds_enabled:</i></td></tr>
<tr><th id="112">112</th><td><i class="doc"> *</i></td></tr>
<tr><th id="113">113</th><td><i class="doc"> * Returns: true if we can use resamplefds to inject interrupts into</i></td></tr>
<tr><th id="114">114</th><td><i class="doc"> * a KVM CPU (ie the kernel supports resamplefds and we are running</i></td></tr>
<tr><th id="115">115</th><td><i class="doc"> * with a configuration where it is meaningful to use them).</i></td></tr>
<tr><th id="116">116</th><td><i class="doc"> */</i></td></tr>
<tr><th id="117">117</th><td><u>#define <dfn class="macro" id="_M/kvm_resamplefds_enabled" data-ref="_M/kvm_resamplefds_enabled">kvm_resamplefds_enabled</dfn>() (kvm_resamplefds_allowed)</u></td></tr>
<tr><th id="118">118</th><td></td></tr>
<tr><th id="119">119</th><td><i class="doc">/**</i></td></tr>
<tr><th id="120">120</th><td><i class="doc"> * kvm_msi_via_irqfd_enabled:</i></td></tr>
<tr><th id="121">121</th><td><i class="doc"> *</i></td></tr>
<tr><th id="122">122</th><td><i class="doc"> * Returns: true if we can route a PCI MSI (Message Signaled Interrupt)</i></td></tr>
<tr><th id="123">123</th><td><i class="doc"> * to a KVM CPU via an irqfd. This requires that the kernel supports</i></td></tr>
<tr><th id="124">124</th><td><i class="doc"> * this and that we're running in a configuration that permits it.</i></td></tr>
<tr><th id="125">125</th><td><i class="doc"> */</i></td></tr>
<tr><th id="126">126</th><td><u>#define <dfn class="macro" id="_M/kvm_msi_via_irqfd_enabled" data-ref="_M/kvm_msi_via_irqfd_enabled">kvm_msi_via_irqfd_enabled</dfn>() (kvm_msi_via_irqfd_allowed)</u></td></tr>
<tr><th id="127">127</th><td></td></tr>
<tr><th id="128">128</th><td><i class="doc">/**</i></td></tr>
<tr><th id="129">129</th><td><i class="doc"> * kvm_gsi_routing_enabled:</i></td></tr>
<tr><th id="130">130</th><td><i class="doc"> *</i></td></tr>
<tr><th id="131">131</th><td><i class="doc"> * Returns: true if GSI routing is enabled (ie the kernel supports</i></td></tr>
<tr><th id="132">132</th><td><i class="doc"> * it and we're running in a configuration that permits it).</i></td></tr>
<tr><th id="133">133</th><td><i class="doc"> */</i></td></tr>
<tr><th id="134">134</th><td><u>#define <dfn class="macro" id="_M/kvm_gsi_routing_enabled" data-ref="_M/kvm_gsi_routing_enabled">kvm_gsi_routing_enabled</dfn>() (kvm_gsi_routing_allowed)</u></td></tr>
<tr><th id="135">135</th><td></td></tr>
<tr><th id="136">136</th><td><i class="doc">/**</i></td></tr>
<tr><th id="137">137</th><td><i class="doc"> * kvm_gsi_direct_mapping:</i></td></tr>
<tr><th id="138">138</th><td><i class="doc"> *</i></td></tr>
<tr><th id="139">139</th><td><i class="doc"> * Returns: true if GSI direct mapping is enabled.</i></td></tr>
<tr><th id="140">140</th><td><i class="doc"> */</i></td></tr>
<tr><th id="141">141</th><td><u>#define <dfn class="macro" id="_M/kvm_gsi_direct_mapping" data-ref="_M/kvm_gsi_direct_mapping">kvm_gsi_direct_mapping</dfn>() (kvm_gsi_direct_mapping)</u></td></tr>
<tr><th id="142">142</th><td></td></tr>
<tr><th id="143">143</th><td><i class="doc">/**</i></td></tr>
<tr><th id="144">144</th><td><i class="doc"> * kvm_readonly_mem_enabled:</i></td></tr>
<tr><th id="145">145</th><td><i class="doc"> *</i></td></tr>
<tr><th id="146">146</th><td><i class="doc"> * Returns: true if KVM readonly memory is enabled (ie the kernel</i></td></tr>
<tr><th id="147">147</th><td><i class="doc"> * supports it and we're running in a configuration that permits it).</i></td></tr>
<tr><th id="148">148</th><td><i class="doc"> */</i></td></tr>
<tr><th id="149">149</th><td><u>#define <dfn class="macro" id="_M/kvm_readonly_mem_enabled" data-ref="_M/kvm_readonly_mem_enabled">kvm_readonly_mem_enabled</dfn>() (kvm_readonly_mem_allowed)</u></td></tr>
<tr><th id="150">150</th><td></td></tr>
<tr><th id="151">151</th><td><i class="doc">/**</i></td></tr>
<tr><th id="152">152</th><td><i class="doc"> * kvm_direct_msi_enabled:</i></td></tr>
<tr><th id="153">153</th><td><i class="doc"> *</i></td></tr>
<tr><th id="154">154</th><td><i class="doc"> * Returns: true if KVM allows direct MSI injection.</i></td></tr>
<tr><th id="155">155</th><td><i class="doc"> */</i></td></tr>
<tr><th id="156">156</th><td><u>#define <dfn class="macro" id="_M/kvm_direct_msi_enabled" data-ref="_M/kvm_direct_msi_enabled">kvm_direct_msi_enabled</dfn>() (kvm_direct_msi_allowed)</u></td></tr>
<tr><th id="157">157</th><td></td></tr>
<tr><th id="158">158</th><td><i class="doc">/**</i></td></tr>
<tr><th id="159">159</th><td><i class="doc"> * kvm_ioeventfd_any_length_enabled:</i></td></tr>
<tr><th id="160">160</th><td><i class="doc"> * Returns: true if KVM allows any length io eventfd.</i></td></tr>
<tr><th id="161">161</th><td><i class="doc"> */</i></td></tr>
<tr><th id="162">162</th><td><u>#define <dfn class="macro" id="_M/kvm_ioeventfd_any_length_enabled" data-ref="_M/kvm_ioeventfd_any_length_enabled">kvm_ioeventfd_any_length_enabled</dfn>() (kvm_ioeventfd_any_length_allowed)</u></td></tr>
<tr><th id="163">163</th><td></td></tr>
<tr><th id="164">164</th><td><i class="doc">/**</i></td></tr>
<tr><th id="165">165</th><td><i class="doc"> * kvm_msi_devid_required:</i></td></tr>
<tr><th id="166">166</th><td><i class="doc"> * Returns: true if KVM requires a device id to be provided while</i></td></tr>
<tr><th id="167">167</th><td><i class="doc"> * defining an MSI routing entry.</i></td></tr>
<tr><th id="168">168</th><td><i class="doc"> */</i></td></tr>
<tr><th id="169">169</th><td><u>#define <dfn class="macro" id="_M/kvm_msi_devid_required" data-ref="_M/kvm_msi_devid_required">kvm_msi_devid_required</dfn>() (kvm_msi_use_devid)</u></td></tr>
<tr><th id="170">170</th><td></td></tr>
<tr><th id="171">171</th><td><u>#<span data-ppcond="32">else</span></u></td></tr>
<tr><th id="172">172</th><td></td></tr>
<tr><th id="173">173</th><td><u>#define kvm_enabled()           (0)</u></td></tr>
<tr><th id="174">174</th><td><u>#define kvm_irqchip_in_kernel() (false)</u></td></tr>
<tr><th id="175">175</th><td><u>#define kvm_irqchip_is_split() (false)</u></td></tr>
<tr><th id="176">176</th><td><u>#define kvm_async_interrupts_enabled() (false)</u></td></tr>
<tr><th id="177">177</th><td><u>#define kvm_halt_in_kernel() (false)</u></td></tr>
<tr><th id="178">178</th><td><u>#define kvm_eventfds_enabled() (false)</u></td></tr>
<tr><th id="179">179</th><td><u>#define kvm_irqfds_enabled() (false)</u></td></tr>
<tr><th id="180">180</th><td><u>#define kvm_resamplefds_enabled() (false)</u></td></tr>
<tr><th id="181">181</th><td><u>#define kvm_msi_via_irqfd_enabled() (false)</u></td></tr>
<tr><th id="182">182</th><td><u>#define kvm_gsi_routing_allowed() (false)</u></td></tr>
<tr><th id="183">183</th><td><u>#define kvm_gsi_direct_mapping() (false)</u></td></tr>
<tr><th id="184">184</th><td><u>#define kvm_readonly_mem_enabled() (false)</u></td></tr>
<tr><th id="185">185</th><td><u>#define kvm_direct_msi_enabled() (false)</u></td></tr>
<tr><th id="186">186</th><td><u>#define kvm_ioeventfd_any_length_enabled() (false)</u></td></tr>
<tr><th id="187">187</th><td><u>#define kvm_msi_devid_required() (false)</u></td></tr>
<tr><th id="188">188</th><td></td></tr>
<tr><th id="189">189</th><td><u>#<span data-ppcond="32">endif</span>  /* CONFIG_KVM_IS_POSSIBLE */</u></td></tr>
<tr><th id="190">190</th><td></td></tr>
<tr><th id="191">191</th><td><b>struct</b> <a class="type" href="../../linux-headers/linux/kvm.h.html#kvm_run" title='kvm_run' data-ref="kvm_run" id="kvm_run">kvm_run</a>;</td></tr>
<tr><th id="192">192</th><td><b>struct</b> <a class="type" href="../../linux-headers/asm-x86/kvm.h.html#kvm_lapic_state" title='kvm_lapic_state' data-ref="kvm_lapic_state" id="kvm_lapic_state">kvm_lapic_state</a>;</td></tr>
<tr><th id="193">193</th><td><b>struct</b> <a class="type" href="../../linux-headers/linux/kvm.h.html#kvm_irq_routing_entry" title='kvm_irq_routing_entry' data-ref="kvm_irq_routing_entry" id="kvm_irq_routing_entry">kvm_irq_routing_entry</a>;</td></tr>
<tr><th id="194">194</th><td></td></tr>
<tr><th id="195">195</th><td><b>typedef</b> <b>struct</b> <dfn class="type def" id="KVMCapabilityInfo" title='KVMCapabilityInfo' data-ref="KVMCapabilityInfo"><a class="type" href="#KVMCapabilityInfo" title='KVMCapabilityInfo' data-ref="KVMCapabilityInfo">KVMCapabilityInfo</a></dfn> {</td></tr>
<tr><th id="196">196</th><td>    <em>const</em> <em>char</em> *<dfn class="decl" id="KVMCapabilityInfo::name" title='KVMCapabilityInfo::name' data-ref="KVMCapabilityInfo::name">name</dfn>;</td></tr>
<tr><th id="197">197</th><td>    <em>int</em> <dfn class="decl" id="KVMCapabilityInfo::value" title='KVMCapabilityInfo::value' data-ref="KVMCapabilityInfo::value">value</dfn>;</td></tr>
<tr><th id="198">198</th><td>} <dfn class="typedef" id="KVMCapabilityInfo" title='KVMCapabilityInfo' data-type='struct KVMCapabilityInfo' data-ref="KVMCapabilityInfo">KVMCapabilityInfo</dfn>;</td></tr>
<tr><th id="199">199</th><td></td></tr>
<tr><th id="200">200</th><td><u>#define <dfn class="macro" id="_M/KVM_CAP_INFO" data-ref="_M/KVM_CAP_INFO">KVM_CAP_INFO</dfn>(CAP) { "KVM_CAP_" stringify(CAP), KVM_CAP_##CAP }</u></td></tr>
<tr><th id="201">201</th><td><u>#define <dfn class="macro" id="_M/KVM_CAP_LAST_INFO" data-ref="_M/KVM_CAP_LAST_INFO">KVM_CAP_LAST_INFO</dfn> { NULL, 0 }</u></td></tr>
<tr><th id="202">202</th><td></td></tr>
<tr><th id="203">203</th><td><b>struct</b> <a class="type" href="../qom/cpu.h.html#KVMState" title='KVMState' data-ref="KVMState" id="KVMState">KVMState</a>;</td></tr>
<tr><th id="204">204</th><td><b>typedef</b> <b>struct</b> <a class="type" href="../qom/cpu.h.html#KVMState" title='KVMState' data-ref="KVMState">KVMState</a> <dfn class="typedef" id="KVMState" title='KVMState' data-type='struct KVMState' data-ref="KVMState">KVMState</dfn>;</td></tr>
<tr><th id="205">205</th><td><b>extern</b> <a class="typedef" href="#KVMState" title='KVMState' data-type='struct KVMState' data-ref="KVMState">KVMState</a> *<dfn class="decl" id="kvm_state" title='kvm_state' data-ref="kvm_state">kvm_state</dfn>;</td></tr>
<tr><th id="206">206</th><td></td></tr>
<tr><th id="207">207</th><td><i>/* external API */</i></td></tr>
<tr><th id="208">208</th><td></td></tr>
<tr><th id="209">209</th><td><span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="decl" id="kvm_has_free_slot" title='kvm_has_free_slot' data-ref="kvm_has_free_slot">kvm_has_free_slot</dfn>(<a class="typedef" href="../qemu/typedefs.h.html#MachineState" title='MachineState' data-type='struct MachineState' data-ref="MachineState">MachineState</a> *<dfn class="local col8 decl" id="10288ms" title='ms' data-type='MachineState *' data-ref="10288ms">ms</dfn>);</td></tr>
<tr><th id="210">210</th><td><em>int</em> <dfn class="decl" id="kvm_has_sync_mmu" title='kvm_has_sync_mmu' data-ref="kvm_has_sync_mmu">kvm_has_sync_mmu</dfn>(<em>void</em>);</td></tr>
<tr><th id="211">211</th><td><em>int</em> <dfn class="decl" id="kvm_has_vcpu_events" title='kvm_has_vcpu_events' data-ref="kvm_has_vcpu_events">kvm_has_vcpu_events</dfn>(<em>void</em>);</td></tr>
<tr><th id="212">212</th><td><em>int</em> <dfn class="decl" id="kvm_has_robust_singlestep" title='kvm_has_robust_singlestep' data-ref="kvm_has_robust_singlestep">kvm_has_robust_singlestep</dfn>(<em>void</em>);</td></tr>
<tr><th id="213">213</th><td><em>int</em> <dfn class="decl" id="kvm_has_debugregs" title='kvm_has_debugregs' data-ref="kvm_has_debugregs">kvm_has_debugregs</dfn>(<em>void</em>);</td></tr>
<tr><th id="214">214</th><td><em>int</em> <dfn class="decl" id="kvm_has_pit_state2" title='kvm_has_pit_state2' data-ref="kvm_has_pit_state2">kvm_has_pit_state2</dfn>(<em>void</em>);</td></tr>
<tr><th id="215">215</th><td><em>int</em> <dfn class="decl" id="kvm_has_many_ioeventfds" title='kvm_has_many_ioeventfds' data-ref="kvm_has_many_ioeventfds">kvm_has_many_ioeventfds</dfn>(<em>void</em>);</td></tr>
<tr><th id="216">216</th><td><em>int</em> <dfn class="decl" id="kvm_has_gsi_routing" title='kvm_has_gsi_routing' data-ref="kvm_has_gsi_routing">kvm_has_gsi_routing</dfn>(<em>void</em>);</td></tr>
<tr><th id="217">217</th><td><em>int</em> <dfn class="decl" id="kvm_has_intx_set_mask" title='kvm_has_intx_set_mask' data-ref="kvm_has_intx_set_mask">kvm_has_intx_set_mask</dfn>(<em>void</em>);</td></tr>
<tr><th id="218">218</th><td></td></tr>
<tr><th id="219">219</th><td><em>int</em> <dfn class="decl" id="kvm_init_vcpu" title='kvm_init_vcpu' data-ref="kvm_init_vcpu">kvm_init_vcpu</dfn>(<a class="typedef" href="../qemu/typedefs.h.html#CPUState" title='CPUState' data-type='struct CPUState' data-ref="CPUState">CPUState</a> *<dfn class="local col9 decl" id="10289cpu" title='cpu' data-type='CPUState *' data-ref="10289cpu">cpu</dfn>);</td></tr>
<tr><th id="220">220</th><td><em>int</em> <dfn class="decl" id="kvm_cpu_exec" title='kvm_cpu_exec' data-ref="kvm_cpu_exec">kvm_cpu_exec</dfn>(<a class="typedef" href="../qemu/typedefs.h.html#CPUState" title='CPUState' data-type='struct CPUState' data-ref="CPUState">CPUState</a> *<dfn class="local col0 decl" id="10290cpu" title='cpu' data-type='CPUState *' data-ref="10290cpu">cpu</dfn>);</td></tr>
<tr><th id="221">221</th><td><em>int</em> <dfn class="decl" id="kvm_destroy_vcpu" title='kvm_destroy_vcpu' data-ref="kvm_destroy_vcpu">kvm_destroy_vcpu</dfn>(<a class="typedef" href="../qemu/typedefs.h.html#CPUState" title='CPUState' data-type='struct CPUState' data-ref="CPUState">CPUState</a> *<dfn class="local col1 decl" id="10291cpu" title='cpu' data-type='CPUState *' data-ref="10291cpu">cpu</dfn>);</td></tr>
<tr><th id="222">222</th><td></td></tr>
<tr><th id="223">223</th><td><i class="doc">/**</i></td></tr>
<tr><th id="224">224</th><td><i class="doc"> * kvm_arm_supports_user_irq</i></td></tr>
<tr><th id="225">225</th><td><i class="doc"> *</i></td></tr>
<tr><th id="226">226</th><td><i class="doc"> * Not all KVM implementations support notifications for kernel generated</i></td></tr>
<tr><th id="227">227</th><td><i class="doc"> * interrupt events to user space. This function indicates whether the current</i></td></tr>
<tr><th id="228">228</th><td><i class="doc"> * KVM implementation does support them.</i></td></tr>
<tr><th id="229">229</th><td><i class="doc"> *</i></td></tr>
<tr><th id="230">230</th><td><i class="doc"> * Returns: true if KVM supports using kernel generated IRQs from user space</i></td></tr>
<tr><th id="231">231</th><td><i class="doc"> */</i></td></tr>
<tr><th id="232">232</th><td><span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="decl" id="kvm_arm_supports_user_irq" title='kvm_arm_supports_user_irq' data-ref="kvm_arm_supports_user_irq">kvm_arm_supports_user_irq</dfn>(<em>void</em>);</td></tr>
<tr><th id="233">233</th><td></td></tr>
<tr><th id="234">234</th><td><u>#<span data-ppcond="234">ifdef</span> <span class="macro" data-ref="_M/NEED_CPU_H">NEED_CPU_H</span></u></td></tr>
<tr><th id="235">235</th><td><u>#include <a href="../../target/i386/cpu.h.html">"cpu.h"</a></u></td></tr>
<tr><th id="236">236</th><td></td></tr>
<tr><th id="237">237</th><td><em>void</em> <dfn class="decl" id="kvm_flush_coalesced_mmio_buffer" title='kvm_flush_coalesced_mmio_buffer' data-ref="kvm_flush_coalesced_mmio_buffer">kvm_flush_coalesced_mmio_buffer</dfn>(<em>void</em>);</td></tr>
<tr><th id="238">238</th><td></td></tr>
<tr><th id="239">239</th><td><em>int</em> <dfn class="decl" id="kvm_insert_breakpoint" title='kvm_insert_breakpoint' data-ref="kvm_insert_breakpoint">kvm_insert_breakpoint</dfn>(<a class="typedef" href="../qemu/typedefs.h.html#CPUState" title='CPUState' data-type='struct CPUState' data-ref="CPUState">CPUState</a> *<dfn class="local col5 decl" id="10655cpu" title='cpu' data-type='CPUState *' data-ref="10655cpu">cpu</dfn>, <a class="typedef" href="../exec/cpu-defs.h.html#target_ulong" title='target_ulong' data-type='uint64_t' data-ref="target_ulong">target_ulong</a> <dfn class="local col6 decl" id="10656addr" title='addr' data-type='target_ulong' data-ref="10656addr">addr</dfn>,</td></tr>
<tr><th id="240">240</th><td>                          <a class="typedef" href="../exec/cpu-defs.h.html#target_ulong" title='target_ulong' data-type='uint64_t' data-ref="target_ulong">target_ulong</a> <dfn class="local col7 decl" id="10657len" title='len' data-type='target_ulong' data-ref="10657len">len</dfn>, <em>int</em> <dfn class="local col8 decl" id="10658type" title='type' data-type='int' data-ref="10658type">type</dfn>);</td></tr>
<tr><th id="241">241</th><td><em>int</em> <dfn class="decl" id="kvm_remove_breakpoint" title='kvm_remove_breakpoint' data-ref="kvm_remove_breakpoint">kvm_remove_breakpoint</dfn>(<a class="typedef" href="../qemu/typedefs.h.html#CPUState" title='CPUState' data-type='struct CPUState' data-ref="CPUState">CPUState</a> *<dfn class="local col9 decl" id="10659cpu" title='cpu' data-type='CPUState *' data-ref="10659cpu">cpu</dfn>, <a class="typedef" href="../exec/cpu-defs.h.html#target_ulong" title='target_ulong' data-type='uint64_t' data-ref="target_ulong">target_ulong</a> <dfn class="local col0 decl" id="10660addr" title='addr' data-type='target_ulong' data-ref="10660addr">addr</dfn>,</td></tr>
<tr><th id="242">242</th><td>                          <a class="typedef" href="../exec/cpu-defs.h.html#target_ulong" title='target_ulong' data-type='uint64_t' data-ref="target_ulong">target_ulong</a> <dfn class="local col1 decl" id="10661len" title='len' data-type='target_ulong' data-ref="10661len">len</dfn>, <em>int</em> <dfn class="local col2 decl" id="10662type" title='type' data-type='int' data-ref="10662type">type</dfn>);</td></tr>
<tr><th id="243">243</th><td><em>void</em> <dfn class="decl" id="kvm_remove_all_breakpoints" title='kvm_remove_all_breakpoints' data-ref="kvm_remove_all_breakpoints">kvm_remove_all_breakpoints</dfn>(<a class="typedef" href="../qemu/typedefs.h.html#CPUState" title='CPUState' data-type='struct CPUState' data-ref="CPUState">CPUState</a> *<dfn class="local col3 decl" id="10663cpu" title='cpu' data-type='CPUState *' data-ref="10663cpu">cpu</dfn>);</td></tr>
<tr><th id="244">244</th><td><em>int</em> <dfn class="decl" id="kvm_update_guest_debug" title='kvm_update_guest_debug' data-ref="kvm_update_guest_debug">kvm_update_guest_debug</dfn>(<a class="typedef" href="../qemu/typedefs.h.html#CPUState" title='CPUState' data-type='struct CPUState' data-ref="CPUState">CPUState</a> *<dfn class="local col4 decl" id="10664cpu" title='cpu' data-type='CPUState *' data-ref="10664cpu">cpu</dfn>, <em>unsigned</em> <em>long</em> <dfn class="local col5 decl" id="10665reinject_trap" title='reinject_trap' data-type='unsigned long' data-ref="10665reinject_trap">reinject_trap</dfn>);</td></tr>
<tr><th id="245">245</th><td></td></tr>
<tr><th id="246">246</th><td><em>int</em> <dfn class="decl" id="kvm_on_sigbus_vcpu" title='kvm_on_sigbus_vcpu' data-ref="kvm_on_sigbus_vcpu">kvm_on_sigbus_vcpu</dfn>(<a class="typedef" href="../qemu/typedefs.h.html#CPUState" title='CPUState' data-type='struct CPUState' data-ref="CPUState">CPUState</a> *<dfn class="local col6 decl" id="10666cpu" title='cpu' data-type='CPUState *' data-ref="10666cpu">cpu</dfn>, <em>int</em> <dfn class="local col7 decl" id="10667code" title='code' data-type='int' data-ref="10667code">code</dfn>, <em>void</em> *<dfn class="local col8 decl" id="10668addr" title='addr' data-type='void *' data-ref="10668addr">addr</dfn>);</td></tr>
<tr><th id="247">247</th><td><em>int</em> <dfn class="decl" id="kvm_on_sigbus" title='kvm_on_sigbus' data-ref="kvm_on_sigbus">kvm_on_sigbus</dfn>(<em>int</em> <dfn class="local col9 decl" id="10669code" title='code' data-type='int' data-ref="10669code">code</dfn>, <em>void</em> *<dfn class="local col0 decl" id="10670addr" title='addr' data-type='void *' data-ref="10670addr">addr</dfn>);</td></tr>
<tr><th id="248">248</th><td></td></tr>
<tr><th id="249">249</th><td><i>/* interface with exec.c */</i></td></tr>
<tr><th id="250">250</th><td></td></tr>
<tr><th id="251">251</th><td><em>void</em> <dfn class="decl" id="phys_mem_set_alloc" title='phys_mem_set_alloc' data-ref="phys_mem_set_alloc">phys_mem_set_alloc</dfn>(<em>void</em> *(*<dfn class="local col1 decl" id="10671alloc" title='alloc' data-type='void *(*)(size_t, uint64_t *)' data-ref="10671alloc">alloc</dfn>)(<span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t">size_t</span>, <a class="typedef" href="../../../include/stdint.h.html#uint64_t" title='uint64_t' data-type='unsigned long' data-ref="uint64_t">uint64_t</a> *<dfn class="local col2 decl" id="10672align" title='align' data-type='uint64_t *' data-ref="10672align">align</dfn>));</td></tr>
<tr><th id="252">252</th><td></td></tr>
<tr><th id="253">253</th><td><i>/* internal API */</i></td></tr>
<tr><th id="254">254</th><td></td></tr>
<tr><th id="255">255</th><td><em>int</em> <dfn class="decl" id="kvm_ioctl" title='kvm_ioctl' data-ref="kvm_ioctl">kvm_ioctl</dfn>(<a class="typedef" href="#KVMState" title='KVMState' data-type='struct KVMState' data-ref="KVMState">KVMState</a> *<dfn class="local col3 decl" id="10673s" title='s' data-type='KVMState *' data-ref="10673s">s</dfn>, <em>int</em> <dfn class="local col4 decl" id="10674type" title='type' data-type='int' data-ref="10674type">type</dfn>, ...);</td></tr>
<tr><th id="256">256</th><td></td></tr>
<tr><th id="257">257</th><td><em>int</em> <dfn class="decl" id="kvm_vm_ioctl" title='kvm_vm_ioctl' data-ref="kvm_vm_ioctl">kvm_vm_ioctl</dfn>(<a class="typedef" href="#KVMState" title='KVMState' data-type='struct KVMState' data-ref="KVMState">KVMState</a> *<dfn class="local col5 decl" id="10675s" title='s' data-type='KVMState *' data-ref="10675s">s</dfn>, <em>int</em> <dfn class="local col6 decl" id="10676type" title='type' data-type='int' data-ref="10676type">type</dfn>, ...);</td></tr>
<tr><th id="258">258</th><td></td></tr>
<tr><th id="259">259</th><td><em>int</em> <dfn class="decl" id="kvm_vcpu_ioctl" title='kvm_vcpu_ioctl' data-ref="kvm_vcpu_ioctl">kvm_vcpu_ioctl</dfn>(<a class="typedef" href="../qemu/typedefs.h.html#CPUState" title='CPUState' data-type='struct CPUState' data-ref="CPUState">CPUState</a> *<dfn class="local col7 decl" id="10677cpu" title='cpu' data-type='CPUState *' data-ref="10677cpu">cpu</dfn>, <em>int</em> <dfn class="local col8 decl" id="10678type" title='type' data-type='int' data-ref="10678type">type</dfn>, ...);</td></tr>
<tr><th id="260">260</th><td></td></tr>
<tr><th id="261">261</th><td><i class="doc">/**</i></td></tr>
<tr><th id="262">262</th><td><i class="doc"> * kvm_device_ioctl - call an ioctl on a kvm device</i></td></tr>
<tr><th id="263">263</th><td><i class="doc"> *<span class="command"> @fd</span>: The KVM device file descriptor as returned from KVM_CREATE_DEVICE</i></td></tr>
<tr><th id="264">264</th><td><i class="doc"> *<span class="command"> @type</span>: The device-ctrl ioctl number</i></td></tr>
<tr><th id="265">265</th><td><i class="doc"> *</i></td></tr>
<tr><th id="266">266</th><td><i class="doc"> * Returns: -errno on error, nonnegative on success</i></td></tr>
<tr><th id="267">267</th><td><i class="doc"> */</i></td></tr>
<tr><th id="268">268</th><td><em>int</em> <dfn class="decl" id="kvm_device_ioctl" title='kvm_device_ioctl' data-ref="kvm_device_ioctl">kvm_device_ioctl</dfn>(<em>int</em> <dfn class="local col9 decl" id="10679fd" title='fd' data-type='int' data-ref="10679fd">fd</dfn>, <em>int</em> <dfn class="local col0 decl" id="10680type" title='type' data-type='int' data-ref="10680type">type</dfn>, ...);</td></tr>
<tr><th id="269">269</th><td></td></tr>
<tr><th id="270">270</th><td><i class="doc">/**</i></td></tr>
<tr><th id="271">271</th><td><i class="doc"> * kvm_vm_check_attr - check for existence of a specific vm attribute</i></td></tr>
<tr><th id="272">272</th><td><i class="doc"> *<span class="command"> @s</span>: The KVMState pointer</i></td></tr>
<tr><th id="273">273</th><td><i class="doc"> *<span class="command"> @group</span>: the group</i></td></tr>
<tr><th id="274">274</th><td><i class="doc"> *<span class="command"> @attr</span>: the attribute of that group to query for</i></td></tr>
<tr><th id="275">275</th><td><i class="doc"> *</i></td></tr>
<tr><th id="276">276</th><td><i class="doc"> * Returns: 1 if the attribute exists</i></td></tr>
<tr><th id="277">277</th><td><i class="doc"> *          0 if the attribute either does not exist or if the vm device</i></td></tr>
<tr><th id="278">278</th><td><i class="doc"> *            interface is unavailable</i></td></tr>
<tr><th id="279">279</th><td><i class="doc"> */</i></td></tr>
<tr><th id="280">280</th><td><em>int</em> <dfn class="decl" id="kvm_vm_check_attr" title='kvm_vm_check_attr' data-ref="kvm_vm_check_attr">kvm_vm_check_attr</dfn>(<a class="typedef" href="#KVMState" title='KVMState' data-type='struct KVMState' data-ref="KVMState">KVMState</a> *<dfn class="local col1 decl" id="10681s" title='s' data-type='KVMState *' data-ref="10681s">s</dfn>, <a class="typedef" href="../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> <dfn class="local col2 decl" id="10682group" title='group' data-type='uint32_t' data-ref="10682group">group</dfn>, <a class="typedef" href="../../../include/stdint.h.html#uint64_t" title='uint64_t' data-type='unsigned long' data-ref="uint64_t">uint64_t</a> <dfn class="local col3 decl" id="10683attr" title='attr' data-type='uint64_t' data-ref="10683attr">attr</dfn>);</td></tr>
<tr><th id="281">281</th><td></td></tr>
<tr><th id="282">282</th><td><i class="doc">/**</i></td></tr>
<tr><th id="283">283</th><td><i class="doc"> * kvm_device_check_attr - check for existence of a specific device attribute</i></td></tr>
<tr><th id="284">284</th><td><i class="doc"> *<span class="command"> @fd</span>: The device file descriptor</i></td></tr>
<tr><th id="285">285</th><td><i class="doc"> *<span class="command"> @group</span>: the group</i></td></tr>
<tr><th id="286">286</th><td><i class="doc"> *<span class="command"> @attr</span>: the attribute of that group to query for</i></td></tr>
<tr><th id="287">287</th><td><i class="doc"> *</i></td></tr>
<tr><th id="288">288</th><td><i class="doc"> * Returns: 1 if the attribute exists</i></td></tr>
<tr><th id="289">289</th><td><i class="doc"> *          0 if the attribute either does not exist or if the vm device</i></td></tr>
<tr><th id="290">290</th><td><i class="doc"> *            interface is unavailable</i></td></tr>
<tr><th id="291">291</th><td><i class="doc"> */</i></td></tr>
<tr><th id="292">292</th><td><em>int</em> <dfn class="decl" id="kvm_device_check_attr" title='kvm_device_check_attr' data-ref="kvm_device_check_attr">kvm_device_check_attr</dfn>(<em>int</em> <dfn class="local col4 decl" id="10684fd" title='fd' data-type='int' data-ref="10684fd">fd</dfn>, <a class="typedef" href="../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> <dfn class="local col5 decl" id="10685group" title='group' data-type='uint32_t' data-ref="10685group">group</dfn>, <a class="typedef" href="../../../include/stdint.h.html#uint64_t" title='uint64_t' data-type='unsigned long' data-ref="uint64_t">uint64_t</a> <dfn class="local col6 decl" id="10686attr" title='attr' data-type='uint64_t' data-ref="10686attr">attr</dfn>);</td></tr>
<tr><th id="293">293</th><td></td></tr>
<tr><th id="294">294</th><td><i class="doc">/**</i></td></tr>
<tr><th id="295">295</th><td><i class="doc"> * kvm_device_access - set or get value of a specific vm attribute</i></td></tr>
<tr><th id="296">296</th><td><i class="doc"> *<span class="command"> @fd</span>: The device file descriptor</i></td></tr>
<tr><th id="297">297</th><td><i class="doc"> *<span class="command"> @group</span>: the group</i></td></tr>
<tr><th id="298">298</th><td><i class="doc"> *<span class="command"> @attr</span>: the attribute of that group to set or get</i></td></tr>
<tr><th id="299">299</th><td><i class="doc"> * <span class="command">@val</span>:<span class="verb"> pointer to a storage area for the value</span></i></td></tr>
<tr><th id="300">300</th><td><i class="doc"> *<span class="command"> @write</span>: true for set and false for get operation</i></td></tr>
<tr><th id="301">301</th><td><i class="doc"> *<span class="command"> @errp</span>: error object handle</i></td></tr>
<tr><th id="302">302</th><td><i class="doc"> *</i></td></tr>
<tr><th id="303">303</th><td><i class="doc"> * Returns: 0 on success</i></td></tr>
<tr><th id="304">304</th><td><i class="doc"> *          &lt; 0 on error</i></td></tr>
<tr><th id="305">305</th><td><i class="doc"> * Use kvm_device_check_attr() in order to check for the availability</i></td></tr>
<tr><th id="306">306</th><td><i class="doc"> * of optional attributes.</i></td></tr>
<tr><th id="307">307</th><td><i class="doc"> */</i></td></tr>
<tr><th id="308">308</th><td><em>int</em> <dfn class="decl" id="kvm_device_access" title='kvm_device_access' data-ref="kvm_device_access">kvm_device_access</dfn>(<em>int</em> <dfn class="local col7 decl" id="10687fd" title='fd' data-type='int' data-ref="10687fd">fd</dfn>, <em>int</em> <dfn class="local col8 decl" id="10688group" title='group' data-type='int' data-ref="10688group">group</dfn>, <a class="typedef" href="../../../include/stdint.h.html#uint64_t" title='uint64_t' data-type='unsigned long' data-ref="uint64_t">uint64_t</a> <dfn class="local col9 decl" id="10689attr" title='attr' data-type='uint64_t' data-ref="10689attr">attr</dfn>,</td></tr>
<tr><th id="309">309</th><td>                      <em>void</em> *<dfn class="local col0 decl" id="10690val" title='val' data-type='void *' data-ref="10690val">val</dfn>, <span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="local col1 decl" id="10691write" title='write' data-type='_Bool' data-ref="10691write">write</dfn>, <a class="typedef" href="../qemu/typedefs.h.html#Error" title='Error' data-type='struct Error' data-ref="Error">Error</a> **<dfn class="local col2 decl" id="10692errp" title='errp' data-type='Error **' data-ref="10692errp">errp</dfn>);</td></tr>
<tr><th id="310">310</th><td></td></tr>
<tr><th id="311">311</th><td><i class="doc">/**</i></td></tr>
<tr><th id="312">312</th><td><i class="doc"> * kvm_create_device - create a KVM device for the device control API</i></td></tr>
<tr><th id="313">313</th><td><i class="doc"> *<span class="command"> @KVMState</span>: The KVMState pointer</i></td></tr>
<tr><th id="314">314</th><td><i class="doc"> *<span class="command"> @type</span>: The KVM device type (see Documentation/virtual/kvm/devices in the</i></td></tr>
<tr><th id="315">315</th><td><i class="doc"> *        kernel source)</i></td></tr>
<tr><th id="316">316</th><td><i class="doc"> *<span class="command"> @test</span>: If true, only test if device can be created, but don't actually</i></td></tr>
<tr><th id="317">317</th><td><i class="doc"> *        create the device.</i></td></tr>
<tr><th id="318">318</th><td><i class="doc"> *</i></td></tr>
<tr><th id="319">319</th><td><i class="doc"> * Returns: -errno on error, nonnegative on success:<span class="command"> @test</span> ? 0 : device fd;</i></td></tr>
<tr><th id="320">320</th><td><i class="doc"> */</i></td></tr>
<tr><th id="321">321</th><td><em>int</em> <dfn class="decl" id="kvm_create_device" title='kvm_create_device' data-ref="kvm_create_device">kvm_create_device</dfn>(<a class="typedef" href="#KVMState" title='KVMState' data-type='struct KVMState' data-ref="KVMState">KVMState</a> *<dfn class="local col3 decl" id="10693s" title='s' data-type='KVMState *' data-ref="10693s">s</dfn>, <a class="typedef" href="../../../include/stdint.h.html#uint64_t" title='uint64_t' data-type='unsigned long' data-ref="uint64_t">uint64_t</a> <dfn class="local col4 decl" id="10694type" title='type' data-type='uint64_t' data-ref="10694type">type</dfn>, <span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="local col5 decl" id="10695test" title='test' data-type='_Bool' data-ref="10695test">test</dfn>);</td></tr>
<tr><th id="322">322</th><td></td></tr>
<tr><th id="323">323</th><td><i class="doc">/**</i></td></tr>
<tr><th id="324">324</th><td><i class="doc"> * kvm_device_supported - probe whether KVM supports specific device</i></td></tr>
<tr><th id="325">325</th><td><i class="doc"> *</i></td></tr>
<tr><th id="326">326</th><td><i class="doc"> *<span class="command"> @vmfd</span>: The fd handler for VM</i></td></tr>
<tr><th id="327">327</th><td><i class="doc"> *<span class="command"> @type</span>: type of device</i></td></tr>
<tr><th id="328">328</th><td><i class="doc"> *</i></td></tr>
<tr><th id="329">329</th><td><i class="doc"> * <span class="command">@return</span>: true if supported, otherwise false.</i></td></tr>
<tr><th id="330">330</th><td><i class="doc"> */</i></td></tr>
<tr><th id="331">331</th><td><span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="decl" id="kvm_device_supported" title='kvm_device_supported' data-ref="kvm_device_supported">kvm_device_supported</dfn>(<em>int</em> <dfn class="local col6 decl" id="10696vmfd" title='vmfd' data-type='int' data-ref="10696vmfd">vmfd</dfn>, <a class="typedef" href="../../../include/stdint.h.html#uint64_t" title='uint64_t' data-type='unsigned long' data-ref="uint64_t">uint64_t</a> <dfn class="local col7 decl" id="10697type" title='type' data-type='uint64_t' data-ref="10697type">type</dfn>);</td></tr>
<tr><th id="332">332</th><td></td></tr>
<tr><th id="333">333</th><td><i>/* Arch specific hooks */</i></td></tr>
<tr><th id="334">334</th><td></td></tr>
<tr><th id="335">335</th><td><b>extern</b> <em>const</em> <a class="typedef" href="#KVMCapabilityInfo" title='KVMCapabilityInfo' data-type='struct KVMCapabilityInfo' data-ref="KVMCapabilityInfo">KVMCapabilityInfo</a> <dfn class="decl" id="kvm_arch_required_capabilities" title='kvm_arch_required_capabilities' data-ref="kvm_arch_required_capabilities">kvm_arch_required_capabilities</dfn>[];</td></tr>
<tr><th id="336">336</th><td></td></tr>
<tr><th id="337">337</th><td><em>void</em> <dfn class="decl" id="kvm_arch_pre_run" title='kvm_arch_pre_run' data-ref="kvm_arch_pre_run">kvm_arch_pre_run</dfn>(<a class="typedef" href="../qemu/typedefs.h.html#CPUState" title='CPUState' data-type='struct CPUState' data-ref="CPUState">CPUState</a> *<dfn class="local col8 decl" id="10698cpu" title='cpu' data-type='CPUState *' data-ref="10698cpu">cpu</dfn>, <b>struct</b> <a class="type" href="../../linux-headers/linux/kvm.h.html#kvm_run" title='kvm_run' data-ref="kvm_run">kvm_run</a> *<dfn class="local col9 decl" id="10699run" title='run' data-type='struct kvm_run *' data-ref="10699run">run</dfn>);</td></tr>
<tr><th id="338">338</th><td><a class="typedef" href="../exec/memattrs.h.html#MemTxAttrs" title='MemTxAttrs' data-type='struct MemTxAttrs' data-ref="MemTxAttrs">MemTxAttrs</a> <dfn class="decl" id="kvm_arch_post_run" title='kvm_arch_post_run' data-ref="kvm_arch_post_run">kvm_arch_post_run</dfn>(<a class="typedef" href="../qemu/typedefs.h.html#CPUState" title='CPUState' data-type='struct CPUState' data-ref="CPUState">CPUState</a> *<dfn class="local col0 decl" id="10700cpu" title='cpu' data-type='CPUState *' data-ref="10700cpu">cpu</dfn>, <b>struct</b> <a class="type" href="../../linux-headers/linux/kvm.h.html#kvm_run" title='kvm_run' data-ref="kvm_run">kvm_run</a> *<dfn class="local col1 decl" id="10701run" title='run' data-type='struct kvm_run *' data-ref="10701run">run</dfn>);</td></tr>
<tr><th id="339">339</th><td></td></tr>
<tr><th id="340">340</th><td><em>int</em> <dfn class="decl" id="kvm_arch_handle_exit" title='kvm_arch_handle_exit' data-ref="kvm_arch_handle_exit">kvm_arch_handle_exit</dfn>(<a class="typedef" href="../qemu/typedefs.h.html#CPUState" title='CPUState' data-type='struct CPUState' data-ref="CPUState">CPUState</a> *<dfn class="local col2 decl" id="10702cpu" title='cpu' data-type='CPUState *' data-ref="10702cpu">cpu</dfn>, <b>struct</b> <a class="type" href="../../linux-headers/linux/kvm.h.html#kvm_run" title='kvm_run' data-ref="kvm_run">kvm_run</a> *<dfn class="local col3 decl" id="10703run" title='run' data-type='struct kvm_run *' data-ref="10703run">run</dfn>);</td></tr>
<tr><th id="341">341</th><td></td></tr>
<tr><th id="342">342</th><td><em>int</em> <dfn class="decl" id="kvm_arch_process_async_events" title='kvm_arch_process_async_events' data-ref="kvm_arch_process_async_events">kvm_arch_process_async_events</dfn>(<a class="typedef" href="../qemu/typedefs.h.html#CPUState" title='CPUState' data-type='struct CPUState' data-ref="CPUState">CPUState</a> *<dfn class="local col4 decl" id="10704cpu" title='cpu' data-type='CPUState *' data-ref="10704cpu">cpu</dfn>);</td></tr>
<tr><th id="343">343</th><td></td></tr>
<tr><th id="344">344</th><td><em>int</em> <dfn class="decl" id="kvm_arch_get_registers" title='kvm_arch_get_registers' data-ref="kvm_arch_get_registers">kvm_arch_get_registers</dfn>(<a class="typedef" href="../qemu/typedefs.h.html#CPUState" title='CPUState' data-type='struct CPUState' data-ref="CPUState">CPUState</a> *<dfn class="local col5 decl" id="10705cpu" title='cpu' data-type='CPUState *' data-ref="10705cpu">cpu</dfn>);</td></tr>
<tr><th id="345">345</th><td></td></tr>
<tr><th id="346">346</th><td><i>/* state subset only touched by the VCPU itself during runtime */</i></td></tr>
<tr><th id="347">347</th><td><u>#define <dfn class="macro" id="_M/KVM_PUT_RUNTIME_STATE" data-ref="_M/KVM_PUT_RUNTIME_STATE">KVM_PUT_RUNTIME_STATE</dfn>   1</u></td></tr>
<tr><th id="348">348</th><td><i>/* state subset modified during VCPU reset */</i></td></tr>
<tr><th id="349">349</th><td><u>#define <dfn class="macro" id="_M/KVM_PUT_RESET_STATE" data-ref="_M/KVM_PUT_RESET_STATE">KVM_PUT_RESET_STATE</dfn>     2</u></td></tr>
<tr><th id="350">350</th><td><i>/* full state set, modified during initialization or on vmload */</i></td></tr>
<tr><th id="351">351</th><td><u>#define <dfn class="macro" id="_M/KVM_PUT_FULL_STATE" data-ref="_M/KVM_PUT_FULL_STATE">KVM_PUT_FULL_STATE</dfn>      3</u></td></tr>
<tr><th id="352">352</th><td></td></tr>
<tr><th id="353">353</th><td><em>int</em> <dfn class="decl" id="kvm_arch_put_registers" title='kvm_arch_put_registers' data-ref="kvm_arch_put_registers">kvm_arch_put_registers</dfn>(<a class="typedef" href="../qemu/typedefs.h.html#CPUState" title='CPUState' data-type='struct CPUState' data-ref="CPUState">CPUState</a> *<dfn class="local col6 decl" id="10706cpu" title='cpu' data-type='CPUState *' data-ref="10706cpu">cpu</dfn>, <em>int</em> <dfn class="local col7 decl" id="10707level" title='level' data-type='int' data-ref="10707level">level</dfn>);</td></tr>
<tr><th id="354">354</th><td></td></tr>
<tr><th id="355">355</th><td><em>int</em> <dfn class="decl" id="kvm_arch_init" title='kvm_arch_init' data-ref="kvm_arch_init">kvm_arch_init</dfn>(<a class="typedef" href="../qemu/typedefs.h.html#MachineState" title='MachineState' data-type='struct MachineState' data-ref="MachineState">MachineState</a> *<dfn class="local col8 decl" id="10708ms" title='ms' data-type='MachineState *' data-ref="10708ms">ms</dfn>, <a class="typedef" href="#KVMState" title='KVMState' data-type='struct KVMState' data-ref="KVMState">KVMState</a> *<dfn class="local col9 decl" id="10709s" title='s' data-type='KVMState *' data-ref="10709s">s</dfn>);</td></tr>
<tr><th id="356">356</th><td></td></tr>
<tr><th id="357">357</th><td><em>int</em> <dfn class="decl" id="kvm_arch_init_vcpu" title='kvm_arch_init_vcpu' data-ref="kvm_arch_init_vcpu">kvm_arch_init_vcpu</dfn>(<a class="typedef" href="../qemu/typedefs.h.html#CPUState" title='CPUState' data-type='struct CPUState' data-ref="CPUState">CPUState</a> *<dfn class="local col0 decl" id="10710cpu" title='cpu' data-type='CPUState *' data-ref="10710cpu">cpu</dfn>);</td></tr>
<tr><th id="358">358</th><td></td></tr>
<tr><th id="359">359</th><td><span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="decl" id="kvm_vcpu_id_is_valid" title='kvm_vcpu_id_is_valid' data-ref="kvm_vcpu_id_is_valid">kvm_vcpu_id_is_valid</dfn>(<em>int</em> <dfn class="local col1 decl" id="10711vcpu_id" title='vcpu_id' data-type='int' data-ref="10711vcpu_id">vcpu_id</dfn>);</td></tr>
<tr><th id="360">360</th><td></td></tr>
<tr><th id="361">361</th><td><i>/* Returns VCPU ID to be used on KVM_CREATE_VCPU ioctl() */</i></td></tr>
<tr><th id="362">362</th><td><em>unsigned</em> <em>long</em> <dfn class="decl" id="kvm_arch_vcpu_id" title='kvm_arch_vcpu_id' data-ref="kvm_arch_vcpu_id">kvm_arch_vcpu_id</dfn>(<a class="typedef" href="../qemu/typedefs.h.html#CPUState" title='CPUState' data-type='struct CPUState' data-ref="CPUState">CPUState</a> *<dfn class="local col2 decl" id="10712cpu" title='cpu' data-type='CPUState *' data-ref="10712cpu">cpu</dfn>);</td></tr>
<tr><th id="363">363</th><td></td></tr>
<tr><th id="364">364</th><td><u>#<span data-ppcond="364">ifdef</span> <a class="macro" href="../../x86_64-softmmu/config-target.h.html#4" data-ref="_M/TARGET_I386">TARGET_I386</a></u></td></tr>
<tr><th id="365">365</th><td><u>#define <dfn class="macro" id="_M/KVM_HAVE_MCE_INJECTION" data-ref="_M/KVM_HAVE_MCE_INJECTION">KVM_HAVE_MCE_INJECTION</dfn> 1</u></td></tr>
<tr><th id="366">366</th><td><em>void</em> <dfn class="decl" id="kvm_arch_on_sigbus_vcpu" title='kvm_arch_on_sigbus_vcpu' data-ref="kvm_arch_on_sigbus_vcpu">kvm_arch_on_sigbus_vcpu</dfn>(<a class="typedef" href="../qemu/typedefs.h.html#CPUState" title='CPUState' data-type='struct CPUState' data-ref="CPUState">CPUState</a> *<dfn class="local col3 decl" id="10713cpu" title='cpu' data-type='CPUState *' data-ref="10713cpu">cpu</dfn>, <em>int</em> <dfn class="local col4 decl" id="10714code" title='code' data-type='int' data-ref="10714code">code</dfn>, <em>void</em> *<dfn class="local col5 decl" id="10715addr" title='addr' data-type='void *' data-ref="10715addr">addr</dfn>);</td></tr>
<tr><th id="367">367</th><td><u>#<span data-ppcond="364">endif</span></u></td></tr>
<tr><th id="368">368</th><td></td></tr>
<tr><th id="369">369</th><td><em>void</em> <dfn class="decl" id="kvm_arch_init_irq_routing" title='kvm_arch_init_irq_routing' data-ref="kvm_arch_init_irq_routing">kvm_arch_init_irq_routing</dfn>(<a class="typedef" href="#KVMState" title='KVMState' data-type='struct KVMState' data-ref="KVMState">KVMState</a> *<dfn class="local col6 decl" id="10716s" title='s' data-type='KVMState *' data-ref="10716s">s</dfn>);</td></tr>
<tr><th id="370">370</th><td></td></tr>
<tr><th id="371">371</th><td><em>int</em> <dfn class="decl" id="kvm_arch_fixup_msi_route" title='kvm_arch_fixup_msi_route' data-ref="kvm_arch_fixup_msi_route">kvm_arch_fixup_msi_route</dfn>(<b>struct</b> <a class="type" href="../../linux-headers/linux/kvm.h.html#kvm_irq_routing_entry" title='kvm_irq_routing_entry' data-ref="kvm_irq_routing_entry">kvm_irq_routing_entry</a> *<dfn class="local col7 decl" id="10717route" title='route' data-type='struct kvm_irq_routing_entry *' data-ref="10717route">route</dfn>,</td></tr>
<tr><th id="372">372</th><td>                             <a class="typedef" href="../../../include/stdint.h.html#uint64_t" title='uint64_t' data-type='unsigned long' data-ref="uint64_t">uint64_t</a> <dfn class="local col8 decl" id="10718address" title='address' data-type='uint64_t' data-ref="10718address">address</dfn>, <a class="typedef" href="../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> <dfn class="local col9 decl" id="10719data" title='data' data-type='uint32_t' data-ref="10719data">data</dfn>, <a class="typedef" href="../qemu/typedefs.h.html#PCIDevice" title='PCIDevice' data-type='struct PCIDevice' data-ref="PCIDevice">PCIDevice</a> *<dfn class="local col0 decl" id="10720dev" title='dev' data-type='PCIDevice *' data-ref="10720dev">dev</dfn>);</td></tr>
<tr><th id="373">373</th><td></td></tr>
<tr><th id="374">374</th><td><i>/* Notify arch about newly added MSI routes */</i></td></tr>
<tr><th id="375">375</th><td><em>int</em> <dfn class="decl" id="kvm_arch_add_msi_route_post" title='kvm_arch_add_msi_route_post' data-ref="kvm_arch_add_msi_route_post">kvm_arch_add_msi_route_post</dfn>(<b>struct</b> <a class="type" href="../../linux-headers/linux/kvm.h.html#kvm_irq_routing_entry" title='kvm_irq_routing_entry' data-ref="kvm_irq_routing_entry">kvm_irq_routing_entry</a> *<dfn class="local col1 decl" id="10721route" title='route' data-type='struct kvm_irq_routing_entry *' data-ref="10721route">route</dfn>,</td></tr>
<tr><th id="376">376</th><td>                                <em>int</em> <dfn class="local col2 decl" id="10722vector" title='vector' data-type='int' data-ref="10722vector">vector</dfn>, <a class="typedef" href="../qemu/typedefs.h.html#PCIDevice" title='PCIDevice' data-type='struct PCIDevice' data-ref="PCIDevice">PCIDevice</a> *<dfn class="local col3 decl" id="10723dev" title='dev' data-type='PCIDevice *' data-ref="10723dev">dev</dfn>);</td></tr>
<tr><th id="377">377</th><td><i>/* Notify arch about released MSI routes */</i></td></tr>
<tr><th id="378">378</th><td><em>int</em> <dfn class="decl" id="kvm_arch_release_virq_post" title='kvm_arch_release_virq_post' data-ref="kvm_arch_release_virq_post">kvm_arch_release_virq_post</dfn>(<em>int</em> <dfn class="local col4 decl" id="10724virq" title='virq' data-type='int' data-ref="10724virq">virq</dfn>);</td></tr>
<tr><th id="379">379</th><td></td></tr>
<tr><th id="380">380</th><td><em>int</em> <dfn class="decl" id="kvm_arch_msi_data_to_gsi" title='kvm_arch_msi_data_to_gsi' data-ref="kvm_arch_msi_data_to_gsi">kvm_arch_msi_data_to_gsi</dfn>(<a class="typedef" href="../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> <dfn class="local col5 decl" id="10725data" title='data' data-type='uint32_t' data-ref="10725data">data</dfn>);</td></tr>
<tr><th id="381">381</th><td></td></tr>
<tr><th id="382">382</th><td><em>int</em> <dfn class="decl" id="kvm_set_irq" title='kvm_set_irq' data-ref="kvm_set_irq">kvm_set_irq</dfn>(<a class="typedef" href="#KVMState" title='KVMState' data-type='struct KVMState' data-ref="KVMState">KVMState</a> *<dfn class="local col6 decl" id="10726s" title='s' data-type='KVMState *' data-ref="10726s">s</dfn>, <em>int</em> <dfn class="local col7 decl" id="10727irq" title='irq' data-type='int' data-ref="10727irq">irq</dfn>, <em>int</em> <dfn class="local col8 decl" id="10728level" title='level' data-type='int' data-ref="10728level">level</dfn>);</td></tr>
<tr><th id="383">383</th><td><em>int</em> <dfn class="decl" id="kvm_irqchip_send_msi" title='kvm_irqchip_send_msi' data-ref="kvm_irqchip_send_msi">kvm_irqchip_send_msi</dfn>(<a class="typedef" href="#KVMState" title='KVMState' data-type='struct KVMState' data-ref="KVMState">KVMState</a> *<dfn class="local col9 decl" id="10729s" title='s' data-type='KVMState *' data-ref="10729s">s</dfn>, <a class="typedef" href="../qemu/typedefs.h.html#MSIMessage" title='MSIMessage' data-type='struct MSIMessage' data-ref="MSIMessage">MSIMessage</a> <dfn class="local col0 decl" id="10730msg" title='msg' data-type='MSIMessage' data-ref="10730msg">msg</dfn>);</td></tr>
<tr><th id="384">384</th><td></td></tr>
<tr><th id="385">385</th><td><em>void</em> <dfn class="decl" id="kvm_irqchip_add_irq_route" title='kvm_irqchip_add_irq_route' data-ref="kvm_irqchip_add_irq_route">kvm_irqchip_add_irq_route</dfn>(<a class="typedef" href="#KVMState" title='KVMState' data-type='struct KVMState' data-ref="KVMState">KVMState</a> *<dfn class="local col1 decl" id="10731s" title='s' data-type='KVMState *' data-ref="10731s">s</dfn>, <em>int</em> <dfn class="local col2 decl" id="10732gsi" title='gsi' data-type='int' data-ref="10732gsi">gsi</dfn>, <em>int</em> <dfn class="local col3 decl" id="10733irqchip" title='irqchip' data-type='int' data-ref="10733irqchip">irqchip</dfn>, <em>int</em> <dfn class="local col4 decl" id="10734pin" title='pin' data-type='int' data-ref="10734pin">pin</dfn>);</td></tr>
<tr><th id="386">386</th><td></td></tr>
<tr><th id="387">387</th><td><em>void</em> <dfn class="decl" id="kvm_get_apic_state" title='kvm_get_apic_state' data-ref="kvm_get_apic_state">kvm_get_apic_state</dfn>(<a class="typedef" href="../qemu/typedefs.h.html#DeviceState" title='DeviceState' data-type='struct DeviceState' data-ref="DeviceState">DeviceState</a> *<dfn class="local col5 decl" id="10735d" title='d' data-type='DeviceState *' data-ref="10735d">d</dfn>, <b>struct</b> <a class="type" href="../../linux-headers/asm-x86/kvm.h.html#kvm_lapic_state" title='kvm_lapic_state' data-ref="kvm_lapic_state">kvm_lapic_state</a> *<dfn class="local col6 decl" id="10736kapic" title='kapic' data-type='struct kvm_lapic_state *' data-ref="10736kapic">kapic</dfn>);</td></tr>
<tr><th id="388">388</th><td></td></tr>
<tr><th id="389">389</th><td><b>struct</b> <a class="type" href="../../linux-headers/linux/kvm.h.html#kvm_guest_debug" title='kvm_guest_debug' data-ref="kvm_guest_debug" id="kvm_guest_debug">kvm_guest_debug</a>;</td></tr>
<tr><th id="390">390</th><td><b>struct</b> <a class="type" href="../../linux-headers/asm-x86/kvm.h.html#kvm_debug_exit_arch" title='kvm_debug_exit_arch' data-ref="kvm_debug_exit_arch" id="kvm_debug_exit_arch">kvm_debug_exit_arch</a>;</td></tr>
<tr><th id="391">391</th><td></td></tr>
<tr><th id="392">392</th><td><b>struct</b> <dfn class="type def" id="kvm_sw_breakpoint" title='kvm_sw_breakpoint' data-ref="kvm_sw_breakpoint">kvm_sw_breakpoint</dfn> {</td></tr>
<tr><th id="393">393</th><td>    <a class="typedef" href="../exec/cpu-defs.h.html#target_ulong" title='target_ulong' data-type='uint64_t' data-ref="target_ulong">target_ulong</a> <dfn class="decl" id="kvm_sw_breakpoint::pc" title='kvm_sw_breakpoint::pc' data-ref="kvm_sw_breakpoint::pc">pc</dfn>;</td></tr>
<tr><th id="394">394</th><td>    <a class="typedef" href="../exec/cpu-defs.h.html#target_ulong" title='target_ulong' data-type='uint64_t' data-ref="target_ulong">target_ulong</a> <dfn class="decl" id="kvm_sw_breakpoint::saved_insn" title='kvm_sw_breakpoint::saved_insn' data-ref="kvm_sw_breakpoint::saved_insn">saved_insn</dfn>;</td></tr>
<tr><th id="395">395</th><td>    <em>int</em> <dfn class="decl" id="kvm_sw_breakpoint::use_count" title='kvm_sw_breakpoint::use_count' data-ref="kvm_sw_breakpoint::use_count">use_count</dfn>;</td></tr>
<tr><th id="396">396</th><td>    <a class="macro" href="../qemu/queue.h.html#359" title="struct { struct kvm_sw_breakpoint *tqe_next; struct kvm_sw_breakpoint * *tqe_prev; }" data-ref="_M/QTAILQ_ENTRY">QTAILQ_ENTRY</a>(<a class="type" href="#kvm_sw_breakpoint" title='kvm_sw_breakpoint' data-ref="kvm_sw_breakpoint">kvm_sw_breakpoint</a>) <dfn class="decl" id="kvm_sw_breakpoint::entry" title='kvm_sw_breakpoint::entry' data-ref="kvm_sw_breakpoint::entry">entry</dfn>;</td></tr>
<tr><th id="397">397</th><td>};</td></tr>
<tr><th id="398">398</th><td></td></tr>
<tr><th id="399">399</th><td><a class="macro" href="../qemu/queue.h.html#349" title="struct kvm_sw_breakpoint_head { struct kvm_sw_breakpoint *tqh_first; struct kvm_sw_breakpoint * *tqh_last; }" data-ref="_M/QTAILQ_HEAD">QTAILQ_HEAD</a>(<dfn class="type def" id="kvm_sw_breakpoint_head" title='kvm_sw_breakpoint_head' data-ref="kvm_sw_breakpoint_head">kvm_sw_breakpoint_head</dfn>, <a class="type" href="#kvm_sw_breakpoint" title='kvm_sw_breakpoint' data-ref="kvm_sw_breakpoint">kvm_sw_breakpoint</a>);</td></tr>
<tr><th id="400">400</th><td></td></tr>
<tr><th id="401">401</th><td><b>struct</b> <a class="type" href="#kvm_sw_breakpoint" title='kvm_sw_breakpoint' data-ref="kvm_sw_breakpoint">kvm_sw_breakpoint</a> *<dfn class="decl" id="kvm_find_sw_breakpoint" title='kvm_find_sw_breakpoint' data-ref="kvm_find_sw_breakpoint">kvm_find_sw_breakpoint</dfn>(<a class="typedef" href="../qemu/typedefs.h.html#CPUState" title='CPUState' data-type='struct CPUState' data-ref="CPUState">CPUState</a> *<dfn class="local col7 decl" id="10737cpu" title='cpu' data-type='CPUState *' data-ref="10737cpu">cpu</dfn>,</td></tr>
<tr><th id="402">402</th><td>                                                 <a class="typedef" href="../exec/cpu-defs.h.html#target_ulong" title='target_ulong' data-type='uint64_t' data-ref="target_ulong">target_ulong</a> <dfn class="local col8 decl" id="10738pc" title='pc' data-type='target_ulong' data-ref="10738pc">pc</dfn>);</td></tr>
<tr><th id="403">403</th><td></td></tr>
<tr><th id="404">404</th><td><em>int</em> <dfn class="decl" id="kvm_sw_breakpoints_active" title='kvm_sw_breakpoints_active' data-ref="kvm_sw_breakpoints_active">kvm_sw_breakpoints_active</dfn>(<a class="typedef" href="../qemu/typedefs.h.html#CPUState" title='CPUState' data-type='struct CPUState' data-ref="CPUState">CPUState</a> *<dfn class="local col9 decl" id="10739cpu" title='cpu' data-type='CPUState *' data-ref="10739cpu">cpu</dfn>);</td></tr>
<tr><th id="405">405</th><td></td></tr>
<tr><th id="406">406</th><td><em>int</em> <dfn class="decl" id="kvm_arch_insert_sw_breakpoint" title='kvm_arch_insert_sw_breakpoint' data-ref="kvm_arch_insert_sw_breakpoint">kvm_arch_insert_sw_breakpoint</dfn>(<a class="typedef" href="../qemu/typedefs.h.html#CPUState" title='CPUState' data-type='struct CPUState' data-ref="CPUState">CPUState</a> *<dfn class="local col0 decl" id="10740cpu" title='cpu' data-type='CPUState *' data-ref="10740cpu">cpu</dfn>,</td></tr>
<tr><th id="407">407</th><td>                                  <b>struct</b> <a class="type" href="#kvm_sw_breakpoint" title='kvm_sw_breakpoint' data-ref="kvm_sw_breakpoint">kvm_sw_breakpoint</a> *<dfn class="local col1 decl" id="10741bp" title='bp' data-type='struct kvm_sw_breakpoint *' data-ref="10741bp">bp</dfn>);</td></tr>
<tr><th id="408">408</th><td><em>int</em> <dfn class="decl" id="kvm_arch_remove_sw_breakpoint" title='kvm_arch_remove_sw_breakpoint' data-ref="kvm_arch_remove_sw_breakpoint">kvm_arch_remove_sw_breakpoint</dfn>(<a class="typedef" href="../qemu/typedefs.h.html#CPUState" title='CPUState' data-type='struct CPUState' data-ref="CPUState">CPUState</a> *<dfn class="local col2 decl" id="10742cpu" title='cpu' data-type='CPUState *' data-ref="10742cpu">cpu</dfn>,</td></tr>
<tr><th id="409">409</th><td>                                  <b>struct</b> <a class="type" href="#kvm_sw_breakpoint" title='kvm_sw_breakpoint' data-ref="kvm_sw_breakpoint">kvm_sw_breakpoint</a> *<dfn class="local col3 decl" id="10743bp" title='bp' data-type='struct kvm_sw_breakpoint *' data-ref="10743bp">bp</dfn>);</td></tr>
<tr><th id="410">410</th><td><em>int</em> <dfn class="decl" id="kvm_arch_insert_hw_breakpoint" title='kvm_arch_insert_hw_breakpoint' data-ref="kvm_arch_insert_hw_breakpoint">kvm_arch_insert_hw_breakpoint</dfn>(<a class="typedef" href="../exec/cpu-defs.h.html#target_ulong" title='target_ulong' data-type='uint64_t' data-ref="target_ulong">target_ulong</a> <dfn class="local col4 decl" id="10744addr" title='addr' data-type='target_ulong' data-ref="10744addr">addr</dfn>,</td></tr>
<tr><th id="411">411</th><td>                                  <a class="typedef" href="../exec/cpu-defs.h.html#target_ulong" title='target_ulong' data-type='uint64_t' data-ref="target_ulong">target_ulong</a> <dfn class="local col5 decl" id="10745len" title='len' data-type='target_ulong' data-ref="10745len">len</dfn>, <em>int</em> <dfn class="local col6 decl" id="10746type" title='type' data-type='int' data-ref="10746type">type</dfn>);</td></tr>
<tr><th id="412">412</th><td><em>int</em> <dfn class="decl" id="kvm_arch_remove_hw_breakpoint" title='kvm_arch_remove_hw_breakpoint' data-ref="kvm_arch_remove_hw_breakpoint">kvm_arch_remove_hw_breakpoint</dfn>(<a class="typedef" href="../exec/cpu-defs.h.html#target_ulong" title='target_ulong' data-type='uint64_t' data-ref="target_ulong">target_ulong</a> <dfn class="local col7 decl" id="10747addr" title='addr' data-type='target_ulong' data-ref="10747addr">addr</dfn>,</td></tr>
<tr><th id="413">413</th><td>                                  <a class="typedef" href="../exec/cpu-defs.h.html#target_ulong" title='target_ulong' data-type='uint64_t' data-ref="target_ulong">target_ulong</a> <dfn class="local col8 decl" id="10748len" title='len' data-type='target_ulong' data-ref="10748len">len</dfn>, <em>int</em> <dfn class="local col9 decl" id="10749type" title='type' data-type='int' data-ref="10749type">type</dfn>);</td></tr>
<tr><th id="414">414</th><td><em>void</em> <dfn class="decl" id="kvm_arch_remove_all_hw_breakpoints" title='kvm_arch_remove_all_hw_breakpoints' data-ref="kvm_arch_remove_all_hw_breakpoints">kvm_arch_remove_all_hw_breakpoints</dfn>(<em>void</em>);</td></tr>
<tr><th id="415">415</th><td></td></tr>
<tr><th id="416">416</th><td><em>void</em> <dfn class="decl" id="kvm_arch_update_guest_debug" title='kvm_arch_update_guest_debug' data-ref="kvm_arch_update_guest_debug">kvm_arch_update_guest_debug</dfn>(<a class="typedef" href="../qemu/typedefs.h.html#CPUState" title='CPUState' data-type='struct CPUState' data-ref="CPUState">CPUState</a> *<dfn class="local col0 decl" id="10750cpu" title='cpu' data-type='CPUState *' data-ref="10750cpu">cpu</dfn>, <b>struct</b> <a class="type" href="../../linux-headers/linux/kvm.h.html#kvm_guest_debug" title='kvm_guest_debug' data-ref="kvm_guest_debug">kvm_guest_debug</a> *<dfn class="local col1 decl" id="10751dbg" title='dbg' data-type='struct kvm_guest_debug *' data-ref="10751dbg">dbg</dfn>);</td></tr>
<tr><th id="417">417</th><td></td></tr>
<tr><th id="418">418</th><td><span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="decl" id="kvm_arch_stop_on_emulation_error" title='kvm_arch_stop_on_emulation_error' data-ref="kvm_arch_stop_on_emulation_error">kvm_arch_stop_on_emulation_error</dfn>(<a class="typedef" href="../qemu/typedefs.h.html#CPUState" title='CPUState' data-type='struct CPUState' data-ref="CPUState">CPUState</a> *<dfn class="local col2 decl" id="10752cpu" title='cpu' data-type='CPUState *' data-ref="10752cpu">cpu</dfn>);</td></tr>
<tr><th id="419">419</th><td></td></tr>
<tr><th id="420">420</th><td><em>int</em> <dfn class="decl" id="kvm_check_extension" title='kvm_check_extension' data-ref="kvm_check_extension">kvm_check_extension</dfn>(<a class="typedef" href="#KVMState" title='KVMState' data-type='struct KVMState' data-ref="KVMState">KVMState</a> *<dfn class="local col3 decl" id="10753s" title='s' data-type='KVMState *' data-ref="10753s">s</dfn>, <em>unsigned</em> <em>int</em> <dfn class="local col4 decl" id="10754extension" title='extension' data-type='unsigned int' data-ref="10754extension">extension</dfn>);</td></tr>
<tr><th id="421">421</th><td></td></tr>
<tr><th id="422">422</th><td><em>int</em> <dfn class="decl" id="kvm_vm_check_extension" title='kvm_vm_check_extension' data-ref="kvm_vm_check_extension">kvm_vm_check_extension</dfn>(<a class="typedef" href="#KVMState" title='KVMState' data-type='struct KVMState' data-ref="KVMState">KVMState</a> *<dfn class="local col5 decl" id="10755s" title='s' data-type='KVMState *' data-ref="10755s">s</dfn>, <em>unsigned</em> <em>int</em> <dfn class="local col6 decl" id="10756extension" title='extension' data-type='unsigned int' data-ref="10756extension">extension</dfn>);</td></tr>
<tr><th id="423">423</th><td></td></tr>
<tr><th id="424">424</th><td><u>#define <dfn class="macro" id="_M/kvm_vm_enable_cap" data-ref="_M/kvm_vm_enable_cap">kvm_vm_enable_cap</dfn>(s, capability, cap_flags, ...)             \</u></td></tr>
<tr><th id="425">425</th><td><u>    ({                                                               \</u></td></tr>
<tr><th id="426">426</th><td><u>        struct kvm_enable_cap cap = {                                \</u></td></tr>
<tr><th id="427">427</th><td><u>            .cap = capability,                                       \</u></td></tr>
<tr><th id="428">428</th><td><u>            .flags = cap_flags,                                      \</u></td></tr>
<tr><th id="429">429</th><td><u>        };                                                           \</u></td></tr>
<tr><th id="430">430</th><td><u>        uint64_t args_tmp[] = { __VA_ARGS__ };                       \</u></td></tr>
<tr><th id="431">431</th><td><u>        int i;                                                       \</u></td></tr>
<tr><th id="432">432</th><td><u>        for (i = 0; i &lt; (int)ARRAY_SIZE(args_tmp) &amp;&amp;                 \</u></td></tr>
<tr><th id="433">433</th><td><u>                     i &lt; ARRAY_SIZE(cap.args); i++) {                \</u></td></tr>
<tr><th id="434">434</th><td><u>            cap.args[i] = args_tmp[i];                               \</u></td></tr>
<tr><th id="435">435</th><td><u>        }                                                            \</u></td></tr>
<tr><th id="436">436</th><td><u>        kvm_vm_ioctl(s, KVM_ENABLE_CAP, &amp;cap);                       \</u></td></tr>
<tr><th id="437">437</th><td><u>    })</u></td></tr>
<tr><th id="438">438</th><td></td></tr>
<tr><th id="439">439</th><td><u>#define <dfn class="macro" id="_M/kvm_vcpu_enable_cap" data-ref="_M/kvm_vcpu_enable_cap">kvm_vcpu_enable_cap</dfn>(cpu, capability, cap_flags, ...)         \</u></td></tr>
<tr><th id="440">440</th><td><u>    ({                                                               \</u></td></tr>
<tr><th id="441">441</th><td><u>        struct kvm_enable_cap cap = {                                \</u></td></tr>
<tr><th id="442">442</th><td><u>            .cap = capability,                                       \</u></td></tr>
<tr><th id="443">443</th><td><u>            .flags = cap_flags,                                      \</u></td></tr>
<tr><th id="444">444</th><td><u>        };                                                           \</u></td></tr>
<tr><th id="445">445</th><td><u>        uint64_t args_tmp[] = { __VA_ARGS__ };                       \</u></td></tr>
<tr><th id="446">446</th><td><u>        int i;                                                       \</u></td></tr>
<tr><th id="447">447</th><td><u>        for (i = 0; i &lt; (int)ARRAY_SIZE(args_tmp) &amp;&amp;                 \</u></td></tr>
<tr><th id="448">448</th><td><u>                     i &lt; ARRAY_SIZE(cap.args); i++) {                \</u></td></tr>
<tr><th id="449">449</th><td><u>            cap.args[i] = args_tmp[i];                               \</u></td></tr>
<tr><th id="450">450</th><td><u>        }                                                            \</u></td></tr>
<tr><th id="451">451</th><td><u>        kvm_vcpu_ioctl(cpu, KVM_ENABLE_CAP, &amp;cap);                   \</u></td></tr>
<tr><th id="452">452</th><td><u>    })</u></td></tr>
<tr><th id="453">453</th><td></td></tr>
<tr><th id="454">454</th><td><a class="typedef" href="../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> <dfn class="decl" id="kvm_arch_get_supported_cpuid" title='kvm_arch_get_supported_cpuid' data-ref="kvm_arch_get_supported_cpuid">kvm_arch_get_supported_cpuid</dfn>(<a class="typedef" href="#KVMState" title='KVMState' data-type='struct KVMState' data-ref="KVMState">KVMState</a> *<dfn class="local col7 decl" id="10757env" title='env' data-type='KVMState *' data-ref="10757env">env</dfn>, <a class="typedef" href="../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> <dfn class="local col8 decl" id="10758function" title='function' data-type='uint32_t' data-ref="10758function">function</dfn>,</td></tr>
<tr><th id="455">455</th><td>                                      <a class="typedef" href="../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> <dfn class="local col9 decl" id="10759index" title='index' data-type='uint32_t' data-ref="10759index">index</dfn>, <em>int</em> <dfn class="local col0 decl" id="10760reg" title='reg' data-type='int' data-ref="10760reg">reg</dfn>);</td></tr>
<tr><th id="456">456</th><td></td></tr>
<tr><th id="457">457</th><td><em>void</em> <dfn class="decl" id="kvm_set_sigmask_len" title='kvm_set_sigmask_len' data-ref="kvm_set_sigmask_len">kvm_set_sigmask_len</dfn>(<a class="typedef" href="#KVMState" title='KVMState' data-type='struct KVMState' data-ref="KVMState">KVMState</a> *<dfn class="local col1 decl" id="10761s" title='s' data-type='KVMState *' data-ref="10761s">s</dfn>, <em>unsigned</em> <em>int</em> <dfn class="local col2 decl" id="10762sigmask_len" title='sigmask_len' data-type='unsigned int' data-ref="10762sigmask_len">sigmask_len</dfn>);</td></tr>
<tr><th id="458">458</th><td></td></tr>
<tr><th id="459">459</th><td><u>#<span data-ppcond="459">if</span> !defined(<span class="macro" data-ref="_M/CONFIG_USER_ONLY">CONFIG_USER_ONLY</span>)</u></td></tr>
<tr><th id="460">460</th><td><em>int</em> <dfn class="decl" id="kvm_physical_memory_addr_from_host" title='kvm_physical_memory_addr_from_host' data-ref="kvm_physical_memory_addr_from_host">kvm_physical_memory_addr_from_host</dfn>(<a class="typedef" href="#KVMState" title='KVMState' data-type='struct KVMState' data-ref="KVMState">KVMState</a> *<dfn class="local col3 decl" id="10763s" title='s' data-type='KVMState *' data-ref="10763s">s</dfn>, <em>void</em> *<dfn class="local col4 decl" id="10764ram_addr" title='ram_addr' data-type='void *' data-ref="10764ram_addr">ram_addr</dfn>,</td></tr>
<tr><th id="461">461</th><td>                                       <a class="typedef" href="../exec/hwaddr.h.html#hwaddr" title='hwaddr' data-type='uint64_t' data-ref="hwaddr">hwaddr</a> *<dfn class="local col5 decl" id="10765phys_addr" title='phys_addr' data-type='hwaddr *' data-ref="10765phys_addr">phys_addr</dfn>);</td></tr>
<tr><th id="462">462</th><td><u>#<span data-ppcond="459">endif</span></u></td></tr>
<tr><th id="463">463</th><td></td></tr>
<tr><th id="464">464</th><td><u>#<span data-ppcond="234">endif</span> /* NEED_CPU_H */</u></td></tr>
<tr><th id="465">465</th><td></td></tr>
<tr><th id="466">466</th><td><em>void</em> <dfn class="decl" id="kvm_cpu_synchronize_state" title='kvm_cpu_synchronize_state' data-ref="kvm_cpu_synchronize_state">kvm_cpu_synchronize_state</dfn>(<a class="typedef" href="../qemu/typedefs.h.html#CPUState" title='CPUState' data-type='struct CPUState' data-ref="CPUState">CPUState</a> *<dfn class="local col6 decl" id="10766cpu" title='cpu' data-type='CPUState *' data-ref="10766cpu">cpu</dfn>);</td></tr>
<tr><th id="467">467</th><td><em>void</em> <dfn class="decl" id="kvm_cpu_synchronize_post_reset" title='kvm_cpu_synchronize_post_reset' data-ref="kvm_cpu_synchronize_post_reset">kvm_cpu_synchronize_post_reset</dfn>(<a class="typedef" href="../qemu/typedefs.h.html#CPUState" title='CPUState' data-type='struct CPUState' data-ref="CPUState">CPUState</a> *<dfn class="local col7 decl" id="10767cpu" title='cpu' data-type='CPUState *' data-ref="10767cpu">cpu</dfn>);</td></tr>
<tr><th id="468">468</th><td><em>void</em> <dfn class="decl" id="kvm_cpu_synchronize_post_init" title='kvm_cpu_synchronize_post_init' data-ref="kvm_cpu_synchronize_post_init">kvm_cpu_synchronize_post_init</dfn>(<a class="typedef" href="../qemu/typedefs.h.html#CPUState" title='CPUState' data-type='struct CPUState' data-ref="CPUState">CPUState</a> *<dfn class="local col8 decl" id="10768cpu" title='cpu' data-type='CPUState *' data-ref="10768cpu">cpu</dfn>);</td></tr>
<tr><th id="469">469</th><td><em>void</em> <dfn class="decl" id="kvm_cpu_synchronize_pre_loadvm" title='kvm_cpu_synchronize_pre_loadvm' data-ref="kvm_cpu_synchronize_pre_loadvm">kvm_cpu_synchronize_pre_loadvm</dfn>(<a class="typedef" href="../qemu/typedefs.h.html#CPUState" title='CPUState' data-type='struct CPUState' data-ref="CPUState">CPUState</a> *<dfn class="local col9 decl" id="10769cpu" title='cpu' data-type='CPUState *' data-ref="10769cpu">cpu</dfn>);</td></tr>
<tr><th id="470">470</th><td></td></tr>
<tr><th id="471">471</th><td><em>void</em> <dfn class="decl" id="kvm_init_cpu_signals" title='kvm_init_cpu_signals' data-ref="kvm_init_cpu_signals">kvm_init_cpu_signals</dfn>(<a class="typedef" href="../qemu/typedefs.h.html#CPUState" title='CPUState' data-type='struct CPUState' data-ref="CPUState">CPUState</a> *<dfn class="local col0 decl" id="10770cpu" title='cpu' data-type='CPUState *' data-ref="10770cpu">cpu</dfn>);</td></tr>
<tr><th id="472">472</th><td></td></tr>
<tr><th id="473">473</th><td><i class="doc">/**</i></td></tr>
<tr><th id="474">474</th><td><i class="doc"> * kvm_irqchip_add_msi_route - Add MSI route for specific vector</i></td></tr>
<tr><th id="475">475</th><td><i class="doc"> *<span class="command"> @s</span>:      KVM state</i></td></tr>
<tr><th id="476">476</th><td><i class="doc"> *<span class="command"> @vector</span>: which vector to add. This can be either MSI/MSIX</i></td></tr>
<tr><th id="477">477</th><td><i class="doc"> *          vector. The function will automatically detect whether</i></td></tr>
<tr><th id="478">478</th><td><i class="doc"> *          MSI/MSIX is enabled, and fetch corresponding MSI</i></td></tr>
<tr><th id="479">479</th><td><i class="doc"> *          message.</i></td></tr>
<tr><th id="480">480</th><td><i class="doc"> * <span class="command">@dev</span>:<span class="verb">    Owner PCI device to add the route. If @dev is specified</span></i></td></tr>
<tr><th id="481">481</th><td><i class="doc"> *          as<span class="command"> @NULL</span>, an empty MSI message will be inited.</i></td></tr>
<tr><th id="482">482</th><td><i class="doc"> * <span class="command">@return</span>: virq (&gt;=0) when success, errno (&lt;0) when failed.</i></td></tr>
<tr><th id="483">483</th><td><i class="doc"> */</i></td></tr>
<tr><th id="484">484</th><td><em>int</em> <dfn class="decl" id="kvm_irqchip_add_msi_route" title='kvm_irqchip_add_msi_route' data-ref="kvm_irqchip_add_msi_route">kvm_irqchip_add_msi_route</dfn>(<a class="typedef" href="#KVMState" title='KVMState' data-type='struct KVMState' data-ref="KVMState">KVMState</a> *<dfn class="local col1 decl" id="10771s" title='s' data-type='KVMState *' data-ref="10771s">s</dfn>, <em>int</em> <dfn class="local col2 decl" id="10772vector" title='vector' data-type='int' data-ref="10772vector">vector</dfn>, <a class="typedef" href="../qemu/typedefs.h.html#PCIDevice" title='PCIDevice' data-type='struct PCIDevice' data-ref="PCIDevice">PCIDevice</a> *<dfn class="local col3 decl" id="10773dev" title='dev' data-type='PCIDevice *' data-ref="10773dev">dev</dfn>);</td></tr>
<tr><th id="485">485</th><td><em>int</em> <dfn class="decl" id="kvm_irqchip_update_msi_route" title='kvm_irqchip_update_msi_route' data-ref="kvm_irqchip_update_msi_route">kvm_irqchip_update_msi_route</dfn>(<a class="typedef" href="#KVMState" title='KVMState' data-type='struct KVMState' data-ref="KVMState">KVMState</a> *<dfn class="local col4 decl" id="10774s" title='s' data-type='KVMState *' data-ref="10774s">s</dfn>, <em>int</em> <dfn class="local col5 decl" id="10775virq" title='virq' data-type='int' data-ref="10775virq">virq</dfn>, <a class="typedef" href="../qemu/typedefs.h.html#MSIMessage" title='MSIMessage' data-type='struct MSIMessage' data-ref="MSIMessage">MSIMessage</a> <dfn class="local col6 decl" id="10776msg" title='msg' data-type='MSIMessage' data-ref="10776msg">msg</dfn>,</td></tr>
<tr><th id="486">486</th><td>                                 <a class="typedef" href="../qemu/typedefs.h.html#PCIDevice" title='PCIDevice' data-type='struct PCIDevice' data-ref="PCIDevice">PCIDevice</a> *<dfn class="local col7 decl" id="10777dev" title='dev' data-type='PCIDevice *' data-ref="10777dev">dev</dfn>);</td></tr>
<tr><th id="487">487</th><td><em>void</em> <dfn class="decl" id="kvm_irqchip_commit_routes" title='kvm_irqchip_commit_routes' data-ref="kvm_irqchip_commit_routes">kvm_irqchip_commit_routes</dfn>(<a class="typedef" href="#KVMState" title='KVMState' data-type='struct KVMState' data-ref="KVMState">KVMState</a> *<dfn class="local col8 decl" id="10778s" title='s' data-type='KVMState *' data-ref="10778s">s</dfn>);</td></tr>
<tr><th id="488">488</th><td><em>void</em> <dfn class="decl" id="kvm_irqchip_release_virq" title='kvm_irqchip_release_virq' data-ref="kvm_irqchip_release_virq">kvm_irqchip_release_virq</dfn>(<a class="typedef" href="#KVMState" title='KVMState' data-type='struct KVMState' data-ref="KVMState">KVMState</a> *<dfn class="local col9 decl" id="10779s" title='s' data-type='KVMState *' data-ref="10779s">s</dfn>, <em>int</em> <dfn class="local col0 decl" id="10780virq" title='virq' data-type='int' data-ref="10780virq">virq</dfn>);</td></tr>
<tr><th id="489">489</th><td></td></tr>
<tr><th id="490">490</th><td><em>int</em> <dfn class="decl" id="kvm_irqchip_add_adapter_route" title='kvm_irqchip_add_adapter_route' data-ref="kvm_irqchip_add_adapter_route">kvm_irqchip_add_adapter_route</dfn>(<a class="typedef" href="#KVMState" title='KVMState' data-type='struct KVMState' data-ref="KVMState">KVMState</a> *<dfn class="local col1 decl" id="10781s" title='s' data-type='KVMState *' data-ref="10781s">s</dfn>, <a class="typedef" href="../qemu/typedefs.h.html#AdapterInfo" title='AdapterInfo' data-type='struct AdapterInfo' data-ref="AdapterInfo">AdapterInfo</a> *<dfn class="local col2 decl" id="10782adapter" title='adapter' data-type='AdapterInfo *' data-ref="10782adapter">adapter</dfn>);</td></tr>
<tr><th id="491">491</th><td><em>int</em> <dfn class="decl" id="kvm_irqchip_add_hv_sint_route" title='kvm_irqchip_add_hv_sint_route' data-ref="kvm_irqchip_add_hv_sint_route">kvm_irqchip_add_hv_sint_route</dfn>(<a class="typedef" href="#KVMState" title='KVMState' data-type='struct KVMState' data-ref="KVMState">KVMState</a> *<dfn class="local col3 decl" id="10783s" title='s' data-type='KVMState *' data-ref="10783s">s</dfn>, <a class="typedef" href="../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> <dfn class="local col4 decl" id="10784vcpu" title='vcpu' data-type='uint32_t' data-ref="10784vcpu">vcpu</dfn>, <a class="typedef" href="../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> <dfn class="local col5 decl" id="10785sint" title='sint' data-type='uint32_t' data-ref="10785sint">sint</dfn>);</td></tr>
<tr><th id="492">492</th><td></td></tr>
<tr><th id="493">493</th><td><em>int</em> <dfn class="decl" id="kvm_irqchip_add_irqfd_notifier_gsi" title='kvm_irqchip_add_irqfd_notifier_gsi' data-ref="kvm_irqchip_add_irqfd_notifier_gsi">kvm_irqchip_add_irqfd_notifier_gsi</dfn>(<a class="typedef" href="#KVMState" title='KVMState' data-type='struct KVMState' data-ref="KVMState">KVMState</a> *<dfn class="local col6 decl" id="10786s" title='s' data-type='KVMState *' data-ref="10786s">s</dfn>, <a class="typedef" href="../qemu/typedefs.h.html#EventNotifier" title='EventNotifier' data-type='struct EventNotifier' data-ref="EventNotifier">EventNotifier</a> *<dfn class="local col7 decl" id="10787n" title='n' data-type='EventNotifier *' data-ref="10787n">n</dfn>,</td></tr>
<tr><th id="494">494</th><td>                                       <a class="typedef" href="../qemu/typedefs.h.html#EventNotifier" title='EventNotifier' data-type='struct EventNotifier' data-ref="EventNotifier">EventNotifier</a> *<dfn class="local col8 decl" id="10788rn" title='rn' data-type='EventNotifier *' data-ref="10788rn">rn</dfn>, <em>int</em> <dfn class="local col9 decl" id="10789virq" title='virq' data-type='int' data-ref="10789virq">virq</dfn>);</td></tr>
<tr><th id="495">495</th><td><em>int</em> <dfn class="decl" id="kvm_irqchip_remove_irqfd_notifier_gsi" title='kvm_irqchip_remove_irqfd_notifier_gsi' data-ref="kvm_irqchip_remove_irqfd_notifier_gsi">kvm_irqchip_remove_irqfd_notifier_gsi</dfn>(<a class="typedef" href="#KVMState" title='KVMState' data-type='struct KVMState' data-ref="KVMState">KVMState</a> *<dfn class="local col0 decl" id="10790s" title='s' data-type='KVMState *' data-ref="10790s">s</dfn>, <a class="typedef" href="../qemu/typedefs.h.html#EventNotifier" title='EventNotifier' data-type='struct EventNotifier' data-ref="EventNotifier">EventNotifier</a> *<dfn class="local col1 decl" id="10791n" title='n' data-type='EventNotifier *' data-ref="10791n">n</dfn>,</td></tr>
<tr><th id="496">496</th><td>                                          <em>int</em> <dfn class="local col2 decl" id="10792virq" title='virq' data-type='int' data-ref="10792virq">virq</dfn>);</td></tr>
<tr><th id="497">497</th><td><em>int</em> <dfn class="decl" id="kvm_irqchip_add_irqfd_notifier" title='kvm_irqchip_add_irqfd_notifier' data-ref="kvm_irqchip_add_irqfd_notifier">kvm_irqchip_add_irqfd_notifier</dfn>(<a class="typedef" href="#KVMState" title='KVMState' data-type='struct KVMState' data-ref="KVMState">KVMState</a> *<dfn class="local col3 decl" id="10793s" title='s' data-type='KVMState *' data-ref="10793s">s</dfn>, <a class="typedef" href="../qemu/typedefs.h.html#EventNotifier" title='EventNotifier' data-type='struct EventNotifier' data-ref="EventNotifier">EventNotifier</a> *<dfn class="local col4 decl" id="10794n" title='n' data-type='EventNotifier *' data-ref="10794n">n</dfn>,</td></tr>
<tr><th id="498">498</th><td>                                   <a class="typedef" href="../qemu/typedefs.h.html#EventNotifier" title='EventNotifier' data-type='struct EventNotifier' data-ref="EventNotifier">EventNotifier</a> *<dfn class="local col5 decl" id="10795rn" title='rn' data-type='EventNotifier *' data-ref="10795rn">rn</dfn>, <a class="typedef" href="../hw/irq.h.html#qemu_irq" title='qemu_irq' data-type='struct IRQState *' data-ref="qemu_irq">qemu_irq</a> <dfn class="local col6 decl" id="10796irq" title='irq' data-type='qemu_irq' data-ref="10796irq">irq</dfn>);</td></tr>
<tr><th id="499">499</th><td><em>int</em> <dfn class="decl" id="kvm_irqchip_remove_irqfd_notifier" title='kvm_irqchip_remove_irqfd_notifier' data-ref="kvm_irqchip_remove_irqfd_notifier">kvm_irqchip_remove_irqfd_notifier</dfn>(<a class="typedef" href="#KVMState" title='KVMState' data-type='struct KVMState' data-ref="KVMState">KVMState</a> *<dfn class="local col7 decl" id="10797s" title='s' data-type='KVMState *' data-ref="10797s">s</dfn>, <a class="typedef" href="../qemu/typedefs.h.html#EventNotifier" title='EventNotifier' data-type='struct EventNotifier' data-ref="EventNotifier">EventNotifier</a> *<dfn class="local col8 decl" id="10798n" title='n' data-type='EventNotifier *' data-ref="10798n">n</dfn>,</td></tr>
<tr><th id="500">500</th><td>                                      <a class="typedef" href="../hw/irq.h.html#qemu_irq" title='qemu_irq' data-type='struct IRQState *' data-ref="qemu_irq">qemu_irq</a> <dfn class="local col9 decl" id="10799irq" title='irq' data-type='qemu_irq' data-ref="10799irq">irq</dfn>);</td></tr>
<tr><th id="501">501</th><td><em>void</em> <dfn class="decl" id="kvm_irqchip_set_qemuirq_gsi" title='kvm_irqchip_set_qemuirq_gsi' data-ref="kvm_irqchip_set_qemuirq_gsi">kvm_irqchip_set_qemuirq_gsi</dfn>(<a class="typedef" href="#KVMState" title='KVMState' data-type='struct KVMState' data-ref="KVMState">KVMState</a> *<dfn class="local col0 decl" id="10800s" title='s' data-type='KVMState *' data-ref="10800s">s</dfn>, <a class="typedef" href="../hw/irq.h.html#qemu_irq" title='qemu_irq' data-type='struct IRQState *' data-ref="qemu_irq">qemu_irq</a> <dfn class="local col1 decl" id="10801irq" title='irq' data-type='qemu_irq' data-ref="10801irq">irq</dfn>, <em>int</em> <dfn class="local col2 decl" id="10802gsi" title='gsi' data-type='int' data-ref="10802gsi">gsi</dfn>);</td></tr>
<tr><th id="502">502</th><td><em>void</em> <dfn class="decl" id="kvm_pc_gsi_handler" title='kvm_pc_gsi_handler' data-ref="kvm_pc_gsi_handler">kvm_pc_gsi_handler</dfn>(<em>void</em> *<dfn class="local col3 decl" id="10803opaque" title='opaque' data-type='void *' data-ref="10803opaque">opaque</dfn>, <em>int</em> <dfn class="local col4 decl" id="10804n" title='n' data-type='int' data-ref="10804n">n</dfn>, <em>int</em> <dfn class="local col5 decl" id="10805level" title='level' data-type='int' data-ref="10805level">level</dfn>);</td></tr>
<tr><th id="503">503</th><td><em>void</em> <dfn class="decl" id="kvm_pc_setup_irq_routing" title='kvm_pc_setup_irq_routing' data-ref="kvm_pc_setup_irq_routing">kvm_pc_setup_irq_routing</dfn>(<span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="local col6 decl" id="10806pci_enabled" title='pci_enabled' data-type='_Bool' data-ref="10806pci_enabled">pci_enabled</dfn>);</td></tr>
<tr><th id="504">504</th><td><em>void</em> <dfn class="decl" id="kvm_init_irq_routing" title='kvm_init_irq_routing' data-ref="kvm_init_irq_routing">kvm_init_irq_routing</dfn>(<a class="typedef" href="#KVMState" title='KVMState' data-type='struct KVMState' data-ref="KVMState">KVMState</a> *<dfn class="local col7 decl" id="10807s" title='s' data-type='KVMState *' data-ref="10807s">s</dfn>);</td></tr>
<tr><th id="505">505</th><td></td></tr>
<tr><th id="506">506</th><td><i class="doc">/**</i></td></tr>
<tr><th id="507">507</th><td><i class="doc"> * kvm_arch_irqchip_create:</i></td></tr>
<tr><th id="508">508</th><td><i class="doc"> *<span class="command"> @KVMState</span>: The KVMState pointer</i></td></tr>
<tr><th id="509">509</th><td><i class="doc"> *<span class="command"> @MachineState</span>: The MachineState pointer</i></td></tr>
<tr><th id="510">510</th><td><i class="doc"> *</i></td></tr>
<tr><th id="511">511</th><td><i class="doc"> * Allow architectures to create an in-kernel irq chip themselves.</i></td></tr>
<tr><th id="512">512</th><td><i class="doc"> *</i></td></tr>
<tr><th id="513">513</th><td><i class="doc"> * Returns: &lt; 0: error</i></td></tr>
<tr><th id="514">514</th><td><i class="doc"> *            0: irq chip was not created</i></td></tr>
<tr><th id="515">515</th><td><i class="doc"> *          &gt; 0: irq chip was created</i></td></tr>
<tr><th id="516">516</th><td><i class="doc"> */</i></td></tr>
<tr><th id="517">517</th><td><em>int</em> <dfn class="decl" id="kvm_arch_irqchip_create" title='kvm_arch_irqchip_create' data-ref="kvm_arch_irqchip_create">kvm_arch_irqchip_create</dfn>(<a class="typedef" href="../qemu/typedefs.h.html#MachineState" title='MachineState' data-type='struct MachineState' data-ref="MachineState">MachineState</a> *<dfn class="local col8 decl" id="10808ms" title='ms' data-type='MachineState *' data-ref="10808ms">ms</dfn>, <a class="typedef" href="#KVMState" title='KVMState' data-type='struct KVMState' data-ref="KVMState">KVMState</a> *<dfn class="local col9 decl" id="10809s" title='s' data-type='KVMState *' data-ref="10809s">s</dfn>);</td></tr>
<tr><th id="518">518</th><td></td></tr>
<tr><th id="519">519</th><td><i class="doc">/**</i></td></tr>
<tr><th id="520">520</th><td><i class="doc"> * kvm_set_one_reg - set a register value in KVM via KVM_SET_ONE_REG ioctl</i></td></tr>
<tr><th id="521">521</th><td><i class="doc"> *<span class="command"> @id</span>: The register ID</i></td></tr>
<tr><th id="522">522</th><td><i class="doc"> *<span class="command"> @source</span>: The pointer to the value to be set. It must point to a variable</i></td></tr>
<tr><th id="523">523</th><td><i class="doc"> *          of the correct type/size for the register being accessed.</i></td></tr>
<tr><th id="524">524</th><td><i class="doc"> *</i></td></tr>
<tr><th id="525">525</th><td><i class="doc"> * Returns: 0 on success, or a negative errno on failure.</i></td></tr>
<tr><th id="526">526</th><td><i class="doc"> */</i></td></tr>
<tr><th id="527">527</th><td><em>int</em> <dfn class="decl" id="kvm_set_one_reg" title='kvm_set_one_reg' data-ref="kvm_set_one_reg">kvm_set_one_reg</dfn>(<a class="typedef" href="../qemu/typedefs.h.html#CPUState" title='CPUState' data-type='struct CPUState' data-ref="CPUState">CPUState</a> *<dfn class="local col0 decl" id="10810cs" title='cs' data-type='CPUState *' data-ref="10810cs">cs</dfn>, <a class="typedef" href="../../../include/stdint.h.html#uint64_t" title='uint64_t' data-type='unsigned long' data-ref="uint64_t">uint64_t</a> <dfn class="local col1 decl" id="10811id" title='id' data-type='uint64_t' data-ref="10811id">id</dfn>, <em>void</em> *<dfn class="local col2 decl" id="10812source" title='source' data-type='void *' data-ref="10812source">source</dfn>);</td></tr>
<tr><th id="528">528</th><td></td></tr>
<tr><th id="529">529</th><td><i class="doc">/**</i></td></tr>
<tr><th id="530">530</th><td><i class="doc"> * kvm_get_one_reg - get a register value from KVM via KVM_GET_ONE_REG ioctl</i></td></tr>
<tr><th id="531">531</th><td><i class="doc"> *<span class="command"> @id</span>: The register ID</i></td></tr>
<tr><th id="532">532</th><td><i class="doc"> *<span class="command"> @target</span>: The pointer where the value is to be stored. It must point to a</i></td></tr>
<tr><th id="533">533</th><td><i class="doc"> *          variable of the correct type/size for the register being accessed.</i></td></tr>
<tr><th id="534">534</th><td><i class="doc"> *</i></td></tr>
<tr><th id="535">535</th><td><i class="doc"> * Returns: 0 on success, or a negative errno on failure.</i></td></tr>
<tr><th id="536">536</th><td><i class="doc"> */</i></td></tr>
<tr><th id="537">537</th><td><em>int</em> <dfn class="decl" id="kvm_get_one_reg" title='kvm_get_one_reg' data-ref="kvm_get_one_reg">kvm_get_one_reg</dfn>(<a class="typedef" href="../qemu/typedefs.h.html#CPUState" title='CPUState' data-type='struct CPUState' data-ref="CPUState">CPUState</a> *<dfn class="local col3 decl" id="10813cs" title='cs' data-type='CPUState *' data-ref="10813cs">cs</dfn>, <a class="typedef" href="../../../include/stdint.h.html#uint64_t" title='uint64_t' data-type='unsigned long' data-ref="uint64_t">uint64_t</a> <dfn class="local col4 decl" id="10814id" title='id' data-type='uint64_t' data-ref="10814id">id</dfn>, <em>void</em> *<dfn class="local col5 decl" id="10815target" title='target' data-type='void *' data-ref="10815target">target</dfn>);</td></tr>
<tr><th id="538">538</th><td><b>struct</b> <dfn class="type" id="ppc_radix_page_info" title='ppc_radix_page_info' data-ref="ppc_radix_page_info"><a class="type" href="#ppc_radix_page_info" title='ppc_radix_page_info' data-ref="ppc_radix_page_info">ppc_radix_page_info</a></dfn> *<dfn class="decl" id="kvm_get_radix_page_info" title='kvm_get_radix_page_info' data-ref="kvm_get_radix_page_info">kvm_get_radix_page_info</dfn>(<em>void</em>);</td></tr>
<tr><th id="539">539</th><td><em>int</em> <dfn class="decl" id="kvm_get_max_memslots" title='kvm_get_max_memslots' data-ref="kvm_get_max_memslots">kvm_get_max_memslots</dfn>(<em>void</em>);</td></tr>
<tr><th id="540">540</th><td><u>#<span data-ppcond="14">endif</span></u></td></tr>
<tr><th id="541">541</th><td></td></tr>
</table><hr/><p id='footer'>
Generated while processing <a href='../../accel/accel.c.html'>codebrowser/accel/accel.c</a><br/>Generated on <em>2017-Aug-28</em> from project codebrowser revision <em>v2.10.0-rc0-7-g6be37cc</em><br />Powered by <a href='https://woboq.com'><img alt='Woboq' src='https://code.woboq.org/woboq-16.png' width='41' height='16' /></a> <a href='https://code.woboq.org'>Code Browser</a> 2.1
<br/>Generator usage only permitted with license.</p>
</div></body></html>

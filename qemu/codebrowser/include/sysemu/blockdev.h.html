<!doctype html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0"><title>blockdev.h source code [codebrowser/include/sysemu/blockdev.h] - Woboq Code Browser</title>
<meta name="woboq:interestingDefinitions" content="DriveInfo "/>
<link rel="stylesheet" href="../../../../data/qtcreator.css" title="QtCreator"/>
<link rel="alternate stylesheet" href="../../../../data/kdevelop.css" title="KDevelop"/>
<script type="text/javascript" src="../../../../data/jquery/jquery.min.js"></script>
<script type="text/javascript" src="../../../../data/jquery/jquery-ui.min.js"></script>
<script>var file = 'codebrowser/include/sysemu/blockdev.h'; var root_path = '../../..'; var data_path = '../../../../data';</script>
<script src='../../../../data/codebrowser.js'></script>
</head>
<body><div id='header'><h1 id='breadcrumb'><span>Browse the source code of </span><a href='../..'>codebrowser</a>/<a href='..'>include</a>/<a href='./'>sysemu</a>/<a href='blockdev.h.html'>blockdev.h</a></h1></div>
<hr/><div id='content'><table class="code">
<tr><th id="1">1</th><td><i>/*</i></td></tr>
<tr><th id="2">2</th><td><i> * QEMU host block devices</i></td></tr>
<tr><th id="3">3</th><td><i> *</i></td></tr>
<tr><th id="4">4</th><td><i> * Copyright (c) 2003-2008 Fabrice Bellard</i></td></tr>
<tr><th id="5">5</th><td><i> *</i></td></tr>
<tr><th id="6">6</th><td><i> * This work is licensed under the terms of the GNU GPL, version 2 or</i></td></tr>
<tr><th id="7">7</th><td><i> * later.  See the COPYING file in the top-level directory.</i></td></tr>
<tr><th id="8">8</th><td><i> */</i></td></tr>
<tr><th id="9">9</th><td></td></tr>
<tr><th id="10">10</th><td><u>#<span data-ppcond="10">ifndef</span> <span class="macro" data-ref="_M/BLOCKDEV_H">BLOCKDEV_H</span></u></td></tr>
<tr><th id="11">11</th><td><u>#define <dfn class="macro" id="_M/BLOCKDEV_H" data-ref="_M/BLOCKDEV_H">BLOCKDEV_H</dfn></u></td></tr>
<tr><th id="12">12</th><td></td></tr>
<tr><th id="13">13</th><td><u>#include <a href="../block/block.h.html">"block/block.h"</a></u></td></tr>
<tr><th id="14">14</th><td><u>#include <a href="../qemu/queue.h.html">"qemu/queue.h"</a></u></td></tr>
<tr><th id="15">15</th><td></td></tr>
<tr><th id="16">16</th><td><em>void</em> <dfn class="decl" id="blockdev_mark_auto_del" title='blockdev_mark_auto_del' data-ref="blockdev_mark_auto_del">blockdev_mark_auto_del</dfn>(<a class="typedef" href="../qemu/typedefs.h.html#BlockBackend" title='BlockBackend' data-type='struct BlockBackend' data-ref="BlockBackend">BlockBackend</a> *<dfn class="local col1 decl" id="8081blk" title='blk' data-type='BlockBackend *' data-ref="8081blk">blk</dfn>);</td></tr>
<tr><th id="17">17</th><td><em>void</em> <dfn class="decl" id="blockdev_auto_del" title='blockdev_auto_del' data-ref="blockdev_auto_del">blockdev_auto_del</dfn>(<a class="typedef" href="../qemu/typedefs.h.html#BlockBackend" title='BlockBackend' data-type='struct BlockBackend' data-ref="BlockBackend">BlockBackend</a> *<dfn class="local col2 decl" id="8082blk" title='blk' data-type='BlockBackend *' data-ref="8082blk">blk</dfn>);</td></tr>
<tr><th id="18">18</th><td></td></tr>
<tr><th id="19">19</th><td><b>typedef</b> <b>enum</b> {</td></tr>
<tr><th id="20">20</th><td>    <dfn class="enum" id="IF_DEFAULT" title='IF_DEFAULT' data-ref="IF_DEFAULT">IF_DEFAULT</dfn> = -<var>1</var>,            <i>/* for use with drive_add() only */</i></td></tr>
<tr><th id="21">21</th><td>    <i>/*</i></td></tr>
<tr><th id="22">22</th><td><i>     * IF_NONE must be zero, because we want MachineClass member</i></td></tr>
<tr><th id="23">23</th><td><i>     * block_default_type to default-initialize to IF_NONE</i></td></tr>
<tr><th id="24">24</th><td><i>     */</i></td></tr>
<tr><th id="25">25</th><td>    <dfn class="enum" id="IF_NONE" title='IF_NONE' data-ref="IF_NONE">IF_NONE</dfn> = <var>0</var>,</td></tr>
<tr><th id="26">26</th><td>    <dfn class="enum" id="IF_IDE" title='IF_IDE' data-ref="IF_IDE">IF_IDE</dfn>, <dfn class="enum" id="IF_SCSI" title='IF_SCSI' data-ref="IF_SCSI">IF_SCSI</dfn>, <dfn class="enum" id="IF_FLOPPY" title='IF_FLOPPY' data-ref="IF_FLOPPY">IF_FLOPPY</dfn>, <dfn class="enum" id="IF_PFLASH" title='IF_PFLASH' data-ref="IF_PFLASH">IF_PFLASH</dfn>, <dfn class="enum" id="IF_MTD" title='IF_MTD' data-ref="IF_MTD">IF_MTD</dfn>, <dfn class="enum" id="IF_SD" title='IF_SD' data-ref="IF_SD">IF_SD</dfn>, <dfn class="enum" id="IF_VIRTIO" title='IF_VIRTIO' data-ref="IF_VIRTIO">IF_VIRTIO</dfn>, <dfn class="enum" id="IF_XEN" title='IF_XEN' data-ref="IF_XEN">IF_XEN</dfn>,</td></tr>
<tr><th id="27">27</th><td>    <dfn class="enum" id="IF_COUNT" title='IF_COUNT' data-ref="IF_COUNT">IF_COUNT</dfn></td></tr>
<tr><th id="28">28</th><td>} <dfn class="typedef" id="BlockInterfaceType" title='BlockInterfaceType' data-type='enum BlockInterfaceType' data-ref="BlockInterfaceType">BlockInterfaceType</dfn>;</td></tr>
<tr><th id="29">29</th><td></td></tr>
<tr><th id="30">30</th><td><b>struct</b> <dfn class="type def" id="DriveInfo" title='DriveInfo' data-ref="DriveInfo">DriveInfo</dfn> {</td></tr>
<tr><th id="31">31</th><td>    <em>const</em> <em>char</em> *<dfn class="decl" id="DriveInfo::devaddr" title='DriveInfo::devaddr' data-ref="DriveInfo::devaddr">devaddr</dfn>;</td></tr>
<tr><th id="32">32</th><td>    <a class="typedef" href="#BlockInterfaceType" title='BlockInterfaceType' data-type='enum BlockInterfaceType' data-ref="BlockInterfaceType">BlockInterfaceType</a> <dfn class="decl" id="DriveInfo::type" title='DriveInfo::type' data-ref="DriveInfo::type">type</dfn>;</td></tr>
<tr><th id="33">33</th><td>    <em>int</em> <dfn class="decl" id="DriveInfo::bus" title='DriveInfo::bus' data-ref="DriveInfo::bus">bus</dfn>;</td></tr>
<tr><th id="34">34</th><td>    <em>int</em> <dfn class="decl" id="DriveInfo::unit" title='DriveInfo::unit' data-ref="DriveInfo::unit">unit</dfn>;</td></tr>
<tr><th id="35">35</th><td>    <em>int</em> <dfn class="decl" id="DriveInfo::auto_del" title='DriveInfo::auto_del' data-ref="DriveInfo::auto_del">auto_del</dfn>;               <i>/* see blockdev_mark_auto_del() */</i></td></tr>
<tr><th id="36">36</th><td>    <span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="decl" id="DriveInfo::is_default" title='DriveInfo::is_default' data-ref="DriveInfo::is_default">is_default</dfn>;            <i>/* Added by default_drive() ?  */</i></td></tr>
<tr><th id="37">37</th><td>    <em>int</em> <dfn class="decl" id="DriveInfo::media_cd" title='DriveInfo::media_cd' data-ref="DriveInfo::media_cd">media_cd</dfn>;</td></tr>
<tr><th id="38">38</th><td>    <em>int</em> <dfn class="decl" id="DriveInfo::cyls" title='DriveInfo::cyls' data-ref="DriveInfo::cyls">cyls</dfn>, <dfn class="decl" id="DriveInfo::heads" title='DriveInfo::heads' data-ref="DriveInfo::heads">heads</dfn>, <dfn class="decl" id="DriveInfo::secs" title='DriveInfo::secs' data-ref="DriveInfo::secs">secs</dfn>, <dfn class="decl" id="DriveInfo::trans" title='DriveInfo::trans' data-ref="DriveInfo::trans">trans</dfn>;</td></tr>
<tr><th id="39">39</th><td>    <a class="typedef" href="../qemu/typedefs.h.html#QemuOpts" title='QemuOpts' data-type='struct QemuOpts' data-ref="QemuOpts">QemuOpts</a> *<dfn class="decl" id="DriveInfo::opts" title='DriveInfo::opts' data-ref="DriveInfo::opts">opts</dfn>;</td></tr>
<tr><th id="40">40</th><td>    <em>char</em> *<dfn class="decl" id="DriveInfo::serial" title='DriveInfo::serial' data-ref="DriveInfo::serial">serial</dfn>;</td></tr>
<tr><th id="41">41</th><td>    <a class="macro" href="../qemu/queue.h.html#359" title="struct { struct DriveInfo *tqe_next; struct DriveInfo * *tqe_prev; }" data-ref="_M/QTAILQ_ENTRY">QTAILQ_ENTRY</a>(<a class="type" href="#DriveInfo" title='DriveInfo' data-ref="DriveInfo">DriveInfo</a>) <dfn class="decl" id="DriveInfo::next" title='DriveInfo::next' data-ref="DriveInfo::next">next</dfn>;</td></tr>
<tr><th id="42">42</th><td>};</td></tr>
<tr><th id="43">43</th><td></td></tr>
<tr><th id="44">44</th><td><a class="typedef" href="../qemu/typedefs.h.html#DriveInfo" title='DriveInfo' data-type='struct DriveInfo' data-ref="DriveInfo">DriveInfo</a> *<dfn class="decl" id="blk_legacy_dinfo" title='blk_legacy_dinfo' data-ref="blk_legacy_dinfo">blk_legacy_dinfo</dfn>(<a class="typedef" href="../qemu/typedefs.h.html#BlockBackend" title='BlockBackend' data-type='struct BlockBackend' data-ref="BlockBackend">BlockBackend</a> *<dfn class="local col3 decl" id="8083blk" title='blk' data-type='BlockBackend *' data-ref="8083blk">blk</dfn>);</td></tr>
<tr><th id="45">45</th><td><a class="typedef" href="../qemu/typedefs.h.html#DriveInfo" title='DriveInfo' data-type='struct DriveInfo' data-ref="DriveInfo">DriveInfo</a> *<dfn class="decl" id="blk_set_legacy_dinfo" title='blk_set_legacy_dinfo' data-ref="blk_set_legacy_dinfo">blk_set_legacy_dinfo</dfn>(<a class="typedef" href="../qemu/typedefs.h.html#BlockBackend" title='BlockBackend' data-type='struct BlockBackend' data-ref="BlockBackend">BlockBackend</a> *<dfn class="local col4 decl" id="8084blk" title='blk' data-type='BlockBackend *' data-ref="8084blk">blk</dfn>, <a class="typedef" href="../qemu/typedefs.h.html#DriveInfo" title='DriveInfo' data-type='struct DriveInfo' data-ref="DriveInfo">DriveInfo</a> *<dfn class="local col5 decl" id="8085dinfo" title='dinfo' data-type='DriveInfo *' data-ref="8085dinfo">dinfo</dfn>);</td></tr>
<tr><th id="46">46</th><td><a class="typedef" href="../qemu/typedefs.h.html#BlockBackend" title='BlockBackend' data-type='struct BlockBackend' data-ref="BlockBackend">BlockBackend</a> *<dfn class="decl" id="blk_by_legacy_dinfo" title='blk_by_legacy_dinfo' data-ref="blk_by_legacy_dinfo">blk_by_legacy_dinfo</dfn>(<a class="typedef" href="../qemu/typedefs.h.html#DriveInfo" title='DriveInfo' data-type='struct DriveInfo' data-ref="DriveInfo">DriveInfo</a> *<dfn class="local col6 decl" id="8086dinfo" title='dinfo' data-type='DriveInfo *' data-ref="8086dinfo">dinfo</dfn>);</td></tr>
<tr><th id="47">47</th><td></td></tr>
<tr><th id="48">48</th><td><em>void</em> <dfn class="decl" id="override_max_devs" title='override_max_devs' data-ref="override_max_devs">override_max_devs</dfn>(<a class="typedef" href="#BlockInterfaceType" title='BlockInterfaceType' data-type='enum BlockInterfaceType' data-ref="BlockInterfaceType">BlockInterfaceType</a> <dfn class="local col7 decl" id="8087type" title='type' data-type='BlockInterfaceType' data-ref="8087type">type</dfn>, <em>int</em> <dfn class="local col8 decl" id="8088max_devs" title='max_devs' data-type='int' data-ref="8088max_devs">max_devs</dfn>);</td></tr>
<tr><th id="49">49</th><td></td></tr>
<tr><th id="50">50</th><td><a class="typedef" href="../qemu/typedefs.h.html#DriveInfo" title='DriveInfo' data-type='struct DriveInfo' data-ref="DriveInfo">DriveInfo</a> *<dfn class="decl" id="drive_get" title='drive_get' data-ref="drive_get">drive_get</dfn>(<a class="typedef" href="#BlockInterfaceType" title='BlockInterfaceType' data-type='enum BlockInterfaceType' data-ref="BlockInterfaceType">BlockInterfaceType</a> <dfn class="local col9 decl" id="8089type" title='type' data-type='BlockInterfaceType' data-ref="8089type">type</dfn>, <em>int</em> <dfn class="local col0 decl" id="8090bus" title='bus' data-type='int' data-ref="8090bus">bus</dfn>, <em>int</em> <dfn class="local col1 decl" id="8091unit" title='unit' data-type='int' data-ref="8091unit">unit</dfn>);</td></tr>
<tr><th id="51">51</th><td><em>void</em> <dfn class="decl" id="drive_check_orphaned" title='drive_check_orphaned' data-ref="drive_check_orphaned">drive_check_orphaned</dfn>(<em>void</em>);</td></tr>
<tr><th id="52">52</th><td><a class="typedef" href="../qemu/typedefs.h.html#DriveInfo" title='DriveInfo' data-type='struct DriveInfo' data-ref="DriveInfo">DriveInfo</a> *<dfn class="decl" id="drive_get_by_index" title='drive_get_by_index' data-ref="drive_get_by_index">drive_get_by_index</dfn>(<a class="typedef" href="#BlockInterfaceType" title='BlockInterfaceType' data-type='enum BlockInterfaceType' data-ref="BlockInterfaceType">BlockInterfaceType</a> <dfn class="local col2 decl" id="8092type" title='type' data-type='BlockInterfaceType' data-ref="8092type">type</dfn>, <em>int</em> <dfn class="local col3 decl" id="8093index" title='index' data-type='int' data-ref="8093index">index</dfn>);</td></tr>
<tr><th id="53">53</th><td><em>int</em> <dfn class="decl" id="drive_get_max_bus" title='drive_get_max_bus' data-ref="drive_get_max_bus">drive_get_max_bus</dfn>(<a class="typedef" href="#BlockInterfaceType" title='BlockInterfaceType' data-type='enum BlockInterfaceType' data-ref="BlockInterfaceType">BlockInterfaceType</a> <dfn class="local col4 decl" id="8094type" title='type' data-type='BlockInterfaceType' data-ref="8094type">type</dfn>);</td></tr>
<tr><th id="54">54</th><td><em>int</em> <dfn class="decl" id="drive_get_max_devs" title='drive_get_max_devs' data-ref="drive_get_max_devs">drive_get_max_devs</dfn>(<a class="typedef" href="#BlockInterfaceType" title='BlockInterfaceType' data-type='enum BlockInterfaceType' data-ref="BlockInterfaceType">BlockInterfaceType</a> <dfn class="local col5 decl" id="8095type" title='type' data-type='BlockInterfaceType' data-ref="8095type">type</dfn>);</td></tr>
<tr><th id="55">55</th><td><a class="typedef" href="../qemu/typedefs.h.html#DriveInfo" title='DriveInfo' data-type='struct DriveInfo' data-ref="DriveInfo">DriveInfo</a> *<dfn class="decl" id="drive_get_next" title='drive_get_next' data-ref="drive_get_next">drive_get_next</dfn>(<a class="typedef" href="#BlockInterfaceType" title='BlockInterfaceType' data-type='enum BlockInterfaceType' data-ref="BlockInterfaceType">BlockInterfaceType</a> <dfn class="local col6 decl" id="8096type" title='type' data-type='BlockInterfaceType' data-ref="8096type">type</dfn>);</td></tr>
<tr><th id="56">56</th><td></td></tr>
<tr><th id="57">57</th><td><a class="typedef" href="../qemu/typedefs.h.html#QemuOpts" title='QemuOpts' data-type='struct QemuOpts' data-ref="QemuOpts">QemuOpts</a> *<dfn class="decl" id="drive_def" title='drive_def' data-ref="drive_def">drive_def</dfn>(<em>const</em> <em>char</em> *<dfn class="local col7 decl" id="8097optstr" title='optstr' data-type='const char *' data-ref="8097optstr">optstr</dfn>);</td></tr>
<tr><th id="58">58</th><td><a class="typedef" href="../qemu/typedefs.h.html#QemuOpts" title='QemuOpts' data-type='struct QemuOpts' data-ref="QemuOpts">QemuOpts</a> *<dfn class="decl" id="drive_add" title='drive_add' data-ref="drive_add">drive_add</dfn>(<a class="typedef" href="#BlockInterfaceType" title='BlockInterfaceType' data-type='enum BlockInterfaceType' data-ref="BlockInterfaceType">BlockInterfaceType</a> <dfn class="local col8 decl" id="8098type" title='type' data-type='BlockInterfaceType' data-ref="8098type">type</dfn>, <em>int</em> <dfn class="local col9 decl" id="8099index" title='index' data-type='int' data-ref="8099index">index</dfn>, <em>const</em> <em>char</em> *<dfn class="local col0 decl" id="8100file" title='file' data-type='const char *' data-ref="8100file">file</dfn>,</td></tr>
<tr><th id="59">59</th><td>                    <em>const</em> <em>char</em> *<dfn class="local col1 decl" id="8101optstr" title='optstr' data-type='const char *' data-ref="8101optstr">optstr</dfn>);</td></tr>
<tr><th id="60">60</th><td><a class="typedef" href="../qemu/typedefs.h.html#DriveInfo" title='DriveInfo' data-type='struct DriveInfo' data-ref="DriveInfo">DriveInfo</a> *<dfn class="decl" id="drive_new" title='drive_new' data-ref="drive_new">drive_new</dfn>(<a class="typedef" href="../qemu/typedefs.h.html#QemuOpts" title='QemuOpts' data-type='struct QemuOpts' data-ref="QemuOpts">QemuOpts</a> *<dfn class="local col2 decl" id="8102arg" title='arg' data-type='QemuOpts *' data-ref="8102arg">arg</dfn>, <a class="typedef" href="#BlockInterfaceType" title='BlockInterfaceType' data-type='enum BlockInterfaceType' data-ref="BlockInterfaceType">BlockInterfaceType</a> <dfn class="local col3 decl" id="8103block_default_type" title='block_default_type' data-type='BlockInterfaceType' data-ref="8103block_default_type">block_default_type</dfn>);</td></tr>
<tr><th id="61">61</th><td></td></tr>
<tr><th id="62">62</th><td><i>/* device-hotplug */</i></td></tr>
<tr><th id="63">63</th><td></td></tr>
<tr><th id="64">64</th><td><em>void</em> <dfn class="decl" id="hmp_commit" title='hmp_commit' data-ref="hmp_commit">hmp_commit</dfn>(<a class="typedef" href="../qemu/typedefs.h.html#Monitor" title='Monitor' data-type='struct Monitor' data-ref="Monitor">Monitor</a> *<dfn class="local col4 decl" id="8104mon" title='mon' data-type='Monitor *' data-ref="8104mon">mon</dfn>, <em>const</em> <a class="typedef" href="../qapi/qmp/qdict.h.html#QDict" title='QDict' data-type='struct QDict' data-ref="QDict">QDict</a> *<dfn class="local col5 decl" id="8105qdict" title='qdict' data-type='const QDict *' data-ref="8105qdict">qdict</dfn>);</td></tr>
<tr><th id="65">65</th><td><em>void</em> <dfn class="decl" id="hmp_drive_del" title='hmp_drive_del' data-ref="hmp_drive_del">hmp_drive_del</dfn>(<a class="typedef" href="../qemu/typedefs.h.html#Monitor" title='Monitor' data-type='struct Monitor' data-ref="Monitor">Monitor</a> *<dfn class="local col6 decl" id="8106mon" title='mon' data-type='Monitor *' data-ref="8106mon">mon</dfn>, <em>const</em> <a class="typedef" href="../qapi/qmp/qdict.h.html#QDict" title='QDict' data-type='struct QDict' data-ref="QDict">QDict</a> *<dfn class="local col7 decl" id="8107qdict" title='qdict' data-type='const QDict *' data-ref="8107qdict">qdict</dfn>);</td></tr>
<tr><th id="66">66</th><td><u>#<span data-ppcond="10">endif</span></u></td></tr>
<tr><th id="67">67</th><td></td></tr>
</table><hr/><p id='footer'>
Generated while processing <a href='../../accel/accel.c.html'>codebrowser/accel/accel.c</a><br/>Generated on <em>2017-Aug-28</em> from project codebrowser revision <em>v2.10.0-rc0-7-g6be37cc</em><br />Powered by <a href='https://woboq.com'><img alt='Woboq' src='https://code.woboq.org/woboq-16.png' width='41' height='16' /></a> <a href='https://code.woboq.org'>Code Browser</a> 2.1
<br/>Generator usage only permitted with license.</p>
</div></body></html>

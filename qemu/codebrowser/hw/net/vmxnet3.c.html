<!doctype html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0"><title>vmxnet3.c source code [codebrowser/hw/net/vmxnet3.c] - Woboq Code Browser</title>
<meta name="woboq:interestingDefinitions" content="VMXNET3Class "/>
<link rel="stylesheet" href="../../../../data/qtcreator.css" title="QtCreator"/>
<link rel="alternate stylesheet" href="../../../../data/kdevelop.css" title="KDevelop"/>
<script type="text/javascript" src="../../../../data/jquery/jquery.min.js"></script>
<script type="text/javascript" src="../../../../data/jquery/jquery-ui.min.js"></script>
<script>var file = 'codebrowser/hw/net/vmxnet3.c'; var root_path = '../../..'; var data_path = '../../../../data';</script>
<script src='../../../../data/codebrowser.js'></script>
</head>
<body><div id='header'><h1 id='breadcrumb'><span>Browse the source code of </span><a href='../..'>codebrowser</a>/<a href='..'>hw</a>/<a href='./'>net</a>/<a href='vmxnet3.c.html'>vmxnet3.c</a></h1></div>
<hr/><div id='content'><table class="code">
<tr><th id="1">1</th><td><i>/*</i></td></tr>
<tr><th id="2">2</th><td><i> * QEMU VMWARE VMXNET3 paravirtual NIC</i></td></tr>
<tr><th id="3">3</th><td><i> *</i></td></tr>
<tr><th id="4">4</th><td><i> * Copyright (c) 2012 Ravello Systems LTD (<a href="http://ravellosystems.com">http://ravellosystems.com</a>)</i></td></tr>
<tr><th id="5">5</th><td><i> *</i></td></tr>
<tr><th id="6">6</th><td><i> * Developed by Daynix Computing LTD (<a href="http://www.daynix.com">http://www.daynix.com</a>)</i></td></tr>
<tr><th id="7">7</th><td><i> *</i></td></tr>
<tr><th id="8">8</th><td><i> * Authors:</i></td></tr>
<tr><th id="9">9</th><td><i> * Dmitry Fleytman &lt;dmitry@daynix.com&gt;</i></td></tr>
<tr><th id="10">10</th><td><i> * Tamir Shomer &lt;tamirs@daynix.com&gt;</i></td></tr>
<tr><th id="11">11</th><td><i> * Yan Vugenfirer &lt;yan@daynix.com&gt;</i></td></tr>
<tr><th id="12">12</th><td><i> *</i></td></tr>
<tr><th id="13">13</th><td><i> * This work is licensed under the terms of the GNU GPL, version 2.</i></td></tr>
<tr><th id="14">14</th><td><i> * See the COPYING file in the top-level directory.</i></td></tr>
<tr><th id="15">15</th><td><i> *</i></td></tr>
<tr><th id="16">16</th><td><i> */</i></td></tr>
<tr><th id="17">17</th><td></td></tr>
<tr><th id="18">18</th><td><u>#include <a href="../../include/qemu/osdep.h.html">"qemu/osdep.h"</a></u></td></tr>
<tr><th id="19">19</th><td><u>#include <a href="../../include/hw/hw.h.html">"hw/hw.h"</a></u></td></tr>
<tr><th id="20">20</th><td><u>#include <a href="../../include/hw/pci/pci.h.html">"hw/pci/pci.h"</a></u></td></tr>
<tr><th id="21">21</th><td><u>#include <a href="../../include/net/net.h.html">"net/net.h"</a></u></td></tr>
<tr><th id="22">22</th><td><u>#include <a href="../../include/net/tap.h.html">"net/tap.h"</a></u></td></tr>
<tr><th id="23">23</th><td><u>#include <a href="../../include/net/checksum.h.html">"net/checksum.h"</a></u></td></tr>
<tr><th id="24">24</th><td><u>#include <a href="../../include/sysemu/sysemu.h.html">"sysemu/sysemu.h"</a></u></td></tr>
<tr><th id="25">25</th><td><u>#include <a href="../../include/qemu-common.h.html">"qemu-common.h"</a></u></td></tr>
<tr><th id="26">26</th><td><u>#include <a href="../../include/qemu/bswap.h.html">"qemu/bswap.h"</a></u></td></tr>
<tr><th id="27">27</th><td><u>#include <a href="../../include/hw/pci/msix.h.html">"hw/pci/msix.h"</a></u></td></tr>
<tr><th id="28">28</th><td><u>#include <a href="../../include/hw/pci/msi.h.html">"hw/pci/msi.h"</a></u></td></tr>
<tr><th id="29">29</th><td><u>#include <a href="../../include/migration/register.h.html">"migration/register.h"</a></u></td></tr>
<tr><th id="30">30</th><td></td></tr>
<tr><th id="31">31</th><td><u>#include <a href="vmxnet3.h.html">"vmxnet3.h"</a></u></td></tr>
<tr><th id="32">32</th><td><u>#include <a href="vmxnet_debug.h.html">"vmxnet_debug.h"</a></u></td></tr>
<tr><th id="33">33</th><td><u>#include <a href="vmware_utils.h.html">"vmware_utils.h"</a></u></td></tr>
<tr><th id="34">34</th><td><u>#include <a href="net_tx_pkt.h.html">"net_tx_pkt.h"</a></u></td></tr>
<tr><th id="35">35</th><td><u>#include <a href="net_rx_pkt.h.html">"net_rx_pkt.h"</a></u></td></tr>
<tr><th id="36">36</th><td></td></tr>
<tr><th id="37">37</th><td><u>#define <dfn class="macro" id="_M/PCI_DEVICE_ID_VMWARE_VMXNET3_REVISION" data-ref="_M/PCI_DEVICE_ID_VMWARE_VMXNET3_REVISION">PCI_DEVICE_ID_VMWARE_VMXNET3_REVISION</dfn> 0x1</u></td></tr>
<tr><th id="38">38</th><td><u>#define <dfn class="macro" id="_M/VMXNET3_MSIX_BAR_SIZE" data-ref="_M/VMXNET3_MSIX_BAR_SIZE">VMXNET3_MSIX_BAR_SIZE</dfn> 0x2000</u></td></tr>
<tr><th id="39">39</th><td><u>#define <dfn class="macro" id="_M/MIN_BUF_SIZE" data-ref="_M/MIN_BUF_SIZE">MIN_BUF_SIZE</dfn> 60</u></td></tr>
<tr><th id="40">40</th><td></td></tr>
<tr><th id="41">41</th><td><i>/* Compatibility flags for migration */</i></td></tr>
<tr><th id="42">42</th><td><u>#define <dfn class="macro" id="_M/VMXNET3_COMPAT_FLAG_OLD_MSI_OFFSETS_BIT" data-ref="_M/VMXNET3_COMPAT_FLAG_OLD_MSI_OFFSETS_BIT">VMXNET3_COMPAT_FLAG_OLD_MSI_OFFSETS_BIT</dfn> 0</u></td></tr>
<tr><th id="43">43</th><td><u>#define <dfn class="macro" id="_M/VMXNET3_COMPAT_FLAG_OLD_MSI_OFFSETS" data-ref="_M/VMXNET3_COMPAT_FLAG_OLD_MSI_OFFSETS">VMXNET3_COMPAT_FLAG_OLD_MSI_OFFSETS</dfn> \</u></td></tr>
<tr><th id="44">44</th><td><u>    (1 &lt;&lt; VMXNET3_COMPAT_FLAG_OLD_MSI_OFFSETS_BIT)</u></td></tr>
<tr><th id="45">45</th><td><u>#define <dfn class="macro" id="_M/VMXNET3_COMPAT_FLAG_DISABLE_PCIE_BIT" data-ref="_M/VMXNET3_COMPAT_FLAG_DISABLE_PCIE_BIT">VMXNET3_COMPAT_FLAG_DISABLE_PCIE_BIT</dfn> 1</u></td></tr>
<tr><th id="46">46</th><td><u>#define <dfn class="macro" id="_M/VMXNET3_COMPAT_FLAG_DISABLE_PCIE" data-ref="_M/VMXNET3_COMPAT_FLAG_DISABLE_PCIE">VMXNET3_COMPAT_FLAG_DISABLE_PCIE</dfn> \</u></td></tr>
<tr><th id="47">47</th><td><u>    (1 &lt;&lt; VMXNET3_COMPAT_FLAG_DISABLE_PCIE_BIT)</u></td></tr>
<tr><th id="48">48</th><td></td></tr>
<tr><th id="49">49</th><td><u>#define <dfn class="macro" id="_M/VMXNET3_EXP_EP_OFFSET" data-ref="_M/VMXNET3_EXP_EP_OFFSET">VMXNET3_EXP_EP_OFFSET</dfn> (0x48)</u></td></tr>
<tr><th id="50">50</th><td><u>#define <dfn class="macro" id="_M/VMXNET3_MSI_OFFSET" data-ref="_M/VMXNET3_MSI_OFFSET">VMXNET3_MSI_OFFSET</dfn>(s) \</u></td></tr>
<tr><th id="51">51</th><td><u>    ((s)-&gt;<a class="tu ref" href="#(anonymous)::compat_flags" title='(anonymous struct)::compat_flags' data-use='r' data-ref="(anonymous)::compat_flags">compat_flags</a> &amp; VMXNET3_COMPAT_FLAG_OLD_MSI_OFFSETS ? 0x50 : 0x84)</u></td></tr>
<tr><th id="52">52</th><td><u>#define <dfn class="macro" id="_M/VMXNET3_MSIX_OFFSET" data-ref="_M/VMXNET3_MSIX_OFFSET">VMXNET3_MSIX_OFFSET</dfn>(s) \</u></td></tr>
<tr><th id="53">53</th><td><u>    ((s)-&gt;<a class="tu ref" href="#(anonymous)::compat_flags" title='(anonymous struct)::compat_flags' data-use='r' data-ref="(anonymous)::compat_flags">compat_flags</a> &amp; VMXNET3_COMPAT_FLAG_OLD_MSI_OFFSETS ? 0 : 0x9c)</u></td></tr>
<tr><th id="54">54</th><td><u>#define <dfn class="macro" id="_M/VMXNET3_DSN_OFFSET" data-ref="_M/VMXNET3_DSN_OFFSET">VMXNET3_DSN_OFFSET</dfn>     (0x100)</u></td></tr>
<tr><th id="55">55</th><td></td></tr>
<tr><th id="56">56</th><td><u>#define <dfn class="macro" id="_M/VMXNET3_BAR0_IDX" data-ref="_M/VMXNET3_BAR0_IDX">VMXNET3_BAR0_IDX</dfn>      (0)</u></td></tr>
<tr><th id="57">57</th><td><u>#define <dfn class="macro" id="_M/VMXNET3_BAR1_IDX" data-ref="_M/VMXNET3_BAR1_IDX">VMXNET3_BAR1_IDX</dfn>      (1)</u></td></tr>
<tr><th id="58">58</th><td><u>#define <dfn class="macro" id="_M/VMXNET3_MSIX_BAR_IDX" data-ref="_M/VMXNET3_MSIX_BAR_IDX">VMXNET3_MSIX_BAR_IDX</dfn>  (2)</u></td></tr>
<tr><th id="59">59</th><td></td></tr>
<tr><th id="60">60</th><td><u>#define <dfn class="macro" id="_M/VMXNET3_OFF_MSIX_TABLE" data-ref="_M/VMXNET3_OFF_MSIX_TABLE">VMXNET3_OFF_MSIX_TABLE</dfn> (0x000)</u></td></tr>
<tr><th id="61">61</th><td><u>#define <dfn class="macro" id="_M/VMXNET3_OFF_MSIX_PBA" data-ref="_M/VMXNET3_OFF_MSIX_PBA">VMXNET3_OFF_MSIX_PBA</dfn>(s) \</u></td></tr>
<tr><th id="62">62</th><td><u>    ((s)-&gt;<a class="tu ref" href="#(anonymous)::compat_flags" title='(anonymous struct)::compat_flags' data-use='r' data-ref="(anonymous)::compat_flags">compat_flags</a> &amp; VMXNET3_COMPAT_FLAG_OLD_MSI_OFFSETS ? 0x800 : 0x1000)</u></td></tr>
<tr><th id="63">63</th><td></td></tr>
<tr><th id="64">64</th><td><i>/* Link speed in Mbps should be shifted by 16 */</i></td></tr>
<tr><th id="65">65</th><td><u>#define <dfn class="macro" id="_M/VMXNET3_LINK_SPEED" data-ref="_M/VMXNET3_LINK_SPEED">VMXNET3_LINK_SPEED</dfn>      (1000 &lt;&lt; 16)</u></td></tr>
<tr><th id="66">66</th><td></td></tr>
<tr><th id="67">67</th><td><i>/* Link status: 1 - up, 0 - down. */</i></td></tr>
<tr><th id="68">68</th><td><u>#define <dfn class="macro" id="_M/VMXNET3_LINK_STATUS_UP" data-ref="_M/VMXNET3_LINK_STATUS_UP">VMXNET3_LINK_STATUS_UP</dfn>  0x1</u></td></tr>
<tr><th id="69">69</th><td></td></tr>
<tr><th id="70">70</th><td><i>/* Least significant bit should be set for revision and version */</i></td></tr>
<tr><th id="71">71</th><td><u>#define <dfn class="macro" id="_M/VMXNET3_UPT_REVISION" data-ref="_M/VMXNET3_UPT_REVISION">VMXNET3_UPT_REVISION</dfn>      0x1</u></td></tr>
<tr><th id="72">72</th><td><u>#define <dfn class="macro" id="_M/VMXNET3_DEVICE_REVISION" data-ref="_M/VMXNET3_DEVICE_REVISION">VMXNET3_DEVICE_REVISION</dfn>   0x1</u></td></tr>
<tr><th id="73">73</th><td></td></tr>
<tr><th id="74">74</th><td><i>/* Number of interrupt vectors for non-MSIx modes */</i></td></tr>
<tr><th id="75">75</th><td><u>#define <dfn class="macro" id="_M/VMXNET3_MAX_NMSIX_INTRS" data-ref="_M/VMXNET3_MAX_NMSIX_INTRS">VMXNET3_MAX_NMSIX_INTRS</dfn>   (1)</u></td></tr>
<tr><th id="76">76</th><td></td></tr>
<tr><th id="77">77</th><td><i>/* Macros for rings descriptors access */</i></td></tr>
<tr><th id="78">78</th><td><u>#define <dfn class="macro" id="_M/VMXNET3_READ_TX_QUEUE_DESCR8" data-ref="_M/VMXNET3_READ_TX_QUEUE_DESCR8">VMXNET3_READ_TX_QUEUE_DESCR8</dfn>(_d, dpa, field) \</u></td></tr>
<tr><th id="79">79</th><td><u>    (<a class="ref" href="vmware_utils.h.html#vmw_shmem_ld8" title='vmw_shmem_ld8' data-ref="vmw_shmem_ld8">vmw_shmem_ld8</a>(_d, dpa + offsetof(struct <a class="type" href="vmxnet3.h.html#Vmxnet3_TxQueueDesc" title='Vmxnet3_TxQueueDesc' data-ref="Vmxnet3_TxQueueDesc">Vmxnet3_TxQueueDesc</a>, field)))</u></td></tr>
<tr><th id="80">80</th><td></td></tr>
<tr><th id="81">81</th><td><u>#define <dfn class="macro" id="_M/VMXNET3_WRITE_TX_QUEUE_DESCR8" data-ref="_M/VMXNET3_WRITE_TX_QUEUE_DESCR8">VMXNET3_WRITE_TX_QUEUE_DESCR8</dfn>(_d, dpa, field, value) \</u></td></tr>
<tr><th id="82">82</th><td><u>    (vmw_shmem_st8(_d, dpa + offsetof(struct Vmxnet3_TxQueueDesc, field, value)))</u></td></tr>
<tr><th id="83">83</th><td></td></tr>
<tr><th id="84">84</th><td><u>#define <dfn class="macro" id="_M/VMXNET3_READ_TX_QUEUE_DESCR32" data-ref="_M/VMXNET3_READ_TX_QUEUE_DESCR32">VMXNET3_READ_TX_QUEUE_DESCR32</dfn>(_d, dpa, field) \</u></td></tr>
<tr><th id="85">85</th><td><u>    (<a class="ref" href="vmware_utils.h.html#vmw_shmem_ld32" title='vmw_shmem_ld32' data-ref="vmw_shmem_ld32">vmw_shmem_ld32</a>(_d, dpa + offsetof(struct <a class="type" href="vmxnet3.h.html#Vmxnet3_TxQueueDesc" title='Vmxnet3_TxQueueDesc' data-ref="Vmxnet3_TxQueueDesc">Vmxnet3_TxQueueDesc</a>, field)))</u></td></tr>
<tr><th id="86">86</th><td></td></tr>
<tr><th id="87">87</th><td><u>#define <dfn class="macro" id="_M/VMXNET3_WRITE_TX_QUEUE_DESCR32" data-ref="_M/VMXNET3_WRITE_TX_QUEUE_DESCR32">VMXNET3_WRITE_TX_QUEUE_DESCR32</dfn>(_d, dpa, field, value) \</u></td></tr>
<tr><th id="88">88</th><td><u>    (<a class="ref" href="vmware_utils.h.html#vmw_shmem_st32" title='vmw_shmem_st32' data-ref="vmw_shmem_st32">vmw_shmem_st32</a>(_d, dpa + offsetof(struct <a class="type" href="vmxnet3.h.html#Vmxnet3_TxQueueDesc" title='Vmxnet3_TxQueueDesc' data-ref="Vmxnet3_TxQueueDesc">Vmxnet3_TxQueueDesc</a>, field), value))</u></td></tr>
<tr><th id="89">89</th><td></td></tr>
<tr><th id="90">90</th><td><u>#define <dfn class="macro" id="_M/VMXNET3_READ_TX_QUEUE_DESCR64" data-ref="_M/VMXNET3_READ_TX_QUEUE_DESCR64">VMXNET3_READ_TX_QUEUE_DESCR64</dfn>(_d, dpa, field) \</u></td></tr>
<tr><th id="91">91</th><td><u>    (<a class="ref" href="vmware_utils.h.html#vmw_shmem_ld64" title='vmw_shmem_ld64' data-ref="vmw_shmem_ld64">vmw_shmem_ld64</a>(_d, dpa + offsetof(struct <a class="type" href="vmxnet3.h.html#Vmxnet3_TxQueueDesc" title='Vmxnet3_TxQueueDesc' data-ref="Vmxnet3_TxQueueDesc">Vmxnet3_TxQueueDesc</a>, field)))</u></td></tr>
<tr><th id="92">92</th><td></td></tr>
<tr><th id="93">93</th><td><u>#define <dfn class="macro" id="_M/VMXNET3_WRITE_TX_QUEUE_DESCR64" data-ref="_M/VMXNET3_WRITE_TX_QUEUE_DESCR64">VMXNET3_WRITE_TX_QUEUE_DESCR64</dfn>(_d, dpa, field, value) \</u></td></tr>
<tr><th id="94">94</th><td><u>    (vmw_shmem_st64(_d, dpa + offsetof(struct Vmxnet3_TxQueueDesc, field), value))</u></td></tr>
<tr><th id="95">95</th><td></td></tr>
<tr><th id="96">96</th><td><u>#define <dfn class="macro" id="_M/VMXNET3_READ_RX_QUEUE_DESCR64" data-ref="_M/VMXNET3_READ_RX_QUEUE_DESCR64">VMXNET3_READ_RX_QUEUE_DESCR64</dfn>(_d, dpa, field) \</u></td></tr>
<tr><th id="97">97</th><td><u>    (<a class="ref" href="vmware_utils.h.html#vmw_shmem_ld64" title='vmw_shmem_ld64' data-ref="vmw_shmem_ld64">vmw_shmem_ld64</a>(_d, dpa + offsetof(struct <a class="type" href="vmxnet3.h.html#Vmxnet3_RxQueueDesc" title='Vmxnet3_RxQueueDesc' data-ref="Vmxnet3_RxQueueDesc">Vmxnet3_RxQueueDesc</a>, field)))</u></td></tr>
<tr><th id="98">98</th><td></td></tr>
<tr><th id="99">99</th><td><u>#define <dfn class="macro" id="_M/VMXNET3_READ_RX_QUEUE_DESCR32" data-ref="_M/VMXNET3_READ_RX_QUEUE_DESCR32">VMXNET3_READ_RX_QUEUE_DESCR32</dfn>(_d, dpa, field) \</u></td></tr>
<tr><th id="100">100</th><td><u>    (<a class="ref" href="vmware_utils.h.html#vmw_shmem_ld32" title='vmw_shmem_ld32' data-ref="vmw_shmem_ld32">vmw_shmem_ld32</a>(_d, dpa + offsetof(struct <a class="type" href="vmxnet3.h.html#Vmxnet3_RxQueueDesc" title='Vmxnet3_RxQueueDesc' data-ref="Vmxnet3_RxQueueDesc">Vmxnet3_RxQueueDesc</a>, field)))</u></td></tr>
<tr><th id="101">101</th><td></td></tr>
<tr><th id="102">102</th><td><u>#define <dfn class="macro" id="_M/VMXNET3_WRITE_RX_QUEUE_DESCR64" data-ref="_M/VMXNET3_WRITE_RX_QUEUE_DESCR64">VMXNET3_WRITE_RX_QUEUE_DESCR64</dfn>(_d, dpa, field, value) \</u></td></tr>
<tr><th id="103">103</th><td><u>    (vmw_shmem_st64(_d, dpa + offsetof(struct Vmxnet3_RxQueueDesc, field), value))</u></td></tr>
<tr><th id="104">104</th><td></td></tr>
<tr><th id="105">105</th><td><u>#define <dfn class="macro" id="_M/VMXNET3_WRITE_RX_QUEUE_DESCR8" data-ref="_M/VMXNET3_WRITE_RX_QUEUE_DESCR8">VMXNET3_WRITE_RX_QUEUE_DESCR8</dfn>(_d, dpa, field, value) \</u></td></tr>
<tr><th id="106">106</th><td><u>    (vmw_shmem_st8(_d, dpa + offsetof(struct Vmxnet3_RxQueueDesc, field), value))</u></td></tr>
<tr><th id="107">107</th><td></td></tr>
<tr><th id="108">108</th><td><i>/* Macros for guest driver shared area access */</i></td></tr>
<tr><th id="109">109</th><td><u>#define <dfn class="macro" id="_M/VMXNET3_READ_DRV_SHARED64" data-ref="_M/VMXNET3_READ_DRV_SHARED64">VMXNET3_READ_DRV_SHARED64</dfn>(_d, shpa, field) \</u></td></tr>
<tr><th id="110">110</th><td><u>    (<a class="ref" href="vmware_utils.h.html#vmw_shmem_ld64" title='vmw_shmem_ld64' data-ref="vmw_shmem_ld64">vmw_shmem_ld64</a>(_d, shpa + offsetof(struct <a class="type" href="vmxnet3.h.html#Vmxnet3_DriverShared" title='Vmxnet3_DriverShared' data-ref="Vmxnet3_DriverShared">Vmxnet3_DriverShared</a>, field)))</u></td></tr>
<tr><th id="111">111</th><td></td></tr>
<tr><th id="112">112</th><td><u>#define <dfn class="macro" id="_M/VMXNET3_READ_DRV_SHARED32" data-ref="_M/VMXNET3_READ_DRV_SHARED32">VMXNET3_READ_DRV_SHARED32</dfn>(_d, shpa, field) \</u></td></tr>
<tr><th id="113">113</th><td><u>    (<a class="ref" href="vmware_utils.h.html#vmw_shmem_ld32" title='vmw_shmem_ld32' data-ref="vmw_shmem_ld32">vmw_shmem_ld32</a>(_d, shpa + offsetof(struct <a class="type" href="vmxnet3.h.html#Vmxnet3_DriverShared" title='Vmxnet3_DriverShared' data-ref="Vmxnet3_DriverShared">Vmxnet3_DriverShared</a>, field)))</u></td></tr>
<tr><th id="114">114</th><td></td></tr>
<tr><th id="115">115</th><td><u>#define <dfn class="macro" id="_M/VMXNET3_WRITE_DRV_SHARED32" data-ref="_M/VMXNET3_WRITE_DRV_SHARED32">VMXNET3_WRITE_DRV_SHARED32</dfn>(_d, shpa, field, val) \</u></td></tr>
<tr><th id="116">116</th><td><u>    (<a class="ref" href="vmware_utils.h.html#vmw_shmem_st32" title='vmw_shmem_st32' data-ref="vmw_shmem_st32">vmw_shmem_st32</a>(_d, shpa + offsetof(struct <a class="type" href="vmxnet3.h.html#Vmxnet3_DriverShared" title='Vmxnet3_DriverShared' data-ref="Vmxnet3_DriverShared">Vmxnet3_DriverShared</a>, field), val))</u></td></tr>
<tr><th id="117">117</th><td></td></tr>
<tr><th id="118">118</th><td><u>#define <dfn class="macro" id="_M/VMXNET3_READ_DRV_SHARED16" data-ref="_M/VMXNET3_READ_DRV_SHARED16">VMXNET3_READ_DRV_SHARED16</dfn>(_d, shpa, field) \</u></td></tr>
<tr><th id="119">119</th><td><u>    (<a class="ref" href="vmware_utils.h.html#vmw_shmem_ld16" title='vmw_shmem_ld16' data-ref="vmw_shmem_ld16">vmw_shmem_ld16</a>(_d, shpa + offsetof(struct <a class="type" href="vmxnet3.h.html#Vmxnet3_DriverShared" title='Vmxnet3_DriverShared' data-ref="Vmxnet3_DriverShared">Vmxnet3_DriverShared</a>, field)))</u></td></tr>
<tr><th id="120">120</th><td></td></tr>
<tr><th id="121">121</th><td><u>#define <dfn class="macro" id="_M/VMXNET3_READ_DRV_SHARED8" data-ref="_M/VMXNET3_READ_DRV_SHARED8">VMXNET3_READ_DRV_SHARED8</dfn>(_d, shpa, field) \</u></td></tr>
<tr><th id="122">122</th><td><u>    (<a class="ref" href="vmware_utils.h.html#vmw_shmem_ld8" title='vmw_shmem_ld8' data-ref="vmw_shmem_ld8">vmw_shmem_ld8</a>(_d, shpa + offsetof(struct <a class="type" href="vmxnet3.h.html#Vmxnet3_DriverShared" title='Vmxnet3_DriverShared' data-ref="Vmxnet3_DriverShared">Vmxnet3_DriverShared</a>, field)))</u></td></tr>
<tr><th id="123">123</th><td></td></tr>
<tr><th id="124">124</th><td><u>#define <dfn class="macro" id="_M/VMXNET3_READ_DRV_SHARED" data-ref="_M/VMXNET3_READ_DRV_SHARED">VMXNET3_READ_DRV_SHARED</dfn>(_d, shpa, field, b, l) \</u></td></tr>
<tr><th id="125">125</th><td><u>    (<a class="ref" href="vmware_utils.h.html#vmw_shmem_read" title='vmw_shmem_read' data-ref="vmw_shmem_read">vmw_shmem_read</a>(_d, shpa + offsetof(struct <a class="type" href="vmxnet3.h.html#Vmxnet3_DriverShared" title='Vmxnet3_DriverShared' data-ref="Vmxnet3_DriverShared">Vmxnet3_DriverShared</a>, field), b, l))</u></td></tr>
<tr><th id="126">126</th><td></td></tr>
<tr><th id="127">127</th><td><u>#define <dfn class="macro" id="_M/VMXNET_FLAG_IS_SET" data-ref="_M/VMXNET_FLAG_IS_SET">VMXNET_FLAG_IS_SET</dfn>(field, flag) (((field) &amp; (flag)) == (flag))</u></td></tr>
<tr><th id="128">128</th><td></td></tr>
<tr><th id="129">129</th><td><b>typedef</b> <b>struct</b> <dfn class="type def" id="VMXNET3Class" title='VMXNET3Class' data-ref="VMXNET3Class"><a class="type" href="#VMXNET3Class" title='VMXNET3Class' data-ref="VMXNET3Class">VMXNET3Class</a></dfn> {</td></tr>
<tr><th id="130">130</th><td>    <a class="typedef" href="../../include/hw/pci/pci.h.html#PCIDeviceClass" title='PCIDeviceClass' data-type='struct PCIDeviceClass' data-ref="PCIDeviceClass">PCIDeviceClass</a> <dfn class="tu decl" id="VMXNET3Class::parent_class" title='VMXNET3Class::parent_class' data-type='PCIDeviceClass' data-ref="VMXNET3Class::parent_class">parent_class</dfn>;</td></tr>
<tr><th id="131">131</th><td>    <a class="typedef" href="../../include/hw/qdev-core.h.html#DeviceRealize" title='DeviceRealize' data-type='void (*)(DeviceState *, Error **)' data-ref="DeviceRealize">DeviceRealize</a> <dfn class="tu decl" id="VMXNET3Class::parent_dc_realize" title='VMXNET3Class::parent_dc_realize' data-type='DeviceRealize' data-ref="VMXNET3Class::parent_dc_realize">parent_dc_realize</dfn>;</td></tr>
<tr><th id="132">132</th><td>} <dfn class="typedef" id="VMXNET3Class" title='VMXNET3Class' data-type='struct VMXNET3Class' data-ref="VMXNET3Class">VMXNET3Class</dfn>;</td></tr>
<tr><th id="133">133</th><td></td></tr>
<tr><th id="134">134</th><td><u>#define <dfn class="macro" id="_M/TYPE_VMXNET3" data-ref="_M/TYPE_VMXNET3">TYPE_VMXNET3</dfn> "vmxnet3"</u></td></tr>
<tr><th id="135">135</th><td><u>#define <dfn class="macro" id="_M/VMXNET3" data-ref="_M/VMXNET3">VMXNET3</dfn>(obj) OBJECT_CHECK(<a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a>, (obj), TYPE_VMXNET3)</u></td></tr>
<tr><th id="136">136</th><td></td></tr>
<tr><th id="137">137</th><td><u>#define <dfn class="macro" id="_M/VMXNET3_DEVICE_CLASS" data-ref="_M/VMXNET3_DEVICE_CLASS">VMXNET3_DEVICE_CLASS</dfn>(klass) \</u></td></tr>
<tr><th id="138">138</th><td><u>    OBJECT_CLASS_CHECK(<a class="typedef" href="#VMXNET3Class" title='VMXNET3Class' data-type='struct VMXNET3Class' data-ref="VMXNET3Class">VMXNET3Class</a>, (klass), TYPE_VMXNET3)</u></td></tr>
<tr><th id="139">139</th><td><u>#define <dfn class="macro" id="_M/VMXNET3_DEVICE_GET_CLASS" data-ref="_M/VMXNET3_DEVICE_GET_CLASS">VMXNET3_DEVICE_GET_CLASS</dfn>(obj) \</u></td></tr>
<tr><th id="140">140</th><td><u>    OBJECT_GET_CLASS(<a class="typedef" href="#VMXNET3Class" title='VMXNET3Class' data-type='struct VMXNET3Class' data-ref="VMXNET3Class">VMXNET3Class</a>, (obj), TYPE_VMXNET3)</u></td></tr>
<tr><th id="141">141</th><td></td></tr>
<tr><th id="142">142</th><td><i>/* Cyclic ring abstraction */</i></td></tr>
<tr><th id="143">143</th><td><b>typedef</b> <b>struct</b> {</td></tr>
<tr><th id="144">144</th><td>    <a class="typedef" href="../../include/exec/hwaddr.h.html#hwaddr" title='hwaddr' data-type='uint64_t' data-ref="hwaddr">hwaddr</a> <dfn class="tu decl" id="(anonymous)::pa" title='(anonymous struct)::pa' data-type='hwaddr' data-ref="(anonymous)::pa">pa</dfn>;</td></tr>
<tr><th id="145">145</th><td>    <a class="typedef" href="../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> <dfn class="tu decl" id="(anonymous)::size" title='(anonymous struct)::size' data-type='uint32_t' data-ref="(anonymous)::size">size</dfn>;</td></tr>
<tr><th id="146">146</th><td>    <a class="typedef" href="../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> <dfn class="tu decl" id="(anonymous)::cell_size" title='(anonymous struct)::cell_size' data-type='uint32_t' data-ref="(anonymous)::cell_size">cell_size</dfn>;</td></tr>
<tr><th id="147">147</th><td>    <a class="typedef" href="../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> <dfn class="tu decl" id="(anonymous)::next" title='(anonymous struct)::next' data-type='uint32_t' data-ref="(anonymous)::next">next</dfn>;</td></tr>
<tr><th id="148">148</th><td>    <a class="typedef" href="../../../include/stdint.h.html#uint8_t" title='uint8_t' data-type='unsigned char' data-ref="uint8_t">uint8_t</a> <dfn class="tu decl" id="(anonymous)::gen" title='(anonymous struct)::gen' data-type='uint8_t' data-ref="(anonymous)::gen">gen</dfn>;</td></tr>
<tr><th id="149">149</th><td>} <dfn class="typedef" id="Vmxnet3Ring" title='Vmxnet3Ring' data-type='struct Vmxnet3Ring' data-ref="Vmxnet3Ring">Vmxnet3Ring</dfn>;</td></tr>
<tr><th id="150">150</th><td></td></tr>
<tr><th id="151">151</th><td><em>static</em> <b>inline</b> <em>void</em> <dfn class="tu decl def" id="vmxnet3_ring_init" title='vmxnet3_ring_init' data-type='void vmxnet3_ring_init(PCIDevice * d, Vmxnet3Ring * ring, hwaddr pa, uint32_t size, uint32_t cell_size, _Bool zero_region)' data-ref="vmxnet3_ring_init">vmxnet3_ring_init</dfn>(<a class="typedef" href="../../include/qemu/typedefs.h.html#PCIDevice" title='PCIDevice' data-type='struct PCIDevice' data-ref="PCIDevice">PCIDevice</a> *<dfn class="local col0 decl" id="70d" title='d' data-type='PCIDevice *' data-ref="70d">d</dfn>,</td></tr>
<tr><th id="152">152</th><td>				     <a class="typedef" href="#Vmxnet3Ring" title='Vmxnet3Ring' data-type='struct Vmxnet3Ring' data-ref="Vmxnet3Ring">Vmxnet3Ring</a> *<dfn class="local col1 decl" id="71ring" title='ring' data-type='Vmxnet3Ring *' data-ref="71ring">ring</dfn>,</td></tr>
<tr><th id="153">153</th><td>                                     <a class="typedef" href="../../include/exec/hwaddr.h.html#hwaddr" title='hwaddr' data-type='uint64_t' data-ref="hwaddr">hwaddr</a> <dfn class="local col2 decl" id="72pa" title='pa' data-type='hwaddr' data-ref="72pa">pa</dfn>,</td></tr>
<tr><th id="154">154</th><td>                                     <a class="typedef" href="../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> <dfn class="local col3 decl" id="73size" title='size' data-type='uint32_t' data-ref="73size">size</dfn>,</td></tr>
<tr><th id="155">155</th><td>                                     <a class="typedef" href="../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> <dfn class="local col4 decl" id="74cell_size" title='cell_size' data-type='uint32_t' data-ref="74cell_size">cell_size</dfn>,</td></tr>
<tr><th id="156">156</th><td>                                     <span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="local col5 decl" id="75zero_region" title='zero_region' data-type='_Bool' data-ref="75zero_region">zero_region</dfn>)</td></tr>
<tr><th id="157">157</th><td>{</td></tr>
<tr><th id="158">158</th><td>    <a class="local col1 ref" href="#71ring" title='ring' data-ref="71ring">ring</a>-&gt;<a class="tu ref" href="#(anonymous)::pa" title='(anonymous struct)::pa' data-use='w' data-ref="(anonymous)::pa">pa</a> = <a class="local col2 ref" href="#72pa" title='pa' data-ref="72pa">pa</a>;</td></tr>
<tr><th id="159">159</th><td>    <a class="local col1 ref" href="#71ring" title='ring' data-ref="71ring">ring</a>-&gt;<a class="tu ref" href="#(anonymous)::size" title='(anonymous struct)::size' data-use='w' data-ref="(anonymous)::size">size</a> = <a class="local col3 ref" href="#73size" title='size' data-ref="73size">size</a>;</td></tr>
<tr><th id="160">160</th><td>    <a class="local col1 ref" href="#71ring" title='ring' data-ref="71ring">ring</a>-&gt;<a class="tu ref" href="#(anonymous)::cell_size" title='(anonymous struct)::cell_size' data-use='w' data-ref="(anonymous)::cell_size">cell_size</a> = <a class="local col4 ref" href="#74cell_size" title='cell_size' data-ref="74cell_size">cell_size</a>;</td></tr>
<tr><th id="161">161</th><td>    <a class="local col1 ref" href="#71ring" title='ring' data-ref="71ring">ring</a>-&gt;<a class="tu ref" href="#(anonymous)::gen" title='(anonymous struct)::gen' data-use='w' data-ref="(anonymous)::gen">gen</a> = <a class="macro" href="vmxnet3.h.html#430" title="1" data-ref="_M/VMXNET3_INIT_GEN">VMXNET3_INIT_GEN</a>;</td></tr>
<tr><th id="162">162</th><td>    <a class="local col1 ref" href="#71ring" title='ring' data-ref="71ring">ring</a>-&gt;<a class="tu ref" href="#(anonymous)::next" title='(anonymous struct)::next' data-use='w' data-ref="(anonymous)::next">next</a> = <var>0</var>;</td></tr>
<tr><th id="163">163</th><td></td></tr>
<tr><th id="164">164</th><td>    <b>if</b> (<a class="local col5 ref" href="#75zero_region" title='zero_region' data-ref="75zero_region">zero_region</a>) {</td></tr>
<tr><th id="165">165</th><td>        <a class="ref" href="vmware_utils.h.html#vmw_shmem_set" title='vmw_shmem_set' data-ref="vmw_shmem_set">vmw_shmem_set</a>(<a class="local col0 ref" href="#70d" title='d' data-ref="70d">d</a>, <a class="local col2 ref" href="#72pa" title='pa' data-ref="72pa">pa</a>, <var>0</var>, <a class="local col3 ref" href="#73size" title='size' data-ref="73size">size</a> * <a class="local col4 ref" href="#74cell_size" title='cell_size' data-ref="74cell_size">cell_size</a>);</td></tr>
<tr><th id="166">166</th><td>    }</td></tr>
<tr><th id="167">167</th><td>}</td></tr>
<tr><th id="168">168</th><td></td></tr>
<tr><th id="169">169</th><td><u>#define <dfn class="macro" id="_M/VMXNET3_RING_DUMP" data-ref="_M/VMXNET3_RING_DUMP">VMXNET3_RING_DUMP</dfn>(macro, ring_name, ridx, r)                         \</u></td></tr>
<tr><th id="170">170</th><td><u>    macro("%s#%d: base %" PRIx64 " size %u cell_size %u gen %d next %u",  \</u></td></tr>
<tr><th id="171">171</th><td><u>          (ring_name), (ridx),                                               \</u></td></tr>
<tr><th id="172">172</th><td><u>          (r)-&gt;<a class="tu ref" href="#(anonymous)::pa" title='(anonymous struct)::pa' data-use='r' data-ref="(anonymous)::pa">pa</a>, (r)-&gt;<a class="tu ref" href="#(anonymous)::size" title='(anonymous struct)::size' data-use='r' data-ref="(anonymous)::size">size</a>, (r)-&gt;<a class="tu ref" href="#(anonymous)::cell_size" title='(anonymous struct)::cell_size' data-use='r' data-ref="(anonymous)::cell_size">cell_size</a>, (r)-&gt;<a class="tu ref" href="#(anonymous)::gen" title='(anonymous struct)::gen' data-use='r' data-ref="(anonymous)::gen">gen</a>, (r)-&gt;<a class="tu ref" href="#(anonymous)::next" title='(anonymous struct)::next' data-use='r' data-ref="(anonymous)::next">next</a>)</u></td></tr>
<tr><th id="173">173</th><td></td></tr>
<tr><th id="174">174</th><td><em>static</em> <b>inline</b> <em>void</em> <dfn class="tu decl def" id="vmxnet3_ring_inc" title='vmxnet3_ring_inc' data-type='void vmxnet3_ring_inc(Vmxnet3Ring * ring)' data-ref="vmxnet3_ring_inc">vmxnet3_ring_inc</dfn>(<a class="typedef" href="#Vmxnet3Ring" title='Vmxnet3Ring' data-type='struct Vmxnet3Ring' data-ref="Vmxnet3Ring">Vmxnet3Ring</a> *<dfn class="local col6 decl" id="76ring" title='ring' data-type='Vmxnet3Ring *' data-ref="76ring">ring</dfn>)</td></tr>
<tr><th id="175">175</th><td>{</td></tr>
<tr><th id="176">176</th><td>    <b>if</b> (++<a class="local col6 ref" href="#76ring" title='ring' data-ref="76ring">ring</a>-&gt;<a class="tu ref" href="#(anonymous)::next" title='(anonymous struct)::next' data-use='w' data-ref="(anonymous)::next">next</a> &gt;= <a class="local col6 ref" href="#76ring" title='ring' data-ref="76ring">ring</a>-&gt;<a class="tu ref" href="#(anonymous)::size" title='(anonymous struct)::size' data-use='r' data-ref="(anonymous)::size">size</a>) {</td></tr>
<tr><th id="177">177</th><td>        <a class="local col6 ref" href="#76ring" title='ring' data-ref="76ring">ring</a>-&gt;<a class="tu ref" href="#(anonymous)::next" title='(anonymous struct)::next' data-use='w' data-ref="(anonymous)::next">next</a> = <var>0</var>;</td></tr>
<tr><th id="178">178</th><td>        <a class="local col6 ref" href="#76ring" title='ring' data-ref="76ring">ring</a>-&gt;<a class="tu ref" href="#(anonymous)::gen" title='(anonymous struct)::gen' data-use='w' data-ref="(anonymous)::gen">gen</a> ^= <var>1</var>;</td></tr>
<tr><th id="179">179</th><td>    }</td></tr>
<tr><th id="180">180</th><td>}</td></tr>
<tr><th id="181">181</th><td></td></tr>
<tr><th id="182">182</th><td><em>static</em> <b>inline</b> <em>void</em> <dfn class="tu decl def" id="vmxnet3_ring_dec" title='vmxnet3_ring_dec' data-type='void vmxnet3_ring_dec(Vmxnet3Ring * ring)' data-ref="vmxnet3_ring_dec">vmxnet3_ring_dec</dfn>(<a class="typedef" href="#Vmxnet3Ring" title='Vmxnet3Ring' data-type='struct Vmxnet3Ring' data-ref="Vmxnet3Ring">Vmxnet3Ring</a> *<dfn class="local col7 decl" id="77ring" title='ring' data-type='Vmxnet3Ring *' data-ref="77ring">ring</dfn>)</td></tr>
<tr><th id="183">183</th><td>{</td></tr>
<tr><th id="184">184</th><td>    <b>if</b> (<a class="local col7 ref" href="#77ring" title='ring' data-ref="77ring">ring</a>-&gt;<a class="tu ref" href="#(anonymous)::next" title='(anonymous struct)::next' data-use='w' data-ref="(anonymous)::next">next</a>-- == <var>0</var>) {</td></tr>
<tr><th id="185">185</th><td>        <a class="local col7 ref" href="#77ring" title='ring' data-ref="77ring">ring</a>-&gt;<a class="tu ref" href="#(anonymous)::next" title='(anonymous struct)::next' data-use='w' data-ref="(anonymous)::next">next</a> = <a class="local col7 ref" href="#77ring" title='ring' data-ref="77ring">ring</a>-&gt;<a class="tu ref" href="#(anonymous)::size" title='(anonymous struct)::size' data-use='r' data-ref="(anonymous)::size">size</a> - <var>1</var>;</td></tr>
<tr><th id="186">186</th><td>        <a class="local col7 ref" href="#77ring" title='ring' data-ref="77ring">ring</a>-&gt;<a class="tu ref" href="#(anonymous)::gen" title='(anonymous struct)::gen' data-use='w' data-ref="(anonymous)::gen">gen</a> ^= <var>1</var>;</td></tr>
<tr><th id="187">187</th><td>    }</td></tr>
<tr><th id="188">188</th><td>}</td></tr>
<tr><th id="189">189</th><td></td></tr>
<tr><th id="190">190</th><td><em>static</em> <b>inline</b> <a class="typedef" href="../../include/exec/hwaddr.h.html#hwaddr" title='hwaddr' data-type='uint64_t' data-ref="hwaddr">hwaddr</a> <dfn class="tu decl def" id="vmxnet3_ring_curr_cell_pa" title='vmxnet3_ring_curr_cell_pa' data-type='hwaddr vmxnet3_ring_curr_cell_pa(Vmxnet3Ring * ring)' data-ref="vmxnet3_ring_curr_cell_pa">vmxnet3_ring_curr_cell_pa</dfn>(<a class="typedef" href="#Vmxnet3Ring" title='Vmxnet3Ring' data-type='struct Vmxnet3Ring' data-ref="Vmxnet3Ring">Vmxnet3Ring</a> *<dfn class="local col8 decl" id="78ring" title='ring' data-type='Vmxnet3Ring *' data-ref="78ring">ring</dfn>)</td></tr>
<tr><th id="191">191</th><td>{</td></tr>
<tr><th id="192">192</th><td>    <b>return</b> <a class="local col8 ref" href="#78ring" title='ring' data-ref="78ring">ring</a>-&gt;<a class="tu ref" href="#(anonymous)::pa" title='(anonymous struct)::pa' data-use='r' data-ref="(anonymous)::pa">pa</a> + <a class="local col8 ref" href="#78ring" title='ring' data-ref="78ring">ring</a>-&gt;<a class="tu ref" href="#(anonymous)::next" title='(anonymous struct)::next' data-use='r' data-ref="(anonymous)::next">next</a> * <a class="local col8 ref" href="#78ring" title='ring' data-ref="78ring">ring</a>-&gt;<a class="tu ref" href="#(anonymous)::cell_size" title='(anonymous struct)::cell_size' data-use='r' data-ref="(anonymous)::cell_size">cell_size</a>;</td></tr>
<tr><th id="193">193</th><td>}</td></tr>
<tr><th id="194">194</th><td></td></tr>
<tr><th id="195">195</th><td><em>static</em> <b>inline</b> <em>void</em> <dfn class="tu decl def" id="vmxnet3_ring_read_curr_cell" title='vmxnet3_ring_read_curr_cell' data-type='void vmxnet3_ring_read_curr_cell(PCIDevice * d, Vmxnet3Ring * ring, void * buff)' data-ref="vmxnet3_ring_read_curr_cell">vmxnet3_ring_read_curr_cell</dfn>(<a class="typedef" href="../../include/qemu/typedefs.h.html#PCIDevice" title='PCIDevice' data-type='struct PCIDevice' data-ref="PCIDevice">PCIDevice</a> *<dfn class="local col9 decl" id="79d" title='d' data-type='PCIDevice *' data-ref="79d">d</dfn>, <a class="typedef" href="#Vmxnet3Ring" title='Vmxnet3Ring' data-type='struct Vmxnet3Ring' data-ref="Vmxnet3Ring">Vmxnet3Ring</a> *<dfn class="local col0 decl" id="80ring" title='ring' data-type='Vmxnet3Ring *' data-ref="80ring">ring</dfn>,</td></tr>
<tr><th id="196">196</th><td>					       <em>void</em> *<dfn class="local col1 decl" id="81buff" title='buff' data-type='void *' data-ref="81buff">buff</dfn>)</td></tr>
<tr><th id="197">197</th><td>{</td></tr>
<tr><th id="198">198</th><td>    <a class="ref" href="vmware_utils.h.html#vmw_shmem_read" title='vmw_shmem_read' data-ref="vmw_shmem_read">vmw_shmem_read</a>(<a class="local col9 ref" href="#79d" title='d' data-ref="79d">d</a>, <a class="tu ref" href="#vmxnet3_ring_curr_cell_pa" title='vmxnet3_ring_curr_cell_pa' data-use='c' data-ref="vmxnet3_ring_curr_cell_pa">vmxnet3_ring_curr_cell_pa</a>(<a class="local col0 ref" href="#80ring" title='ring' data-ref="80ring">ring</a>), <a class="local col1 ref" href="#81buff" title='buff' data-ref="81buff">buff</a>, <a class="local col0 ref" href="#80ring" title='ring' data-ref="80ring">ring</a>-&gt;<a class="tu ref" href="#(anonymous)::cell_size" title='(anonymous struct)::cell_size' data-use='r' data-ref="(anonymous)::cell_size">cell_size</a>);</td></tr>
<tr><th id="199">199</th><td>}</td></tr>
<tr><th id="200">200</th><td></td></tr>
<tr><th id="201">201</th><td><em>static</em> <b>inline</b> <em>void</em> <dfn class="tu decl def" id="vmxnet3_ring_write_curr_cell" title='vmxnet3_ring_write_curr_cell' data-type='void vmxnet3_ring_write_curr_cell(PCIDevice * d, Vmxnet3Ring * ring, void * buff)' data-ref="vmxnet3_ring_write_curr_cell">vmxnet3_ring_write_curr_cell</dfn>(<a class="typedef" href="../../include/qemu/typedefs.h.html#PCIDevice" title='PCIDevice' data-type='struct PCIDevice' data-ref="PCIDevice">PCIDevice</a> *<dfn class="local col2 decl" id="82d" title='d' data-type='PCIDevice *' data-ref="82d">d</dfn>, <a class="typedef" href="#Vmxnet3Ring" title='Vmxnet3Ring' data-type='struct Vmxnet3Ring' data-ref="Vmxnet3Ring">Vmxnet3Ring</a> *<dfn class="local col3 decl" id="83ring" title='ring' data-type='Vmxnet3Ring *' data-ref="83ring">ring</dfn>,</td></tr>
<tr><th id="202">202</th><td>						<em>void</em> *<dfn class="local col4 decl" id="84buff" title='buff' data-type='void *' data-ref="84buff">buff</dfn>)</td></tr>
<tr><th id="203">203</th><td>{</td></tr>
<tr><th id="204">204</th><td>    <a class="ref" href="vmware_utils.h.html#vmw_shmem_write" title='vmw_shmem_write' data-ref="vmw_shmem_write">vmw_shmem_write</a>(<a class="local col2 ref" href="#82d" title='d' data-ref="82d">d</a>, <a class="tu ref" href="#vmxnet3_ring_curr_cell_pa" title='vmxnet3_ring_curr_cell_pa' data-use='c' data-ref="vmxnet3_ring_curr_cell_pa">vmxnet3_ring_curr_cell_pa</a>(<a class="local col3 ref" href="#83ring" title='ring' data-ref="83ring">ring</a>), <a class="local col4 ref" href="#84buff" title='buff' data-ref="84buff">buff</a>, <a class="local col3 ref" href="#83ring" title='ring' data-ref="83ring">ring</a>-&gt;<a class="tu ref" href="#(anonymous)::cell_size" title='(anonymous struct)::cell_size' data-use='r' data-ref="(anonymous)::cell_size">cell_size</a>);</td></tr>
<tr><th id="205">205</th><td>}</td></tr>
<tr><th id="206">206</th><td></td></tr>
<tr><th id="207">207</th><td><em>static</em> <b>inline</b> <span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t">size_t</span> <dfn class="tu decl def" id="vmxnet3_ring_curr_cell_idx" title='vmxnet3_ring_curr_cell_idx' data-type='size_t vmxnet3_ring_curr_cell_idx(Vmxnet3Ring * ring)' data-ref="vmxnet3_ring_curr_cell_idx">vmxnet3_ring_curr_cell_idx</dfn>(<a class="typedef" href="#Vmxnet3Ring" title='Vmxnet3Ring' data-type='struct Vmxnet3Ring' data-ref="Vmxnet3Ring">Vmxnet3Ring</a> *<dfn class="local col5 decl" id="85ring" title='ring' data-type='Vmxnet3Ring *' data-ref="85ring">ring</dfn>)</td></tr>
<tr><th id="208">208</th><td>{</td></tr>
<tr><th id="209">209</th><td>    <b>return</b> <a class="local col5 ref" href="#85ring" title='ring' data-ref="85ring">ring</a>-&gt;<a class="tu ref" href="#(anonymous)::next" title='(anonymous struct)::next' data-use='r' data-ref="(anonymous)::next">next</a>;</td></tr>
<tr><th id="210">210</th><td>}</td></tr>
<tr><th id="211">211</th><td></td></tr>
<tr><th id="212">212</th><td><em>static</em> <b>inline</b> <a class="typedef" href="../../../include/stdint.h.html#uint8_t" title='uint8_t' data-type='unsigned char' data-ref="uint8_t">uint8_t</a> <dfn class="tu decl def" id="vmxnet3_ring_curr_gen" title='vmxnet3_ring_curr_gen' data-type='uint8_t vmxnet3_ring_curr_gen(Vmxnet3Ring * ring)' data-ref="vmxnet3_ring_curr_gen">vmxnet3_ring_curr_gen</dfn>(<a class="typedef" href="#Vmxnet3Ring" title='Vmxnet3Ring' data-type='struct Vmxnet3Ring' data-ref="Vmxnet3Ring">Vmxnet3Ring</a> *<dfn class="local col6 decl" id="86ring" title='ring' data-type='Vmxnet3Ring *' data-ref="86ring">ring</dfn>)</td></tr>
<tr><th id="213">213</th><td>{</td></tr>
<tr><th id="214">214</th><td>    <b>return</b> <a class="local col6 ref" href="#86ring" title='ring' data-ref="86ring">ring</a>-&gt;<a class="tu ref" href="#(anonymous)::gen" title='(anonymous struct)::gen' data-use='r' data-ref="(anonymous)::gen">gen</a>;</td></tr>
<tr><th id="215">215</th><td>}</td></tr>
<tr><th id="216">216</th><td></td></tr>
<tr><th id="217">217</th><td><i  data-doc="vmxnet3_dump_tx_descr">/* Debug trace-related functions */</i></td></tr>
<tr><th id="218">218</th><td><em>static</em> <b>inline</b> <em>void</em></td></tr>
<tr><th id="219">219</th><td><dfn class="tu decl def" id="vmxnet3_dump_tx_descr" title='vmxnet3_dump_tx_descr' data-type='void vmxnet3_dump_tx_descr(struct Vmxnet3_TxDesc * descr)' data-ref="vmxnet3_dump_tx_descr">vmxnet3_dump_tx_descr</dfn>(<b>struct</b> <a class="type" href="vmxnet3.h.html#Vmxnet3_TxDesc" title='Vmxnet3_TxDesc' data-ref="Vmxnet3_TxDesc">Vmxnet3_TxDesc</a> *<dfn class="local col7 decl" id="87descr" title='descr' data-type='struct Vmxnet3_TxDesc *' data-ref="87descr">descr</dfn>)</td></tr>
<tr><th id="220">220</th><td>{</td></tr>
<tr><th id="221">221</th><td>    <a class="macro" href="vmxnet_debug.h.html#97" title="do { if (0) { printf(&quot;[%s][PK][%s]: &quot; &quot;TX DESCR: &quot; &quot;addr %&quot; &quot;l&quot; &quot;x&quot; &quot;, len: %d, gen: %d, rsvd: %d, &quot; &quot;dtype: %d, ext1: %d, msscof: %d, hlen: %d, om: %d, &quot; &quot;eop: %d, cq: %d, ext2: %d, ti: %d, tci: %d&quot; &quot;\n&quot;, &quot;vmxnet3&quot;, __func__, le64_to_cpu(descr-&gt;addr), descr-&gt;len, descr-&gt;gen, descr-&gt;rsvd, descr-&gt;dtype, descr-&gt;ext1, descr-&gt;msscof, descr-&gt;hlen, descr-&gt;om, descr-&gt;eop, descr-&gt;cq, descr-&gt;ext2, descr-&gt;ti, descr-&gt;tci); } } while (0)" data-ref="_M/VMW_PKPRN">VMW_PKPRN</a>(<q>"TX DESCR: "</q></td></tr>
<tr><th id="222">222</th><td>              <q>"addr %"</q> <a class="macro" href="../../../include/inttypes.h.html#121" title="&quot;l&quot; &quot;x&quot;" data-ref="_M/PRIx64">PRIx64</a> <q>", len: %d, gen: %d, rsvd: %d, "</q></td></tr>
<tr><th id="223">223</th><td>              <q>"dtype: %d, ext1: %d, msscof: %d, hlen: %d, om: %d, "</q></td></tr>
<tr><th id="224">224</th><td>              <q>"eop: %d, cq: %d, ext2: %d, ti: %d, tci: %d"</q>,</td></tr>
<tr><th id="225">225</th><td>              <a class="ref" href="../../include/qemu/bswap.h.html#168" title='le64_to_cpu' data-ref="le64_to_cpu">le64_to_cpu</a>(<a class="local col7 ref" href="#87descr" title='descr' data-ref="87descr">descr</a>-&gt;<a class="ref" href="vmxnet3.h.html#Vmxnet3_TxDesc::addr" title='Vmxnet3_TxDesc::addr' data-ref="Vmxnet3_TxDesc::addr">addr</a>), <a class="local col7 ref" href="#87descr" title='descr' data-ref="87descr">descr</a>-&gt;<a class="ref" href="vmxnet3.h.html#Vmxnet3_TxDesc::len" title='Vmxnet3_TxDesc::len' data-ref="Vmxnet3_TxDesc::len">len</a>, <a class="local col7 ref" href="#87descr" title='descr' data-ref="87descr">descr</a>-&gt;<a class="ref" href="vmxnet3.h.html#Vmxnet3_TxDesc::gen" title='Vmxnet3_TxDesc::gen' data-ref="Vmxnet3_TxDesc::gen">gen</a>, <a class="local col7 ref" href="#87descr" title='descr' data-ref="87descr">descr</a>-&gt;<a class="ref" href="vmxnet3.h.html#Vmxnet3_TxDesc::rsvd" title='Vmxnet3_TxDesc::rsvd' data-ref="Vmxnet3_TxDesc::rsvd">rsvd</a>,</td></tr>
<tr><th id="226">226</th><td>              <a class="local col7 ref" href="#87descr" title='descr' data-ref="87descr">descr</a>-&gt;<a class="ref" href="vmxnet3.h.html#Vmxnet3_TxDesc::dtype" title='Vmxnet3_TxDesc::dtype' data-ref="Vmxnet3_TxDesc::dtype">dtype</a>, <a class="local col7 ref" href="#87descr" title='descr' data-ref="87descr">descr</a>-&gt;<a class="ref" href="vmxnet3.h.html#Vmxnet3_TxDesc::ext1" title='Vmxnet3_TxDesc::ext1' data-ref="Vmxnet3_TxDesc::ext1">ext1</a>, <a class="local col7 ref" href="#87descr" title='descr' data-ref="87descr">descr</a>-&gt;<a class="ref" href="vmxnet3.h.html#Vmxnet3_TxDesc::msscof" title='Vmxnet3_TxDesc::msscof' data-ref="Vmxnet3_TxDesc::msscof">msscof</a>, <a class="local col7 ref" href="#87descr" title='descr' data-ref="87descr">descr</a>-&gt;<a class="ref" href="vmxnet3.h.html#Vmxnet3_TxDesc::hlen" title='Vmxnet3_TxDesc::hlen' data-ref="Vmxnet3_TxDesc::hlen">hlen</a>, <a class="local col7 ref" href="#87descr" title='descr' data-ref="87descr">descr</a>-&gt;<a class="ref" href="vmxnet3.h.html#Vmxnet3_TxDesc::om" title='Vmxnet3_TxDesc::om' data-ref="Vmxnet3_TxDesc::om">om</a>,</td></tr>
<tr><th id="227">227</th><td>              <a class="local col7 ref" href="#87descr" title='descr' data-ref="87descr">descr</a>-&gt;<a class="ref" href="vmxnet3.h.html#Vmxnet3_TxDesc::eop" title='Vmxnet3_TxDesc::eop' data-ref="Vmxnet3_TxDesc::eop">eop</a>, <a class="local col7 ref" href="#87descr" title='descr' data-ref="87descr">descr</a>-&gt;<a class="ref" href="vmxnet3.h.html#Vmxnet3_TxDesc::cq" title='Vmxnet3_TxDesc::cq' data-ref="Vmxnet3_TxDesc::cq">cq</a>, <a class="local col7 ref" href="#87descr" title='descr' data-ref="87descr">descr</a>-&gt;<a class="ref" href="vmxnet3.h.html#Vmxnet3_TxDesc::ext2" title='Vmxnet3_TxDesc::ext2' data-ref="Vmxnet3_TxDesc::ext2">ext2</a>, <a class="local col7 ref" href="#87descr" title='descr' data-ref="87descr">descr</a>-&gt;<a class="ref" href="vmxnet3.h.html#Vmxnet3_TxDesc::ti" title='Vmxnet3_TxDesc::ti' data-ref="Vmxnet3_TxDesc::ti">ti</a>, <a class="local col7 ref" href="#87descr" title='descr' data-ref="87descr">descr</a>-&gt;<a class="ref" href="vmxnet3.h.html#Vmxnet3_TxDesc::tci" title='Vmxnet3_TxDesc::tci' data-ref="Vmxnet3_TxDesc::tci">tci</a>);</td></tr>
<tr><th id="228">228</th><td>}</td></tr>
<tr><th id="229">229</th><td></td></tr>
<tr><th id="230">230</th><td><em>static</em> <b>inline</b> <em>void</em></td></tr>
<tr><th id="231">231</th><td><dfn class="tu decl def" id="vmxnet3_dump_virt_hdr" title='vmxnet3_dump_virt_hdr' data-type='void vmxnet3_dump_virt_hdr(struct virtio_net_hdr * vhdr)' data-ref="vmxnet3_dump_virt_hdr">vmxnet3_dump_virt_hdr</dfn>(<b>struct</b> <a class="type" href="../../include/standard-headers/linux/virtio_net.h.html#virtio_net_hdr" title='virtio_net_hdr' data-ref="virtio_net_hdr">virtio_net_hdr</a> *<dfn class="local col8 decl" id="88vhdr" title='vhdr' data-type='struct virtio_net_hdr *' data-ref="88vhdr">vhdr</dfn>)</td></tr>
<tr><th id="232">232</th><td>{</td></tr>
<tr><th id="233">233</th><td>    <a class="macro" href="vmxnet_debug.h.html#97" title="do { if (0) { printf(&quot;[%s][PK][%s]: &quot; &quot;VHDR: flags 0x%x, gso_type: 0x%x, hdr_len: %d, gso_size: %d, &quot; &quot;csum_start: %d, csum_offset: %d&quot; &quot;\n&quot;, &quot;vmxnet3&quot;, __func__, vhdr-&gt;flags, vhdr-&gt;gso_type, vhdr-&gt;hdr_len, vhdr-&gt;gso_size, vhdr-&gt;csum_start, vhdr-&gt;csum_offset); } } while (0)" data-ref="_M/VMW_PKPRN">VMW_PKPRN</a>(<q>"VHDR: flags 0x%x, gso_type: 0x%x, hdr_len: %d, gso_size: %d, "</q></td></tr>
<tr><th id="234">234</th><td>              <q>"csum_start: %d, csum_offset: %d"</q>,</td></tr>
<tr><th id="235">235</th><td>              <a class="local col8 ref" href="#88vhdr" title='vhdr' data-ref="88vhdr">vhdr</a>-&gt;<a class="ref" href="../../include/standard-headers/linux/virtio_net.h.html#virtio_net_hdr::flags" title='virtio_net_hdr::flags' data-ref="virtio_net_hdr::flags">flags</a>, <a class="local col8 ref" href="#88vhdr" title='vhdr' data-ref="88vhdr">vhdr</a>-&gt;<a class="ref" href="../../include/standard-headers/linux/virtio_net.h.html#virtio_net_hdr::gso_type" title='virtio_net_hdr::gso_type' data-ref="virtio_net_hdr::gso_type">gso_type</a>, <a class="local col8 ref" href="#88vhdr" title='vhdr' data-ref="88vhdr">vhdr</a>-&gt;<a class="ref" href="../../include/standard-headers/linux/virtio_net.h.html#virtio_net_hdr::hdr_len" title='virtio_net_hdr::hdr_len' data-ref="virtio_net_hdr::hdr_len">hdr_len</a>, <a class="local col8 ref" href="#88vhdr" title='vhdr' data-ref="88vhdr">vhdr</a>-&gt;<a class="ref" href="../../include/standard-headers/linux/virtio_net.h.html#virtio_net_hdr::gso_size" title='virtio_net_hdr::gso_size' data-ref="virtio_net_hdr::gso_size">gso_size</a>,</td></tr>
<tr><th id="236">236</th><td>              <a class="local col8 ref" href="#88vhdr" title='vhdr' data-ref="88vhdr">vhdr</a>-&gt;<a class="ref" href="../../include/standard-headers/linux/virtio_net.h.html#virtio_net_hdr::csum_start" title='virtio_net_hdr::csum_start' data-ref="virtio_net_hdr::csum_start">csum_start</a>, <a class="local col8 ref" href="#88vhdr" title='vhdr' data-ref="88vhdr">vhdr</a>-&gt;<a class="ref" href="../../include/standard-headers/linux/virtio_net.h.html#virtio_net_hdr::csum_offset" title='virtio_net_hdr::csum_offset' data-ref="virtio_net_hdr::csum_offset">csum_offset</a>);</td></tr>
<tr><th id="237">237</th><td>}</td></tr>
<tr><th id="238">238</th><td></td></tr>
<tr><th id="239">239</th><td><em>static</em> <b>inline</b> <em>void</em></td></tr>
<tr><th id="240">240</th><td><dfn class="tu decl def" id="vmxnet3_dump_rx_descr" title='vmxnet3_dump_rx_descr' data-type='void vmxnet3_dump_rx_descr(struct Vmxnet3_RxDesc * descr)' data-ref="vmxnet3_dump_rx_descr">vmxnet3_dump_rx_descr</dfn>(<b>struct</b> <a class="type" href="vmxnet3.h.html#Vmxnet3_RxDesc" title='Vmxnet3_RxDesc' data-ref="Vmxnet3_RxDesc">Vmxnet3_RxDesc</a> *<dfn class="local col9 decl" id="89descr" title='descr' data-type='struct Vmxnet3_RxDesc *' data-ref="89descr">descr</dfn>)</td></tr>
<tr><th id="241">241</th><td>{</td></tr>
<tr><th id="242">242</th><td>    <a class="macro" href="vmxnet_debug.h.html#97" title="do { if (0) { printf(&quot;[%s][PK][%s]: &quot; &quot;RX DESCR: addr %&quot; &quot;l&quot; &quot;x&quot; &quot;, len: %d, gen: %d, rsvd: %d, &quot; &quot;dtype: %d, ext1: %d, btype: %d&quot; &quot;\n&quot;, &quot;vmxnet3&quot;, __func__, le64_to_cpu(descr-&gt;addr), descr-&gt;len, descr-&gt;gen, descr-&gt;rsvd, descr-&gt;dtype, descr-&gt;ext1, descr-&gt;btype); } } while (0)" data-ref="_M/VMW_PKPRN">VMW_PKPRN</a>(<q>"RX DESCR: addr %"</q> <a class="macro" href="../../../include/inttypes.h.html#121" title="&quot;l&quot; &quot;x&quot;" data-ref="_M/PRIx64">PRIx64</a> <q>", len: %d, gen: %d, rsvd: %d, "</q></td></tr>
<tr><th id="243">243</th><td>              <q>"dtype: %d, ext1: %d, btype: %d"</q>,</td></tr>
<tr><th id="244">244</th><td>              <a class="ref" href="../../include/qemu/bswap.h.html#168" title='le64_to_cpu' data-ref="le64_to_cpu">le64_to_cpu</a>(<a class="local col9 ref" href="#89descr" title='descr' data-ref="89descr">descr</a>-&gt;<a class="ref" href="vmxnet3.h.html#Vmxnet3_RxDesc::addr" title='Vmxnet3_RxDesc::addr' data-ref="Vmxnet3_RxDesc::addr">addr</a>), <a class="local col9 ref" href="#89descr" title='descr' data-ref="89descr">descr</a>-&gt;<a class="ref" href="vmxnet3.h.html#Vmxnet3_RxDesc::len" title='Vmxnet3_RxDesc::len' data-ref="Vmxnet3_RxDesc::len">len</a>, <a class="local col9 ref" href="#89descr" title='descr' data-ref="89descr">descr</a>-&gt;<a class="ref" href="vmxnet3.h.html#Vmxnet3_RxDesc::gen" title='Vmxnet3_RxDesc::gen' data-ref="Vmxnet3_RxDesc::gen">gen</a>,</td></tr>
<tr><th id="245">245</th><td>              <a class="local col9 ref" href="#89descr" title='descr' data-ref="89descr">descr</a>-&gt;<a class="ref" href="vmxnet3.h.html#Vmxnet3_RxDesc::rsvd" title='Vmxnet3_RxDesc::rsvd' data-ref="Vmxnet3_RxDesc::rsvd">rsvd</a>, <a class="local col9 ref" href="#89descr" title='descr' data-ref="89descr">descr</a>-&gt;<a class="ref" href="vmxnet3.h.html#Vmxnet3_RxDesc::dtype" title='Vmxnet3_RxDesc::dtype' data-ref="Vmxnet3_RxDesc::dtype">dtype</a>, <a class="local col9 ref" href="#89descr" title='descr' data-ref="89descr">descr</a>-&gt;<a class="ref" href="vmxnet3.h.html#Vmxnet3_RxDesc::ext1" title='Vmxnet3_RxDesc::ext1' data-ref="Vmxnet3_RxDesc::ext1">ext1</a>, <a class="local col9 ref" href="#89descr" title='descr' data-ref="89descr">descr</a>-&gt;<a class="ref" href="vmxnet3.h.html#Vmxnet3_RxDesc::btype" title='Vmxnet3_RxDesc::btype' data-ref="Vmxnet3_RxDesc::btype">btype</a>);</td></tr>
<tr><th id="246">246</th><td>}</td></tr>
<tr><th id="247">247</th><td></td></tr>
<tr><th id="248">248</th><td><i>/* Device state and helper functions */</i></td></tr>
<tr><th id="249">249</th><td><u>#define <dfn class="macro" id="_M/VMXNET3_RX_RINGS_PER_QUEUE" data-ref="_M/VMXNET3_RX_RINGS_PER_QUEUE">VMXNET3_RX_RINGS_PER_QUEUE</dfn> (2)</u></td></tr>
<tr><th id="250">250</th><td></td></tr>
<tr><th id="251">251</th><td><b>typedef</b> <b>struct</b> {</td></tr>
<tr><th id="252">252</th><td>    <a class="typedef" href="#Vmxnet3Ring" title='Vmxnet3Ring' data-type='struct Vmxnet3Ring' data-ref="Vmxnet3Ring">Vmxnet3Ring</a> <dfn class="tu decl" id="(anonymous)::tx_ring" title='(anonymous struct)::tx_ring' data-type='Vmxnet3Ring' data-ref="(anonymous)::tx_ring">tx_ring</dfn>;</td></tr>
<tr><th id="253">253</th><td>    <a class="typedef" href="#Vmxnet3Ring" title='Vmxnet3Ring' data-type='struct Vmxnet3Ring' data-ref="Vmxnet3Ring">Vmxnet3Ring</a> <dfn class="tu decl" id="(anonymous)::comp_ring" title='(anonymous struct)::comp_ring' data-type='Vmxnet3Ring' data-ref="(anonymous)::comp_ring">comp_ring</dfn>;</td></tr>
<tr><th id="254">254</th><td></td></tr>
<tr><th id="255">255</th><td>    <a class="typedef" href="../../../include/stdint.h.html#uint8_t" title='uint8_t' data-type='unsigned char' data-ref="uint8_t">uint8_t</a> <dfn class="tu decl" id="(anonymous)::intr_idx" title='(anonymous struct)::intr_idx' data-type='uint8_t' data-ref="(anonymous)::intr_idx">intr_idx</dfn>;</td></tr>
<tr><th id="256">256</th><td>    <a class="typedef" href="../../include/exec/hwaddr.h.html#hwaddr" title='hwaddr' data-type='uint64_t' data-ref="hwaddr">hwaddr</a> <dfn class="tu decl" id="(anonymous)::tx_stats_pa" title='(anonymous struct)::tx_stats_pa' data-type='hwaddr' data-ref="(anonymous)::tx_stats_pa">tx_stats_pa</dfn>;</td></tr>
<tr><th id="257">257</th><td>    <b>struct</b> <a class="type" href="vmxnet3.h.html#UPT1_TxStats" title='UPT1_TxStats' data-ref="UPT1_TxStats">UPT1_TxStats</a> <dfn class="tu decl" id="(anonymous)::txq_stats" title='(anonymous struct)::txq_stats' data-type='struct UPT1_TxStats' data-ref="(anonymous)::txq_stats">txq_stats</dfn>;</td></tr>
<tr><th id="258">258</th><td>} <dfn class="typedef" id="Vmxnet3TxqDescr" title='Vmxnet3TxqDescr' data-type='struct Vmxnet3TxqDescr' data-ref="Vmxnet3TxqDescr">Vmxnet3TxqDescr</dfn>;</td></tr>
<tr><th id="259">259</th><td></td></tr>
<tr><th id="260">260</th><td><b>typedef</b> <b>struct</b> {</td></tr>
<tr><th id="261">261</th><td>    <a class="typedef" href="#Vmxnet3Ring" title='Vmxnet3Ring' data-type='struct Vmxnet3Ring' data-ref="Vmxnet3Ring">Vmxnet3Ring</a> <dfn class="tu decl" id="(anonymous)::rx_ring" title='(anonymous struct)::rx_ring' data-type='Vmxnet3Ring [2]' data-ref="(anonymous)::rx_ring">rx_ring</dfn>[<a class="macro" href="#249" title="(2)" data-ref="_M/VMXNET3_RX_RINGS_PER_QUEUE">VMXNET3_RX_RINGS_PER_QUEUE</a>];</td></tr>
<tr><th id="262">262</th><td>    <a class="typedef" href="#Vmxnet3Ring" title='Vmxnet3Ring' data-type='struct Vmxnet3Ring' data-ref="Vmxnet3Ring">Vmxnet3Ring</a> <dfn class="tu decl" id="(anonymous)::comp_ring" title='(anonymous struct)::comp_ring' data-type='Vmxnet3Ring' data-ref="(anonymous)::comp_ring">comp_ring</dfn>;</td></tr>
<tr><th id="263">263</th><td>    <a class="typedef" href="../../../include/stdint.h.html#uint8_t" title='uint8_t' data-type='unsigned char' data-ref="uint8_t">uint8_t</a> <dfn class="tu decl" id="(anonymous)::intr_idx" title='(anonymous struct)::intr_idx' data-type='uint8_t' data-ref="(anonymous)::intr_idx">intr_idx</dfn>;</td></tr>
<tr><th id="264">264</th><td>    <a class="typedef" href="../../include/exec/hwaddr.h.html#hwaddr" title='hwaddr' data-type='uint64_t' data-ref="hwaddr">hwaddr</a> <dfn class="tu decl" id="(anonymous)::rx_stats_pa" title='(anonymous struct)::rx_stats_pa' data-type='hwaddr' data-ref="(anonymous)::rx_stats_pa">rx_stats_pa</dfn>;</td></tr>
<tr><th id="265">265</th><td>    <b>struct</b> <a class="type" href="vmxnet3.h.html#UPT1_RxStats" title='UPT1_RxStats' data-ref="UPT1_RxStats">UPT1_RxStats</a> <dfn class="tu decl" id="(anonymous)::rxq_stats" title='(anonymous struct)::rxq_stats' data-type='struct UPT1_RxStats' data-ref="(anonymous)::rxq_stats">rxq_stats</dfn>;</td></tr>
<tr><th id="266">266</th><td>} <dfn class="typedef" id="Vmxnet3RxqDescr" title='Vmxnet3RxqDescr' data-type='struct Vmxnet3RxqDescr' data-ref="Vmxnet3RxqDescr">Vmxnet3RxqDescr</dfn>;</td></tr>
<tr><th id="267">267</th><td></td></tr>
<tr><th id="268">268</th><td><b>typedef</b> <b>struct</b> {</td></tr>
<tr><th id="269">269</th><td>    <span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="tu decl" id="(anonymous)::is_masked" title='(anonymous struct)::is_masked' data-type='_Bool' data-ref="(anonymous)::is_masked">is_masked</dfn>;</td></tr>
<tr><th id="270">270</th><td>    <span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="tu decl" id="(anonymous)::is_pending" title='(anonymous struct)::is_pending' data-type='_Bool' data-ref="(anonymous)::is_pending">is_pending</dfn>;</td></tr>
<tr><th id="271">271</th><td>    <span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="tu decl" id="(anonymous)::is_asserted" title='(anonymous struct)::is_asserted' data-type='_Bool' data-ref="(anonymous)::is_asserted">is_asserted</dfn>;</td></tr>
<tr><th id="272">272</th><td>} <dfn class="typedef" id="Vmxnet3IntState" title='Vmxnet3IntState' data-type='struct Vmxnet3IntState' data-ref="Vmxnet3IntState">Vmxnet3IntState</dfn>;</td></tr>
<tr><th id="273">273</th><td></td></tr>
<tr><th id="274">274</th><td><b>typedef</b> <b>struct</b> {</td></tr>
<tr><th id="275">275</th><td>        <a class="typedef" href="../../include/qemu/typedefs.h.html#PCIDevice" title='PCIDevice' data-type='struct PCIDevice' data-ref="PCIDevice">PCIDevice</a> <dfn class="tu decl" id="(anonymous)::parent_obj" title='(anonymous struct)::parent_obj' data-type='PCIDevice' data-ref="(anonymous)::parent_obj">parent_obj</dfn>;</td></tr>
<tr><th id="276">276</th><td>        <a class="typedef" href="../../include/net/net.h.html#NICState" title='NICState' data-type='struct NICState' data-ref="NICState">NICState</a> *<dfn class="tu decl" id="(anonymous)::nic" title='(anonymous struct)::nic' data-type='NICState *' data-ref="(anonymous)::nic">nic</dfn>;</td></tr>
<tr><th id="277">277</th><td>        <a class="typedef" href="../../include/net/net.h.html#NICConf" title='NICConf' data-type='struct NICConf' data-ref="NICConf">NICConf</a> <dfn class="tu decl" id="(anonymous)::conf" title='(anonymous struct)::conf' data-type='NICConf' data-ref="(anonymous)::conf">conf</dfn>;</td></tr>
<tr><th id="278">278</th><td>        <a class="typedef" href="../../include/qemu/typedefs.h.html#MemoryRegion" title='MemoryRegion' data-type='struct MemoryRegion' data-ref="MemoryRegion">MemoryRegion</a> <dfn class="tu decl" id="(anonymous)::bar0" title='(anonymous struct)::bar0' data-type='MemoryRegion' data-ref="(anonymous)::bar0">bar0</dfn>;</td></tr>
<tr><th id="279">279</th><td>        <a class="typedef" href="../../include/qemu/typedefs.h.html#MemoryRegion" title='MemoryRegion' data-type='struct MemoryRegion' data-ref="MemoryRegion">MemoryRegion</a> <dfn class="tu decl" id="(anonymous)::bar1" title='(anonymous struct)::bar1' data-type='MemoryRegion' data-ref="(anonymous)::bar1">bar1</dfn>;</td></tr>
<tr><th id="280">280</th><td>        <a class="typedef" href="../../include/qemu/typedefs.h.html#MemoryRegion" title='MemoryRegion' data-type='struct MemoryRegion' data-ref="MemoryRegion">MemoryRegion</a> <dfn class="tu decl" id="(anonymous)::msix_bar" title='(anonymous struct)::msix_bar' data-type='MemoryRegion' data-ref="(anonymous)::msix_bar">msix_bar</dfn>;</td></tr>
<tr><th id="281">281</th><td></td></tr>
<tr><th id="282">282</th><td>        <a class="typedef" href="#Vmxnet3RxqDescr" title='Vmxnet3RxqDescr' data-type='struct Vmxnet3RxqDescr' data-ref="Vmxnet3RxqDescr">Vmxnet3RxqDescr</a> <dfn class="tu decl" id="(anonymous)::rxq_descr" title='(anonymous struct)::rxq_descr' data-type='Vmxnet3RxqDescr [8]' data-ref="(anonymous)::rxq_descr">rxq_descr</dfn>[<a class="macro" href="vmxnet3.h.html#22" title="8" data-ref="_M/VMXNET3_DEVICE_MAX_RX_QUEUES">VMXNET3_DEVICE_MAX_RX_QUEUES</a>];</td></tr>
<tr><th id="283">283</th><td>        <a class="typedef" href="#Vmxnet3TxqDescr" title='Vmxnet3TxqDescr' data-type='struct Vmxnet3TxqDescr' data-ref="Vmxnet3TxqDescr">Vmxnet3TxqDescr</a> <dfn class="tu decl" id="(anonymous)::txq_descr" title='(anonymous struct)::txq_descr' data-type='Vmxnet3TxqDescr [8]' data-ref="(anonymous)::txq_descr">txq_descr</dfn>[<a class="macro" href="vmxnet3.h.html#21" title="8" data-ref="_M/VMXNET3_DEVICE_MAX_TX_QUEUES">VMXNET3_DEVICE_MAX_TX_QUEUES</a>];</td></tr>
<tr><th id="284">284</th><td></td></tr>
<tr><th id="285">285</th><td>        <i>/* Whether MSI-X support was installed successfully */</i></td></tr>
<tr><th id="286">286</th><td>        <span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="tu decl" id="(anonymous)::msix_used" title='(anonymous struct)::msix_used' data-type='_Bool' data-ref="(anonymous)::msix_used">msix_used</dfn>;</td></tr>
<tr><th id="287">287</th><td>        <a class="typedef" href="../../include/exec/hwaddr.h.html#hwaddr" title='hwaddr' data-type='uint64_t' data-ref="hwaddr">hwaddr</a> <dfn class="tu decl" id="(anonymous)::drv_shmem" title='(anonymous struct)::drv_shmem' data-type='hwaddr' data-ref="(anonymous)::drv_shmem">drv_shmem</dfn>;</td></tr>
<tr><th id="288">288</th><td>        <a class="typedef" href="../../include/exec/hwaddr.h.html#hwaddr" title='hwaddr' data-type='uint64_t' data-ref="hwaddr">hwaddr</a> <dfn class="tu decl" id="(anonymous)::temp_shared_guest_driver_memory" title='(anonymous struct)::temp_shared_guest_driver_memory' data-type='hwaddr' data-ref="(anonymous)::temp_shared_guest_driver_memory">temp_shared_guest_driver_memory</dfn>;</td></tr>
<tr><th id="289">289</th><td></td></tr>
<tr><th id="290">290</th><td>        <a class="typedef" href="../../../include/stdint.h.html#uint8_t" title='uint8_t' data-type='unsigned char' data-ref="uint8_t">uint8_t</a> <dfn class="tu decl" id="(anonymous)::txq_num" title='(anonymous struct)::txq_num' data-type='uint8_t' data-ref="(anonymous)::txq_num">txq_num</dfn>;</td></tr>
<tr><th id="291">291</th><td></td></tr>
<tr><th id="292">292</th><td>        <i>/* This boolean tells whether RX packet being indicated has to */</i></td></tr>
<tr><th id="293">293</th><td>        <i>/* be split into head and body chunks from different RX rings  */</i></td></tr>
<tr><th id="294">294</th><td>        <span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="tu decl" id="(anonymous)::rx_packets_compound" title='(anonymous struct)::rx_packets_compound' data-type='_Bool' data-ref="(anonymous)::rx_packets_compound">rx_packets_compound</dfn>;</td></tr>
<tr><th id="295">295</th><td></td></tr>
<tr><th id="296">296</th><td>        <span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="tu decl" id="(anonymous)::rx_vlan_stripping" title='(anonymous struct)::rx_vlan_stripping' data-type='_Bool' data-ref="(anonymous)::rx_vlan_stripping">rx_vlan_stripping</dfn>;</td></tr>
<tr><th id="297">297</th><td>        <span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="tu decl" id="(anonymous)::lro_supported" title='(anonymous struct)::lro_supported' data-type='_Bool' data-ref="(anonymous)::lro_supported">lro_supported</dfn>;</td></tr>
<tr><th id="298">298</th><td></td></tr>
<tr><th id="299">299</th><td>        <a class="typedef" href="../../../include/stdint.h.html#uint8_t" title='uint8_t' data-type='unsigned char' data-ref="uint8_t">uint8_t</a> <dfn class="tu decl" id="(anonymous)::rxq_num" title='(anonymous struct)::rxq_num' data-type='uint8_t' data-ref="(anonymous)::rxq_num">rxq_num</dfn>;</td></tr>
<tr><th id="300">300</th><td></td></tr>
<tr><th id="301">301</th><td>        <i  data-doc="(anonymous)::mtu">/* Network MTU */</i></td></tr>
<tr><th id="302">302</th><td>        <a class="typedef" href="../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> <dfn class="tu decl" id="(anonymous)::mtu" title='(anonymous struct)::mtu' data-type='uint32_t' data-ref="(anonymous)::mtu">mtu</dfn>;</td></tr>
<tr><th id="303">303</th><td></td></tr>
<tr><th id="304">304</th><td>        <i  data-doc="(anonymous)::max_tx_frags">/* Maximum number of fragments for indicated TX packets */</i></td></tr>
<tr><th id="305">305</th><td>        <a class="typedef" href="../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> <dfn class="tu decl" id="(anonymous)::max_tx_frags" title='(anonymous struct)::max_tx_frags' data-type='uint32_t' data-ref="(anonymous)::max_tx_frags">max_tx_frags</dfn>;</td></tr>
<tr><th id="306">306</th><td></td></tr>
<tr><th id="307">307</th><td>        <i  data-doc="(anonymous)::max_rx_frags">/* Maximum number of fragments for indicated RX packets */</i></td></tr>
<tr><th id="308">308</th><td>        <a class="typedef" href="../../../include/stdint.h.html#uint16_t" title='uint16_t' data-type='unsigned short' data-ref="uint16_t">uint16_t</a> <dfn class="tu decl" id="(anonymous)::max_rx_frags" title='(anonymous struct)::max_rx_frags' data-type='uint16_t' data-ref="(anonymous)::max_rx_frags">max_rx_frags</dfn>;</td></tr>
<tr><th id="309">309</th><td></td></tr>
<tr><th id="310">310</th><td>        <i  data-doc="(anonymous)::event_int_idx">/* Index for events interrupt */</i></td></tr>
<tr><th id="311">311</th><td>        <a class="typedef" href="../../../include/stdint.h.html#uint8_t" title='uint8_t' data-type='unsigned char' data-ref="uint8_t">uint8_t</a> <dfn class="tu decl" id="(anonymous)::event_int_idx" title='(anonymous struct)::event_int_idx' data-type='uint8_t' data-ref="(anonymous)::event_int_idx">event_int_idx</dfn>;</td></tr>
<tr><th id="312">312</th><td></td></tr>
<tr><th id="313">313</th><td>        <i>/* Whether automatic interrupts masking enabled */</i></td></tr>
<tr><th id="314">314</th><td>        <span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="tu decl" id="(anonymous)::auto_int_masking" title='(anonymous struct)::auto_int_masking' data-type='_Bool' data-ref="(anonymous)::auto_int_masking">auto_int_masking</dfn>;</td></tr>
<tr><th id="315">315</th><td></td></tr>
<tr><th id="316">316</th><td>        <span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="tu decl" id="(anonymous)::peer_has_vhdr" title='(anonymous struct)::peer_has_vhdr' data-type='_Bool' data-ref="(anonymous)::peer_has_vhdr">peer_has_vhdr</dfn>;</td></tr>
<tr><th id="317">317</th><td></td></tr>
<tr><th id="318">318</th><td>        <i  data-doc="(anonymous)::tx_pkt">/* TX packets to QEMU interface */</i></td></tr>
<tr><th id="319">319</th><td>        <b>struct</b> <a class="type" href="net_tx_pkt.h.html#NetTxPkt" title='NetTxPkt' data-ref="NetTxPkt">NetTxPkt</a> *<dfn class="tu decl" id="(anonymous)::tx_pkt" title='(anonymous struct)::tx_pkt' data-type='struct NetTxPkt *' data-ref="(anonymous)::tx_pkt">tx_pkt</dfn>;</td></tr>
<tr><th id="320">320</th><td>        <a class="typedef" href="../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> <dfn class="tu decl" id="(anonymous)::offload_mode" title='(anonymous struct)::offload_mode' data-type='uint32_t' data-ref="(anonymous)::offload_mode">offload_mode</dfn>;</td></tr>
<tr><th id="321">321</th><td>        <a class="typedef" href="../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> <dfn class="tu decl" id="(anonymous)::cso_or_gso_size" title='(anonymous struct)::cso_or_gso_size' data-type='uint32_t' data-ref="(anonymous)::cso_or_gso_size">cso_or_gso_size</dfn>;</td></tr>
<tr><th id="322">322</th><td>        <a class="typedef" href="../../../include/stdint.h.html#uint16_t" title='uint16_t' data-type='unsigned short' data-ref="uint16_t">uint16_t</a> <dfn class="tu decl" id="(anonymous)::tci" title='(anonymous struct)::tci' data-type='uint16_t' data-ref="(anonymous)::tci">tci</dfn>;</td></tr>
<tr><th id="323">323</th><td>        <span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="tu decl" id="(anonymous)::needs_vlan" title='(anonymous struct)::needs_vlan' data-type='_Bool' data-ref="(anonymous)::needs_vlan">needs_vlan</dfn>;</td></tr>
<tr><th id="324">324</th><td></td></tr>
<tr><th id="325">325</th><td>        <b>struct</b> <a class="type" href="net_rx_pkt.h.html#NetRxPkt" title='NetRxPkt' data-ref="NetRxPkt">NetRxPkt</a> *<dfn class="tu decl" id="(anonymous)::rx_pkt" title='(anonymous struct)::rx_pkt' data-type='struct NetRxPkt *' data-ref="(anonymous)::rx_pkt">rx_pkt</dfn>;</td></tr>
<tr><th id="326">326</th><td></td></tr>
<tr><th id="327">327</th><td>        <span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="tu decl" id="(anonymous)::tx_sop" title='(anonymous struct)::tx_sop' data-type='_Bool' data-ref="(anonymous)::tx_sop">tx_sop</dfn>;</td></tr>
<tr><th id="328">328</th><td>        <span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="tu decl" id="(anonymous)::skip_current_tx_pkt" title='(anonymous struct)::skip_current_tx_pkt' data-type='_Bool' data-ref="(anonymous)::skip_current_tx_pkt">skip_current_tx_pkt</dfn>;</td></tr>
<tr><th id="329">329</th><td></td></tr>
<tr><th id="330">330</th><td>        <a class="typedef" href="../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> <dfn class="tu decl" id="(anonymous)::device_active" title='(anonymous struct)::device_active' data-type='uint32_t' data-ref="(anonymous)::device_active">device_active</dfn>;</td></tr>
<tr><th id="331">331</th><td>        <a class="typedef" href="../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> <dfn class="tu decl" id="(anonymous)::last_command" title='(anonymous struct)::last_command' data-type='uint32_t' data-ref="(anonymous)::last_command">last_command</dfn>;</td></tr>
<tr><th id="332">332</th><td></td></tr>
<tr><th id="333">333</th><td>        <a class="typedef" href="../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> <dfn class="tu decl" id="(anonymous)::link_status_and_speed" title='(anonymous struct)::link_status_and_speed' data-type='uint32_t' data-ref="(anonymous)::link_status_and_speed">link_status_and_speed</dfn>;</td></tr>
<tr><th id="334">334</th><td></td></tr>
<tr><th id="335">335</th><td>        <a class="typedef" href="#Vmxnet3IntState" title='Vmxnet3IntState' data-type='struct Vmxnet3IntState' data-ref="Vmxnet3IntState">Vmxnet3IntState</a> <dfn class="tu decl" id="(anonymous)::interrupt_states" title='(anonymous struct)::interrupt_states' data-type='Vmxnet3IntState [25]' data-ref="(anonymous)::interrupt_states">interrupt_states</dfn>[<a class="macro" href="vmxnet3.h.html#584" title="25" data-ref="_M/VMXNET3_MAX_INTRS">VMXNET3_MAX_INTRS</a>];</td></tr>
<tr><th id="336">336</th><td></td></tr>
<tr><th id="337">337</th><td>        <a class="typedef" href="../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> <dfn class="tu decl" id="(anonymous)::temp_mac" title='(anonymous struct)::temp_mac' data-type='uint32_t' data-ref="(anonymous)::temp_mac">temp_mac</dfn>;   <i  data-doc="(anonymous)::temp_mac">/* To store the low part first */</i></td></tr>
<tr><th id="338">338</th><td></td></tr>
<tr><th id="339">339</th><td>        <a class="typedef" href="../../include/qemu/typedefs.h.html#MACAddr" title='MACAddr' data-type='struct MACAddr' data-ref="MACAddr">MACAddr</a> <dfn class="tu decl" id="(anonymous)::perm_mac" title='(anonymous struct)::perm_mac' data-type='MACAddr' data-ref="(anonymous)::perm_mac">perm_mac</dfn>;</td></tr>
<tr><th id="340">340</th><td>        <a class="typedef" href="../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> <dfn class="tu decl" id="(anonymous)::vlan_table" title='(anonymous struct)::vlan_table' data-type='uint32_t [128]' data-ref="(anonymous)::vlan_table">vlan_table</dfn>[<a class="macro" href="vmxnet3.h.html#601" title="(4096/(sizeof(uint32_t)*8))" data-ref="_M/VMXNET3_VFT_SIZE">VMXNET3_VFT_SIZE</a>];</td></tr>
<tr><th id="341">341</th><td>        <a class="typedef" href="../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> <dfn class="tu decl" id="(anonymous)::rx_mode" title='(anonymous struct)::rx_mode' data-type='uint32_t' data-ref="(anonymous)::rx_mode">rx_mode</dfn>;</td></tr>
<tr><th id="342">342</th><td>        <a class="typedef" href="../../include/qemu/typedefs.h.html#MACAddr" title='MACAddr' data-type='struct MACAddr' data-ref="MACAddr">MACAddr</a> *<dfn class="tu decl" id="(anonymous)::mcast_list" title='(anonymous struct)::mcast_list' data-type='MACAddr *' data-ref="(anonymous)::mcast_list">mcast_list</dfn>;</td></tr>
<tr><th id="343">343</th><td>        <a class="typedef" href="../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> <dfn class="tu decl" id="(anonymous)::mcast_list_len" title='(anonymous struct)::mcast_list_len' data-type='uint32_t' data-ref="(anonymous)::mcast_list_len">mcast_list_len</dfn>;</td></tr>
<tr><th id="344">344</th><td>        <a class="typedef" href="../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> <dfn class="tu decl" id="(anonymous)::mcast_list_buff_size" title='(anonymous struct)::mcast_list_buff_size' data-type='uint32_t' data-ref="(anonymous)::mcast_list_buff_size">mcast_list_buff_size</dfn>; <i  data-doc="(anonymous)::mcast_list_buff_size">/* needed for live migration. */</i></td></tr>
<tr><th id="345">345</th><td></td></tr>
<tr><th id="346">346</th><td>        <i  data-doc="(anonymous)::compat_flags">/* Compatibility flags for migration */</i></td></tr>
<tr><th id="347">347</th><td>        <a class="typedef" href="../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> <dfn class="tu decl" id="(anonymous)::compat_flags" title='(anonymous struct)::compat_flags' data-type='uint32_t' data-ref="(anonymous)::compat_flags">compat_flags</dfn>;</td></tr>
<tr><th id="348">348</th><td>} <dfn class="typedef" id="VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</dfn>;</td></tr>
<tr><th id="349">349</th><td></td></tr>
<tr><th id="350">350</th><td><i>/* Interrupt management */</i></td></tr>
<tr><th id="351">351</th><td></td></tr>
<tr><th id="352">352</th><td><i  data-doc="_vmxnet3_assert_interrupt_line">/*</i></td></tr>
<tr><th id="353">353</th><td><i  data-doc="_vmxnet3_assert_interrupt_line"> * This function returns sign whether interrupt line is in asserted state</i></td></tr>
<tr><th id="354">354</th><td><i  data-doc="_vmxnet3_assert_interrupt_line"> * This depends on the type of interrupt used. For INTX interrupt line will</i></td></tr>
<tr><th id="355">355</th><td><i  data-doc="_vmxnet3_assert_interrupt_line"> * be asserted until explicit deassertion, for MSI(X) interrupt line will</i></td></tr>
<tr><th id="356">356</th><td><i  data-doc="_vmxnet3_assert_interrupt_line"> * be deasserted automatically due to notification semantics of the MSI(X)</i></td></tr>
<tr><th id="357">357</th><td><i  data-doc="_vmxnet3_assert_interrupt_line"> * interrupts</i></td></tr>
<tr><th id="358">358</th><td><i  data-doc="_vmxnet3_assert_interrupt_line"> */</i></td></tr>
<tr><th id="359">359</th><td><em>static</em> <span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="tu decl def" id="_vmxnet3_assert_interrupt_line" title='_vmxnet3_assert_interrupt_line' data-type='_Bool _vmxnet3_assert_interrupt_line(VMXNET3State * s, uint32_t int_idx)' data-ref="_vmxnet3_assert_interrupt_line">_vmxnet3_assert_interrupt_line</dfn>(<a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a> *<dfn class="local col0 decl" id="90s" title='s' data-type='VMXNET3State *' data-ref="90s">s</dfn>, <a class="typedef" href="../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> <dfn class="local col1 decl" id="91int_idx" title='int_idx' data-type='uint32_t' data-ref="91int_idx">int_idx</dfn>)</td></tr>
<tr><th id="360">360</th><td>{</td></tr>
<tr><th id="361">361</th><td>    <a class="typedef" href="../../include/qemu/typedefs.h.html#PCIDevice" title='PCIDevice' data-type='struct PCIDevice' data-ref="PCIDevice">PCIDevice</a> *<dfn class="local col2 decl" id="92d" title='d' data-type='PCIDevice *' data-ref="92d">d</dfn> = <a class="macro" href="../../include/hw/pci/pci.h.html#191" title="((PCIDevice *)object_dynamic_cast_assert(((Object *)((s))), (&quot;pci-device&quot;), &quot;/home/jon/workspace/qemu/hw/net/vmxnet3.c&quot;, 361, __func__))" data-ref="_M/PCI_DEVICE">PCI_DEVICE</a>(<a class="local col0 ref" href="#90s" title='s' data-ref="90s">s</a>);</td></tr>
<tr><th id="362">362</th><td></td></tr>
<tr><th id="363">363</th><td>    <b>if</b> (<a class="local col0 ref" href="#90s" title='s' data-ref="90s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::msix_used" title='(anonymous struct)::msix_used' data-use='r' data-ref="(anonymous)::msix_used">msix_used</a> &amp;&amp; <a class="ref" href="../../include/hw/pci/msix.h.html#msix_enabled" title='msix_enabled' data-ref="msix_enabled">msix_enabled</a>(<a class="local col2 ref" href="#92d" title='d' data-ref="92d">d</a>)) {</td></tr>
<tr><th id="364">364</th><td>        <a class="macro" href="vmxnet_debug.h.html#121" title="do { if (0) { printf(&quot;[%s][IR][%s]: &quot; &quot;Sending MSI-X notification for vector %u&quot; &quot;\n&quot;, &quot;vmxnet3&quot;, __func__, int_idx); } } while (0)" data-ref="_M/VMW_IRPRN">VMW_IRPRN</a>(<q>"Sending MSI-X notification for vector %u"</q>, <a class="local col1 ref" href="#91int_idx" title='int_idx' data-ref="91int_idx">int_idx</a>);</td></tr>
<tr><th id="365">365</th><td>        <a class="ref" href="../../include/hw/pci/msix.h.html#msix_notify" title='msix_notify' data-ref="msix_notify">msix_notify</a>(<a class="local col2 ref" href="#92d" title='d' data-ref="92d">d</a>, <a class="local col1 ref" href="#91int_idx" title='int_idx' data-ref="91int_idx">int_idx</a>);</td></tr>
<tr><th id="366">366</th><td>        <b>return</b> <span class="macro" title="0" data-ref="_M/false">false</span>;</td></tr>
<tr><th id="367">367</th><td>    }</td></tr>
<tr><th id="368">368</th><td>    <b>if</b> (<a class="ref" href="../../include/hw/pci/msi.h.html#msi_enabled" title='msi_enabled' data-ref="msi_enabled">msi_enabled</a>(<a class="local col2 ref" href="#92d" title='d' data-ref="92d">d</a>)) {</td></tr>
<tr><th id="369">369</th><td>        <a class="macro" href="vmxnet_debug.h.html#121" title="do { if (0) { printf(&quot;[%s][IR][%s]: &quot; &quot;Sending MSI notification for vector %u&quot; &quot;\n&quot;, &quot;vmxnet3&quot;, __func__, int_idx); } } while (0)" data-ref="_M/VMW_IRPRN">VMW_IRPRN</a>(<q>"Sending MSI notification for vector %u"</q>, <a class="local col1 ref" href="#91int_idx" title='int_idx' data-ref="91int_idx">int_idx</a>);</td></tr>
<tr><th id="370">370</th><td>        <a class="ref" href="../../include/hw/pci/msi.h.html#msi_notify" title='msi_notify' data-ref="msi_notify">msi_notify</a>(<a class="local col2 ref" href="#92d" title='d' data-ref="92d">d</a>, <a class="local col1 ref" href="#91int_idx" title='int_idx' data-ref="91int_idx">int_idx</a>);</td></tr>
<tr><th id="371">371</th><td>        <b>return</b> <span class="macro" title="0" data-ref="_M/false">false</span>;</td></tr>
<tr><th id="372">372</th><td>    }</td></tr>
<tr><th id="373">373</th><td></td></tr>
<tr><th id="374">374</th><td>    <a class="macro" href="vmxnet_debug.h.html#121" title="do { if (0) { printf(&quot;[%s][IR][%s]: &quot; &quot;Asserting line for interrupt %u&quot; &quot;\n&quot;, &quot;vmxnet3&quot;, __func__, int_idx); } } while (0)" data-ref="_M/VMW_IRPRN">VMW_IRPRN</a>(<q>"Asserting line for interrupt %u"</q>, <a class="local col1 ref" href="#91int_idx" title='int_idx' data-ref="91int_idx">int_idx</a>);</td></tr>
<tr><th id="375">375</th><td>    <a class="ref" href="../../include/hw/pci/pci.h.html#pci_irq_assert" title='pci_irq_assert' data-ref="pci_irq_assert">pci_irq_assert</a>(<a class="local col2 ref" href="#92d" title='d' data-ref="92d">d</a>);</td></tr>
<tr><th id="376">376</th><td>    <b>return</b> <span class="macro" title="1" data-ref="_M/true">true</span>;</td></tr>
<tr><th id="377">377</th><td>}</td></tr>
<tr><th id="378">378</th><td></td></tr>
<tr><th id="379">379</th><td><em>static</em> <em>void</em> <dfn class="tu decl def" id="_vmxnet3_deassert_interrupt_line" title='_vmxnet3_deassert_interrupt_line' data-type='void _vmxnet3_deassert_interrupt_line(VMXNET3State * s, int lidx)' data-ref="_vmxnet3_deassert_interrupt_line">_vmxnet3_deassert_interrupt_line</dfn>(<a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a> *<dfn class="local col3 decl" id="93s" title='s' data-type='VMXNET3State *' data-ref="93s">s</dfn>, <em>int</em> <dfn class="local col4 decl" id="94lidx" title='lidx' data-type='int' data-ref="94lidx">lidx</dfn>)</td></tr>
<tr><th id="380">380</th><td>{</td></tr>
<tr><th id="381">381</th><td>    <a class="typedef" href="../../include/qemu/typedefs.h.html#PCIDevice" title='PCIDevice' data-type='struct PCIDevice' data-ref="PCIDevice">PCIDevice</a> *<dfn class="local col5 decl" id="95d" title='d' data-type='PCIDevice *' data-ref="95d">d</dfn> = <a class="macro" href="../../include/hw/pci/pci.h.html#191" title="((PCIDevice *)object_dynamic_cast_assert(((Object *)((s))), (&quot;pci-device&quot;), &quot;/home/jon/workspace/qemu/hw/net/vmxnet3.c&quot;, 381, __func__))" data-ref="_M/PCI_DEVICE">PCI_DEVICE</a>(<a class="local col3 ref" href="#93s" title='s' data-ref="93s">s</a>);</td></tr>
<tr><th id="382">382</th><td></td></tr>
<tr><th id="383">383</th><td>    <i>/*</i></td></tr>
<tr><th id="384">384</th><td><i>     * This function should never be called for MSI(X) interrupts</i></td></tr>
<tr><th id="385">385</th><td><i>     * because deassertion never required for message interrupts</i></td></tr>
<tr><th id="386">386</th><td><i>     */</i></td></tr>
<tr><th id="387">387</th><td>    <a class="macro" href="../../../include/assert.h.html#88" title="((!s-&gt;msix_used || !msix_enabled(d)) ? (void) (0) : __assert_fail (&quot;!s-&gt;msix_used || !msix_enabled(d)&quot;, &quot;/home/jon/workspace/qemu/hw/net/vmxnet3.c&quot;, 387, __PRETTY_FUNCTION__))" data-ref="_M/assert">assert</a>(!<a class="local col3 ref" href="#93s" title='s' data-ref="93s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::msix_used" title='(anonymous struct)::msix_used' data-use='r' data-ref="(anonymous)::msix_used">msix_used</a> || !<a class="ref" href="../../include/hw/pci/msix.h.html#msix_enabled" title='msix_enabled' data-ref="msix_enabled">msix_enabled</a>(<a class="local col5 ref" href="#95d" title='d' data-ref="95d">d</a>));</td></tr>
<tr><th id="388">388</th><td>    <i>/*</i></td></tr>
<tr><th id="389">389</th><td><i>     * This function should never be called for MSI(X) interrupts</i></td></tr>
<tr><th id="390">390</th><td><i>     * because deassertion never required for message interrupts</i></td></tr>
<tr><th id="391">391</th><td><i>     */</i></td></tr>
<tr><th id="392">392</th><td>    <a class="macro" href="../../../include/assert.h.html#88" title="((!msi_enabled(d)) ? (void) (0) : __assert_fail (&quot;!msi_enabled(d)&quot;, &quot;/home/jon/workspace/qemu/hw/net/vmxnet3.c&quot;, 392, __PRETTY_FUNCTION__))" data-ref="_M/assert">assert</a>(!<a class="ref" href="../../include/hw/pci/msi.h.html#msi_enabled" title='msi_enabled' data-ref="msi_enabled">msi_enabled</a>(<a class="local col5 ref" href="#95d" title='d' data-ref="95d">d</a>));</td></tr>
<tr><th id="393">393</th><td></td></tr>
<tr><th id="394">394</th><td>    <a class="macro" href="vmxnet_debug.h.html#121" title="do { if (0) { printf(&quot;[%s][IR][%s]: &quot; &quot;Deasserting line for interrupt %u&quot; &quot;\n&quot;, &quot;vmxnet3&quot;, __func__, lidx); } } while (0)" data-ref="_M/VMW_IRPRN">VMW_IRPRN</a>(<q>"Deasserting line for interrupt %u"</q>, <a class="local col4 ref" href="#94lidx" title='lidx' data-ref="94lidx">lidx</a>);</td></tr>
<tr><th id="395">395</th><td>    <a class="ref" href="../../include/hw/pci/pci.h.html#pci_irq_deassert" title='pci_irq_deassert' data-ref="pci_irq_deassert">pci_irq_deassert</a>(<a class="local col5 ref" href="#95d" title='d' data-ref="95d">d</a>);</td></tr>
<tr><th id="396">396</th><td>}</td></tr>
<tr><th id="397">397</th><td></td></tr>
<tr><th id="398">398</th><td><em>static</em> <em>void</em> <dfn class="tu decl def" id="vmxnet3_update_interrupt_line_state" title='vmxnet3_update_interrupt_line_state' data-type='void vmxnet3_update_interrupt_line_state(VMXNET3State * s, int lidx)' data-ref="vmxnet3_update_interrupt_line_state">vmxnet3_update_interrupt_line_state</dfn>(<a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a> *<dfn class="local col6 decl" id="96s" title='s' data-type='VMXNET3State *' data-ref="96s">s</dfn>, <em>int</em> <dfn class="local col7 decl" id="97lidx" title='lidx' data-type='int' data-ref="97lidx">lidx</dfn>)</td></tr>
<tr><th id="399">399</th><td>{</td></tr>
<tr><th id="400">400</th><td>    <b>if</b> (!<a class="local col6 ref" href="#96s" title='s' data-ref="96s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::interrupt_states" title='(anonymous struct)::interrupt_states' data-use='m' data-ref="(anonymous)::interrupt_states">interrupt_states</a>[<a class="local col7 ref" href="#97lidx" title='lidx' data-ref="97lidx">lidx</a>].<a class="tu ref" href="#(anonymous)::is_pending" title='(anonymous struct)::is_pending' data-use='r' data-ref="(anonymous)::is_pending">is_pending</a> &amp;&amp;</td></tr>
<tr><th id="401">401</th><td>       <a class="local col6 ref" href="#96s" title='s' data-ref="96s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::interrupt_states" title='(anonymous struct)::interrupt_states' data-use='m' data-ref="(anonymous)::interrupt_states">interrupt_states</a>[<a class="local col7 ref" href="#97lidx" title='lidx' data-ref="97lidx">lidx</a>].<a class="tu ref" href="#(anonymous)::is_asserted" title='(anonymous struct)::is_asserted' data-use='r' data-ref="(anonymous)::is_asserted">is_asserted</a>) {</td></tr>
<tr><th id="402">402</th><td>        <a class="macro" href="vmxnet_debug.h.html#121" title="do { if (0) { printf(&quot;[%s][IR][%s]: &quot; &quot;New interrupt line state for index %d is DOWN&quot; &quot;\n&quot;, &quot;vmxnet3&quot;, __func__, lidx); } } while (0)" data-ref="_M/VMW_IRPRN">VMW_IRPRN</a>(<q>"New interrupt line state for index %d is DOWN"</q>, <a class="local col7 ref" href="#97lidx" title='lidx' data-ref="97lidx">lidx</a>);</td></tr>
<tr><th id="403">403</th><td>        <a class="tu ref" href="#_vmxnet3_deassert_interrupt_line" title='_vmxnet3_deassert_interrupt_line' data-use='c' data-ref="_vmxnet3_deassert_interrupt_line">_vmxnet3_deassert_interrupt_line</a>(<a class="local col6 ref" href="#96s" title='s' data-ref="96s">s</a>, <a class="local col7 ref" href="#97lidx" title='lidx' data-ref="97lidx">lidx</a>);</td></tr>
<tr><th id="404">404</th><td>        <a class="local col6 ref" href="#96s" title='s' data-ref="96s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::interrupt_states" title='(anonymous struct)::interrupt_states' data-use='m' data-ref="(anonymous)::interrupt_states">interrupt_states</a>[<a class="local col7 ref" href="#97lidx" title='lidx' data-ref="97lidx">lidx</a>].<a class="tu ref" href="#(anonymous)::is_asserted" title='(anonymous struct)::is_asserted' data-use='w' data-ref="(anonymous)::is_asserted">is_asserted</a> = <span class="macro" title="0" data-ref="_M/false">false</span>;</td></tr>
<tr><th id="405">405</th><td>        <b>return</b>;</td></tr>
<tr><th id="406">406</th><td>    }</td></tr>
<tr><th id="407">407</th><td></td></tr>
<tr><th id="408">408</th><td>    <b>if</b> (<a class="local col6 ref" href="#96s" title='s' data-ref="96s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::interrupt_states" title='(anonymous struct)::interrupt_states' data-use='m' data-ref="(anonymous)::interrupt_states">interrupt_states</a>[<a class="local col7 ref" href="#97lidx" title='lidx' data-ref="97lidx">lidx</a>].<a class="tu ref" href="#(anonymous)::is_pending" title='(anonymous struct)::is_pending' data-use='r' data-ref="(anonymous)::is_pending">is_pending</a> &amp;&amp;</td></tr>
<tr><th id="409">409</th><td>       !<a class="local col6 ref" href="#96s" title='s' data-ref="96s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::interrupt_states" title='(anonymous struct)::interrupt_states' data-use='m' data-ref="(anonymous)::interrupt_states">interrupt_states</a>[<a class="local col7 ref" href="#97lidx" title='lidx' data-ref="97lidx">lidx</a>].<a class="tu ref" href="#(anonymous)::is_masked" title='(anonymous struct)::is_masked' data-use='r' data-ref="(anonymous)::is_masked">is_masked</a> &amp;&amp;</td></tr>
<tr><th id="410">410</th><td>       !<a class="local col6 ref" href="#96s" title='s' data-ref="96s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::interrupt_states" title='(anonymous struct)::interrupt_states' data-use='m' data-ref="(anonymous)::interrupt_states">interrupt_states</a>[<a class="local col7 ref" href="#97lidx" title='lidx' data-ref="97lidx">lidx</a>].<a class="tu ref" href="#(anonymous)::is_asserted" title='(anonymous struct)::is_asserted' data-use='r' data-ref="(anonymous)::is_asserted">is_asserted</a>) {</td></tr>
<tr><th id="411">411</th><td>        <a class="macro" href="vmxnet_debug.h.html#121" title="do { if (0) { printf(&quot;[%s][IR][%s]: &quot; &quot;New interrupt line state for index %d is UP&quot; &quot;\n&quot;, &quot;vmxnet3&quot;, __func__, lidx); } } while (0)" data-ref="_M/VMW_IRPRN">VMW_IRPRN</a>(<q>"New interrupt line state for index %d is UP"</q>, <a class="local col7 ref" href="#97lidx" title='lidx' data-ref="97lidx">lidx</a>);</td></tr>
<tr><th id="412">412</th><td>        <a class="local col6 ref" href="#96s" title='s' data-ref="96s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::interrupt_states" title='(anonymous struct)::interrupt_states' data-use='m' data-ref="(anonymous)::interrupt_states">interrupt_states</a>[<a class="local col7 ref" href="#97lidx" title='lidx' data-ref="97lidx">lidx</a>].<a class="tu ref" href="#(anonymous)::is_asserted" title='(anonymous struct)::is_asserted' data-use='w' data-ref="(anonymous)::is_asserted">is_asserted</a> =</td></tr>
<tr><th id="413">413</th><td>            <a class="tu ref" href="#_vmxnet3_assert_interrupt_line" title='_vmxnet3_assert_interrupt_line' data-use='c' data-ref="_vmxnet3_assert_interrupt_line">_vmxnet3_assert_interrupt_line</a>(<a class="local col6 ref" href="#96s" title='s' data-ref="96s">s</a>, <a class="local col7 ref" href="#97lidx" title='lidx' data-ref="97lidx">lidx</a>);</td></tr>
<tr><th id="414">414</th><td>        <a class="local col6 ref" href="#96s" title='s' data-ref="96s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::interrupt_states" title='(anonymous struct)::interrupt_states' data-use='m' data-ref="(anonymous)::interrupt_states">interrupt_states</a>[<a class="local col7 ref" href="#97lidx" title='lidx' data-ref="97lidx">lidx</a>].<a class="tu ref" href="#(anonymous)::is_pending" title='(anonymous struct)::is_pending' data-use='w' data-ref="(anonymous)::is_pending">is_pending</a> = <span class="macro" title="0" data-ref="_M/false">false</span>;</td></tr>
<tr><th id="415">415</th><td>        <b>return</b>;</td></tr>
<tr><th id="416">416</th><td>    }</td></tr>
<tr><th id="417">417</th><td>}</td></tr>
<tr><th id="418">418</th><td></td></tr>
<tr><th id="419">419</th><td><em>static</em> <em>void</em> <dfn class="tu decl def" id="vmxnet3_trigger_interrupt" title='vmxnet3_trigger_interrupt' data-type='void vmxnet3_trigger_interrupt(VMXNET3State * s, int lidx)' data-ref="vmxnet3_trigger_interrupt">vmxnet3_trigger_interrupt</dfn>(<a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a> *<dfn class="local col8 decl" id="98s" title='s' data-type='VMXNET3State *' data-ref="98s">s</dfn>, <em>int</em> <dfn class="local col9 decl" id="99lidx" title='lidx' data-type='int' data-ref="99lidx">lidx</dfn>)</td></tr>
<tr><th id="420">420</th><td>{</td></tr>
<tr><th id="421">421</th><td>    <a class="typedef" href="../../include/qemu/typedefs.h.html#PCIDevice" title='PCIDevice' data-type='struct PCIDevice' data-ref="PCIDevice">PCIDevice</a> *<dfn class="local col0 decl" id="100d" title='d' data-type='PCIDevice *' data-ref="100d">d</dfn> = <a class="macro" href="../../include/hw/pci/pci.h.html#191" title="((PCIDevice *)object_dynamic_cast_assert(((Object *)((s))), (&quot;pci-device&quot;), &quot;/home/jon/workspace/qemu/hw/net/vmxnet3.c&quot;, 421, __func__))" data-ref="_M/PCI_DEVICE">PCI_DEVICE</a>(<a class="local col8 ref" href="#98s" title='s' data-ref="98s">s</a>);</td></tr>
<tr><th id="422">422</th><td>    <a class="local col8 ref" href="#98s" title='s' data-ref="98s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::interrupt_states" title='(anonymous struct)::interrupt_states' data-use='m' data-ref="(anonymous)::interrupt_states">interrupt_states</a>[<a class="local col9 ref" href="#99lidx" title='lidx' data-ref="99lidx">lidx</a>].<a class="tu ref" href="#(anonymous)::is_pending" title='(anonymous struct)::is_pending' data-use='w' data-ref="(anonymous)::is_pending">is_pending</a> = <span class="macro" title="1" data-ref="_M/true">true</span>;</td></tr>
<tr><th id="423">423</th><td>    <a class="tu ref" href="#vmxnet3_update_interrupt_line_state" title='vmxnet3_update_interrupt_line_state' data-use='c' data-ref="vmxnet3_update_interrupt_line_state">vmxnet3_update_interrupt_line_state</a>(<a class="local col8 ref" href="#98s" title='s' data-ref="98s">s</a>, <a class="local col9 ref" href="#99lidx" title='lidx' data-ref="99lidx">lidx</a>);</td></tr>
<tr><th id="424">424</th><td></td></tr>
<tr><th id="425">425</th><td>    <b>if</b> (<a class="local col8 ref" href="#98s" title='s' data-ref="98s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::msix_used" title='(anonymous struct)::msix_used' data-use='r' data-ref="(anonymous)::msix_used">msix_used</a> &amp;&amp; <a class="ref" href="../../include/hw/pci/msix.h.html#msix_enabled" title='msix_enabled' data-ref="msix_enabled">msix_enabled</a>(<a class="local col0 ref" href="#100d" title='d' data-ref="100d">d</a>) &amp;&amp; <a class="local col8 ref" href="#98s" title='s' data-ref="98s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::auto_int_masking" title='(anonymous struct)::auto_int_masking' data-use='r' data-ref="(anonymous)::auto_int_masking">auto_int_masking</a>) {</td></tr>
<tr><th id="426">426</th><td>        <b>goto</b> <a class="lbl" href="#101do_automask" data-ref="101do_automask">do_automask</a>;</td></tr>
<tr><th id="427">427</th><td>    }</td></tr>
<tr><th id="428">428</th><td></td></tr>
<tr><th id="429">429</th><td>    <b>if</b> (<a class="ref" href="../../include/hw/pci/msi.h.html#msi_enabled" title='msi_enabled' data-ref="msi_enabled">msi_enabled</a>(<a class="local col0 ref" href="#100d" title='d' data-ref="100d">d</a>) &amp;&amp; <a class="local col8 ref" href="#98s" title='s' data-ref="98s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::auto_int_masking" title='(anonymous struct)::auto_int_masking' data-use='r' data-ref="(anonymous)::auto_int_masking">auto_int_masking</a>) {</td></tr>
<tr><th id="430">430</th><td>        <b>goto</b> <a class="lbl" href="#101do_automask" data-ref="101do_automask">do_automask</a>;</td></tr>
<tr><th id="431">431</th><td>    }</td></tr>
<tr><th id="432">432</th><td></td></tr>
<tr><th id="433">433</th><td>    <b>return</b>;</td></tr>
<tr><th id="434">434</th><td></td></tr>
<tr><th id="435">435</th><td><dfn class="lbl" id="101do_automask" data-ref="101do_automask">do_automask</dfn>:</td></tr>
<tr><th id="436">436</th><td>    <a class="local col8 ref" href="#98s" title='s' data-ref="98s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::interrupt_states" title='(anonymous struct)::interrupt_states' data-use='m' data-ref="(anonymous)::interrupt_states">interrupt_states</a>[<a class="local col9 ref" href="#99lidx" title='lidx' data-ref="99lidx">lidx</a>].<a class="tu ref" href="#(anonymous)::is_masked" title='(anonymous struct)::is_masked' data-use='w' data-ref="(anonymous)::is_masked">is_masked</a> = <span class="macro" title="1" data-ref="_M/true">true</span>;</td></tr>
<tr><th id="437">437</th><td>    <a class="tu ref" href="#vmxnet3_update_interrupt_line_state" title='vmxnet3_update_interrupt_line_state' data-use='c' data-ref="vmxnet3_update_interrupt_line_state">vmxnet3_update_interrupt_line_state</a>(<a class="local col8 ref" href="#98s" title='s' data-ref="98s">s</a>, <a class="local col9 ref" href="#99lidx" title='lidx' data-ref="99lidx">lidx</a>);</td></tr>
<tr><th id="438">438</th><td>}</td></tr>
<tr><th id="439">439</th><td></td></tr>
<tr><th id="440">440</th><td><em>static</em> <span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="tu decl def" id="vmxnet3_interrupt_asserted" title='vmxnet3_interrupt_asserted' data-type='_Bool vmxnet3_interrupt_asserted(VMXNET3State * s, int lidx)' data-ref="vmxnet3_interrupt_asserted">vmxnet3_interrupt_asserted</dfn>(<a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a> *<dfn class="local col2 decl" id="102s" title='s' data-type='VMXNET3State *' data-ref="102s">s</dfn>, <em>int</em> <dfn class="local col3 decl" id="103lidx" title='lidx' data-type='int' data-ref="103lidx">lidx</dfn>)</td></tr>
<tr><th id="441">441</th><td>{</td></tr>
<tr><th id="442">442</th><td>    <b>return</b> <a class="local col2 ref" href="#102s" title='s' data-ref="102s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::interrupt_states" title='(anonymous struct)::interrupt_states' data-use='m' data-ref="(anonymous)::interrupt_states">interrupt_states</a>[<a class="local col3 ref" href="#103lidx" title='lidx' data-ref="103lidx">lidx</a>].<a class="tu ref" href="#(anonymous)::is_asserted" title='(anonymous struct)::is_asserted' data-use='r' data-ref="(anonymous)::is_asserted">is_asserted</a>;</td></tr>
<tr><th id="443">443</th><td>}</td></tr>
<tr><th id="444">444</th><td></td></tr>
<tr><th id="445">445</th><td><em>static</em> <em>void</em> <dfn class="tu decl def" id="vmxnet3_clear_interrupt" title='vmxnet3_clear_interrupt' data-type='void vmxnet3_clear_interrupt(VMXNET3State * s, int int_idx)' data-ref="vmxnet3_clear_interrupt">vmxnet3_clear_interrupt</dfn>(<a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a> *<dfn class="local col4 decl" id="104s" title='s' data-type='VMXNET3State *' data-ref="104s">s</dfn>, <em>int</em> <dfn class="local col5 decl" id="105int_idx" title='int_idx' data-type='int' data-ref="105int_idx">int_idx</dfn>)</td></tr>
<tr><th id="446">446</th><td>{</td></tr>
<tr><th id="447">447</th><td>    <a class="local col4 ref" href="#104s" title='s' data-ref="104s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::interrupt_states" title='(anonymous struct)::interrupt_states' data-use='m' data-ref="(anonymous)::interrupt_states">interrupt_states</a>[<a class="local col5 ref" href="#105int_idx" title='int_idx' data-ref="105int_idx">int_idx</a>].<a class="tu ref" href="#(anonymous)::is_pending" title='(anonymous struct)::is_pending' data-use='w' data-ref="(anonymous)::is_pending">is_pending</a> = <span class="macro" title="0" data-ref="_M/false">false</span>;</td></tr>
<tr><th id="448">448</th><td>    <b>if</b> (<a class="local col4 ref" href="#104s" title='s' data-ref="104s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::auto_int_masking" title='(anonymous struct)::auto_int_masking' data-use='r' data-ref="(anonymous)::auto_int_masking">auto_int_masking</a>) {</td></tr>
<tr><th id="449">449</th><td>        <a class="local col4 ref" href="#104s" title='s' data-ref="104s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::interrupt_states" title='(anonymous struct)::interrupt_states' data-use='m' data-ref="(anonymous)::interrupt_states">interrupt_states</a>[<a class="local col5 ref" href="#105int_idx" title='int_idx' data-ref="105int_idx">int_idx</a>].<a class="tu ref" href="#(anonymous)::is_masked" title='(anonymous struct)::is_masked' data-use='w' data-ref="(anonymous)::is_masked">is_masked</a> = <span class="macro" title="1" data-ref="_M/true">true</span>;</td></tr>
<tr><th id="450">450</th><td>    }</td></tr>
<tr><th id="451">451</th><td>    <a class="tu ref" href="#vmxnet3_update_interrupt_line_state" title='vmxnet3_update_interrupt_line_state' data-use='c' data-ref="vmxnet3_update_interrupt_line_state">vmxnet3_update_interrupt_line_state</a>(<a class="local col4 ref" href="#104s" title='s' data-ref="104s">s</a>, <a class="local col5 ref" href="#105int_idx" title='int_idx' data-ref="105int_idx">int_idx</a>);</td></tr>
<tr><th id="452">452</th><td>}</td></tr>
<tr><th id="453">453</th><td></td></tr>
<tr><th id="454">454</th><td><em>static</em> <em>void</em></td></tr>
<tr><th id="455">455</th><td><dfn class="tu decl def" id="vmxnet3_on_interrupt_mask_changed" title='vmxnet3_on_interrupt_mask_changed' data-type='void vmxnet3_on_interrupt_mask_changed(VMXNET3State * s, int lidx, _Bool is_masked)' data-ref="vmxnet3_on_interrupt_mask_changed">vmxnet3_on_interrupt_mask_changed</dfn>(<a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a> *<dfn class="local col6 decl" id="106s" title='s' data-type='VMXNET3State *' data-ref="106s">s</dfn>, <em>int</em> <dfn class="local col7 decl" id="107lidx" title='lidx' data-type='int' data-ref="107lidx">lidx</dfn>, <span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="local col8 decl" id="108is_masked" title='is_masked' data-type='_Bool' data-ref="108is_masked">is_masked</dfn>)</td></tr>
<tr><th id="456">456</th><td>{</td></tr>
<tr><th id="457">457</th><td>    <a class="local col6 ref" href="#106s" title='s' data-ref="106s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::interrupt_states" title='(anonymous struct)::interrupt_states' data-use='m' data-ref="(anonymous)::interrupt_states">interrupt_states</a>[<a class="local col7 ref" href="#107lidx" title='lidx' data-ref="107lidx">lidx</a>].<a class="tu ref" href="#(anonymous)::is_masked" title='(anonymous struct)::is_masked' data-use='w' data-ref="(anonymous)::is_masked">is_masked</a> = <a class="local col8 ref" href="#108is_masked" title='is_masked' data-ref="108is_masked">is_masked</a>;</td></tr>
<tr><th id="458">458</th><td>    <a class="tu ref" href="#vmxnet3_update_interrupt_line_state" title='vmxnet3_update_interrupt_line_state' data-use='c' data-ref="vmxnet3_update_interrupt_line_state">vmxnet3_update_interrupt_line_state</a>(<a class="local col6 ref" href="#106s" title='s' data-ref="106s">s</a>, <a class="local col7 ref" href="#107lidx" title='lidx' data-ref="107lidx">lidx</a>);</td></tr>
<tr><th id="459">459</th><td>}</td></tr>
<tr><th id="460">460</th><td></td></tr>
<tr><th id="461">461</th><td><em>static</em> <span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="tu decl def" id="vmxnet3_verify_driver_magic" title='vmxnet3_verify_driver_magic' data-type='_Bool vmxnet3_verify_driver_magic(PCIDevice * d, hwaddr dshmem)' data-ref="vmxnet3_verify_driver_magic">vmxnet3_verify_driver_magic</dfn>(<a class="typedef" href="../../include/qemu/typedefs.h.html#PCIDevice" title='PCIDevice' data-type='struct PCIDevice' data-ref="PCIDevice">PCIDevice</a> *<dfn class="local col9 decl" id="109d" title='d' data-type='PCIDevice *' data-ref="109d">d</dfn>, <a class="typedef" href="../../include/exec/hwaddr.h.html#hwaddr" title='hwaddr' data-type='uint64_t' data-ref="hwaddr">hwaddr</a> <dfn class="local col0 decl" id="110dshmem" title='dshmem' data-type='hwaddr' data-ref="110dshmem">dshmem</dfn>)</td></tr>
<tr><th id="462">462</th><td>{</td></tr>
<tr><th id="463">463</th><td>    <b>return</b> (<a class="macro" href="#112" title="(vmw_shmem_ld32(d, dshmem + __builtin_offsetof(struct Vmxnet3_DriverShared, magic)))" data-ref="_M/VMXNET3_READ_DRV_SHARED32">VMXNET3_READ_DRV_SHARED32</a>(<a class="local col9 ref" href="#109d" title='d' data-ref="109d">d</a>, <a class="local col0 ref" href="#110dshmem" title='dshmem' data-ref="110dshmem">dshmem</a>, magic) == <a class="macro" href="vmxnet3.h.html#514" title="0xbabefee1" data-ref="_M/VMXNET3_REV1_MAGIC">VMXNET3_REV1_MAGIC</a>);</td></tr>
<tr><th id="464">464</th><td>}</td></tr>
<tr><th id="465">465</th><td></td></tr>
<tr><th id="466">466</th><td><u>#define <dfn class="macro" id="_M/VMXNET3_GET_BYTE" data-ref="_M/VMXNET3_GET_BYTE">VMXNET3_GET_BYTE</dfn>(x, byte_num) (((x) &gt;&gt; (byte_num)*8) &amp; 0xFF)</u></td></tr>
<tr><th id="467">467</th><td><u>#define <dfn class="macro" id="_M/VMXNET3_MAKE_BYTE" data-ref="_M/VMXNET3_MAKE_BYTE">VMXNET3_MAKE_BYTE</dfn>(byte_num, val) \</u></td></tr>
<tr><th id="468">468</th><td><u>    (((<a class="typedef" href="../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a>)((val) &amp; 0xFF)) &lt;&lt; (byte_num)*8)</u></td></tr>
<tr><th id="469">469</th><td></td></tr>
<tr><th id="470">470</th><td><em>static</em> <em>void</em> <dfn class="tu decl def" id="vmxnet3_set_variable_mac" title='vmxnet3_set_variable_mac' data-type='void vmxnet3_set_variable_mac(VMXNET3State * s, uint32_t h, uint32_t l)' data-ref="vmxnet3_set_variable_mac">vmxnet3_set_variable_mac</dfn>(<a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a> *<dfn class="local col1 decl" id="111s" title='s' data-type='VMXNET3State *' data-ref="111s">s</dfn>, <a class="typedef" href="../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> <dfn class="local col2 decl" id="112h" title='h' data-type='uint32_t' data-ref="112h">h</dfn>, <a class="typedef" href="../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> <dfn class="local col3 decl" id="113l" title='l' data-type='uint32_t' data-ref="113l">l</dfn>)</td></tr>
<tr><th id="471">471</th><td>{</td></tr>
<tr><th id="472">472</th><td>    <a class="local col1 ref" href="#111s" title='s' data-ref="111s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::conf" title='(anonymous struct)::conf' data-use='m' data-ref="(anonymous)::conf">conf</a>.<a class="ref" href="../../include/net/net.h.html#NICConf::macaddr" title='NICConf::macaddr' data-ref="NICConf::macaddr">macaddr</a>.<a class="ref" href="../../include/net/net.h.html#MACAddr::a" title='MACAddr::a' data-ref="MACAddr::a">a</a>[<var>0</var>] = <a class="macro" href="#466" title="(((l) &gt;&gt; (0)*8) &amp; 0xFF)" data-ref="_M/VMXNET3_GET_BYTE">VMXNET3_GET_BYTE</a>(<a class="local col3 ref" href="#113l" title='l' data-ref="113l">l</a>,  <var>0</var>);</td></tr>
<tr><th id="473">473</th><td>    <a class="local col1 ref" href="#111s" title='s' data-ref="111s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::conf" title='(anonymous struct)::conf' data-use='m' data-ref="(anonymous)::conf">conf</a>.<a class="ref" href="../../include/net/net.h.html#NICConf::macaddr" title='NICConf::macaddr' data-ref="NICConf::macaddr">macaddr</a>.<a class="ref" href="../../include/net/net.h.html#MACAddr::a" title='MACAddr::a' data-ref="MACAddr::a">a</a>[<var>1</var>] = <a class="macro" href="#466" title="(((l) &gt;&gt; (1)*8) &amp; 0xFF)" data-ref="_M/VMXNET3_GET_BYTE">VMXNET3_GET_BYTE</a>(<a class="local col3 ref" href="#113l" title='l' data-ref="113l">l</a>,  <var>1</var>);</td></tr>
<tr><th id="474">474</th><td>    <a class="local col1 ref" href="#111s" title='s' data-ref="111s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::conf" title='(anonymous struct)::conf' data-use='m' data-ref="(anonymous)::conf">conf</a>.<a class="ref" href="../../include/net/net.h.html#NICConf::macaddr" title='NICConf::macaddr' data-ref="NICConf::macaddr">macaddr</a>.<a class="ref" href="../../include/net/net.h.html#MACAddr::a" title='MACAddr::a' data-ref="MACAddr::a">a</a>[<var>2</var>] = <a class="macro" href="#466" title="(((l) &gt;&gt; (2)*8) &amp; 0xFF)" data-ref="_M/VMXNET3_GET_BYTE">VMXNET3_GET_BYTE</a>(<a class="local col3 ref" href="#113l" title='l' data-ref="113l">l</a>,  <var>2</var>);</td></tr>
<tr><th id="475">475</th><td>    <a class="local col1 ref" href="#111s" title='s' data-ref="111s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::conf" title='(anonymous struct)::conf' data-use='m' data-ref="(anonymous)::conf">conf</a>.<a class="ref" href="../../include/net/net.h.html#NICConf::macaddr" title='NICConf::macaddr' data-ref="NICConf::macaddr">macaddr</a>.<a class="ref" href="../../include/net/net.h.html#MACAddr::a" title='MACAddr::a' data-ref="MACAddr::a">a</a>[<var>3</var>] = <a class="macro" href="#466" title="(((l) &gt;&gt; (3)*8) &amp; 0xFF)" data-ref="_M/VMXNET3_GET_BYTE">VMXNET3_GET_BYTE</a>(<a class="local col3 ref" href="#113l" title='l' data-ref="113l">l</a>,  <var>3</var>);</td></tr>
<tr><th id="476">476</th><td>    <a class="local col1 ref" href="#111s" title='s' data-ref="111s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::conf" title='(anonymous struct)::conf' data-use='m' data-ref="(anonymous)::conf">conf</a>.<a class="ref" href="../../include/net/net.h.html#NICConf::macaddr" title='NICConf::macaddr' data-ref="NICConf::macaddr">macaddr</a>.<a class="ref" href="../../include/net/net.h.html#MACAddr::a" title='MACAddr::a' data-ref="MACAddr::a">a</a>[<var>4</var>] = <a class="macro" href="#466" title="(((h) &gt;&gt; (0)*8) &amp; 0xFF)" data-ref="_M/VMXNET3_GET_BYTE">VMXNET3_GET_BYTE</a>(<a class="local col2 ref" href="#112h" title='h' data-ref="112h">h</a>, <var>0</var>);</td></tr>
<tr><th id="477">477</th><td>    <a class="local col1 ref" href="#111s" title='s' data-ref="111s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::conf" title='(anonymous struct)::conf' data-use='m' data-ref="(anonymous)::conf">conf</a>.<a class="ref" href="../../include/net/net.h.html#NICConf::macaddr" title='NICConf::macaddr' data-ref="NICConf::macaddr">macaddr</a>.<a class="ref" href="../../include/net/net.h.html#MACAddr::a" title='MACAddr::a' data-ref="MACAddr::a">a</a>[<var>5</var>] = <a class="macro" href="#466" title="(((h) &gt;&gt; (1)*8) &amp; 0xFF)" data-ref="_M/VMXNET3_GET_BYTE">VMXNET3_GET_BYTE</a>(<a class="local col2 ref" href="#112h" title='h' data-ref="112h">h</a>, <var>1</var>);</td></tr>
<tr><th id="478">478</th><td></td></tr>
<tr><th id="479">479</th><td>    <a class="macro" href="vmxnet_debug.h.html#129" title="do { if (0) { printf(&quot;[%s][CF][%s]: &quot; &quot;Variable MAC: &quot; &quot;%02X:%02X:%02X:%02X:%02X:%02X&quot; &quot;\n&quot;, &quot;vmxnet3&quot;, __func__, ((uint8_t *)(s-&gt;conf.macaddr.a))[0], ((uint8_t *)(s-&gt;conf.macaddr.a))[1], ((uint8_t *)(s-&gt;conf.macaddr.a))[2], ((uint8_t *)(s-&gt;conf.macaddr.a))[3], ((uint8_t *)(s-&gt;conf.macaddr.a))[4], ((uint8_t *)(s-&gt;conf.macaddr.a))[5]); } } while (0)" data-ref="_M/VMW_CFPRN">VMW_CFPRN</a>(<q>"Variable MAC: "</q> <a class="macro" href="../../include/net/net.h.html#12" title="&quot;%02X:%02X:%02X:%02X:%02X:%02X&quot;" data-ref="_M/MAC_FMT">MAC_FMT</a>, MAC_ARG(<a class="local col1 ref" href="#111s" title='s' data-ref="111s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::conf" title='(anonymous struct)::conf' data-use='m' data-ref="(anonymous)::conf">conf</a>.<a class="ref" href="../../include/net/net.h.html#NICConf::macaddr" title='NICConf::macaddr' data-ref="NICConf::macaddr">macaddr</a>.<a class="ref" href="../../include/net/net.h.html#MACAddr::a" title='MACAddr::a' data-ref="MACAddr::a">a</a>));</td></tr>
<tr><th id="480">480</th><td></td></tr>
<tr><th id="481">481</th><td>    <a class="ref" href="../../include/net/net.h.html#qemu_format_nic_info_str" title='qemu_format_nic_info_str' data-ref="qemu_format_nic_info_str">qemu_format_nic_info_str</a>(<a class="ref" href="../../include/net/net.h.html#qemu_get_queue" title='qemu_get_queue' data-ref="qemu_get_queue">qemu_get_queue</a>(<a class="local col1 ref" href="#111s" title='s' data-ref="111s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::nic" title='(anonymous struct)::nic' data-use='r' data-ref="(anonymous)::nic">nic</a>), <a class="local col1 ref" href="#111s" title='s' data-ref="111s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::conf" title='(anonymous struct)::conf' data-use='m' data-ref="(anonymous)::conf">conf</a>.<a class="ref" href="../../include/net/net.h.html#NICConf::macaddr" title='NICConf::macaddr' data-ref="NICConf::macaddr">macaddr</a>.<a class="ref" href="../../include/net/net.h.html#MACAddr::a" title='MACAddr::a' data-ref="MACAddr::a">a</a>);</td></tr>
<tr><th id="482">482</th><td>}</td></tr>
<tr><th id="483">483</th><td></td></tr>
<tr><th id="484">484</th><td><em>static</em> <a class="typedef" href="../../../include/stdint.h.html#uint64_t" title='uint64_t' data-type='unsigned long' data-ref="uint64_t">uint64_t</a> <dfn class="tu decl def" id="vmxnet3_get_mac_low" title='vmxnet3_get_mac_low' data-type='uint64_t vmxnet3_get_mac_low(MACAddr * addr)' data-ref="vmxnet3_get_mac_low">vmxnet3_get_mac_low</dfn>(<a class="typedef" href="../../include/qemu/typedefs.h.html#MACAddr" title='MACAddr' data-type='struct MACAddr' data-ref="MACAddr">MACAddr</a> *<dfn class="local col4 decl" id="114addr" title='addr' data-type='MACAddr *' data-ref="114addr">addr</dfn>)</td></tr>
<tr><th id="485">485</th><td>{</td></tr>
<tr><th id="486">486</th><td>    <b>return</b> <a class="macro" href="#467" title="(((uint32_t)((addr-&gt;a[0]) &amp; 0xFF)) &lt;&lt; (0)*8)" data-ref="_M/VMXNET3_MAKE_BYTE">VMXNET3_MAKE_BYTE</a>(<var>0</var>, <a class="local col4 ref" href="#114addr" title='addr' data-ref="114addr">addr</a>-&gt;<a class="ref" href="../../include/net/net.h.html#MACAddr::a" title='MACAddr::a' data-ref="MACAddr::a">a</a>[<var>0</var>]) |</td></tr>
<tr><th id="487">487</th><td>           <a class="macro" href="#467" title="(((uint32_t)((addr-&gt;a[1]) &amp; 0xFF)) &lt;&lt; (1)*8)" data-ref="_M/VMXNET3_MAKE_BYTE">VMXNET3_MAKE_BYTE</a>(<var>1</var>, <a class="local col4 ref" href="#114addr" title='addr' data-ref="114addr">addr</a>-&gt;<a class="ref" href="../../include/net/net.h.html#MACAddr::a" title='MACAddr::a' data-ref="MACAddr::a">a</a>[<var>1</var>]) |</td></tr>
<tr><th id="488">488</th><td>           <a class="macro" href="#467" title="(((uint32_t)((addr-&gt;a[2]) &amp; 0xFF)) &lt;&lt; (2)*8)" data-ref="_M/VMXNET3_MAKE_BYTE">VMXNET3_MAKE_BYTE</a>(<var>2</var>, <a class="local col4 ref" href="#114addr" title='addr' data-ref="114addr">addr</a>-&gt;<a class="ref" href="../../include/net/net.h.html#MACAddr::a" title='MACAddr::a' data-ref="MACAddr::a">a</a>[<var>2</var>]) |</td></tr>
<tr><th id="489">489</th><td>           <a class="macro" href="#467" title="(((uint32_t)((addr-&gt;a[3]) &amp; 0xFF)) &lt;&lt; (3)*8)" data-ref="_M/VMXNET3_MAKE_BYTE">VMXNET3_MAKE_BYTE</a>(<var>3</var>, <a class="local col4 ref" href="#114addr" title='addr' data-ref="114addr">addr</a>-&gt;<a class="ref" href="../../include/net/net.h.html#MACAddr::a" title='MACAddr::a' data-ref="MACAddr::a">a</a>[<var>3</var>]);</td></tr>
<tr><th id="490">490</th><td>}</td></tr>
<tr><th id="491">491</th><td></td></tr>
<tr><th id="492">492</th><td><em>static</em> <a class="typedef" href="../../../include/stdint.h.html#uint64_t" title='uint64_t' data-type='unsigned long' data-ref="uint64_t">uint64_t</a> <dfn class="tu decl def" id="vmxnet3_get_mac_high" title='vmxnet3_get_mac_high' data-type='uint64_t vmxnet3_get_mac_high(MACAddr * addr)' data-ref="vmxnet3_get_mac_high">vmxnet3_get_mac_high</dfn>(<a class="typedef" href="../../include/qemu/typedefs.h.html#MACAddr" title='MACAddr' data-type='struct MACAddr' data-ref="MACAddr">MACAddr</a> *<dfn class="local col5 decl" id="115addr" title='addr' data-type='MACAddr *' data-ref="115addr">addr</dfn>)</td></tr>
<tr><th id="493">493</th><td>{</td></tr>
<tr><th id="494">494</th><td>    <b>return</b> <a class="macro" href="#467" title="(((uint32_t)((addr-&gt;a[4]) &amp; 0xFF)) &lt;&lt; (0)*8)" data-ref="_M/VMXNET3_MAKE_BYTE">VMXNET3_MAKE_BYTE</a>(<var>0</var>, <a class="local col5 ref" href="#115addr" title='addr' data-ref="115addr">addr</a>-&gt;<a class="ref" href="../../include/net/net.h.html#MACAddr::a" title='MACAddr::a' data-ref="MACAddr::a">a</a>[<var>4</var>]) |</td></tr>
<tr><th id="495">495</th><td>           <a class="macro" href="#467" title="(((uint32_t)((addr-&gt;a[5]) &amp; 0xFF)) &lt;&lt; (1)*8)" data-ref="_M/VMXNET3_MAKE_BYTE">VMXNET3_MAKE_BYTE</a>(<var>1</var>, <a class="local col5 ref" href="#115addr" title='addr' data-ref="115addr">addr</a>-&gt;<a class="ref" href="../../include/net/net.h.html#MACAddr::a" title='MACAddr::a' data-ref="MACAddr::a">a</a>[<var>5</var>]);</td></tr>
<tr><th id="496">496</th><td>}</td></tr>
<tr><th id="497">497</th><td></td></tr>
<tr><th id="498">498</th><td><em>static</em> <em>void</em></td></tr>
<tr><th id="499">499</th><td><dfn class="tu decl def" id="vmxnet3_inc_tx_consumption_counter" title='vmxnet3_inc_tx_consumption_counter' data-type='void vmxnet3_inc_tx_consumption_counter(VMXNET3State * s, int qidx)' data-ref="vmxnet3_inc_tx_consumption_counter">vmxnet3_inc_tx_consumption_counter</dfn>(<a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a> *<dfn class="local col6 decl" id="116s" title='s' data-type='VMXNET3State *' data-ref="116s">s</dfn>, <em>int</em> <dfn class="local col7 decl" id="117qidx" title='qidx' data-type='int' data-ref="117qidx">qidx</dfn>)</td></tr>
<tr><th id="500">500</th><td>{</td></tr>
<tr><th id="501">501</th><td>    <a class="tu ref" href="#vmxnet3_ring_inc" title='vmxnet3_ring_inc' data-use='c' data-ref="vmxnet3_ring_inc">vmxnet3_ring_inc</a>(&amp;<a class="local col6 ref" href="#116s" title='s' data-ref="116s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::txq_descr" title='(anonymous struct)::txq_descr' data-use='m' data-ref="(anonymous)::txq_descr">txq_descr</a>[<a class="local col7 ref" href="#117qidx" title='qidx' data-ref="117qidx">qidx</a>].<a class="tu ref" href="#(anonymous)::tx_ring" title='(anonymous struct)::tx_ring' data-use='a' data-ref="(anonymous)::tx_ring">tx_ring</a>);</td></tr>
<tr><th id="502">502</th><td>}</td></tr>
<tr><th id="503">503</th><td></td></tr>
<tr><th id="504">504</th><td><em>static</em> <b>inline</b> <em>void</em></td></tr>
<tr><th id="505">505</th><td><dfn class="tu decl def" id="vmxnet3_inc_rx_consumption_counter" title='vmxnet3_inc_rx_consumption_counter' data-type='void vmxnet3_inc_rx_consumption_counter(VMXNET3State * s, int qidx, int ridx)' data-ref="vmxnet3_inc_rx_consumption_counter">vmxnet3_inc_rx_consumption_counter</dfn>(<a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a> *<dfn class="local col8 decl" id="118s" title='s' data-type='VMXNET3State *' data-ref="118s">s</dfn>, <em>int</em> <dfn class="local col9 decl" id="119qidx" title='qidx' data-type='int' data-ref="119qidx">qidx</dfn>, <em>int</em> <dfn class="local col0 decl" id="120ridx" title='ridx' data-type='int' data-ref="120ridx">ridx</dfn>)</td></tr>
<tr><th id="506">506</th><td>{</td></tr>
<tr><th id="507">507</th><td>    <a class="tu ref" href="#vmxnet3_ring_inc" title='vmxnet3_ring_inc' data-use='c' data-ref="vmxnet3_ring_inc">vmxnet3_ring_inc</a>(&amp;<a class="local col8 ref" href="#118s" title='s' data-ref="118s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::rxq_descr" title='(anonymous struct)::rxq_descr' data-use='m' data-ref="(anonymous)::rxq_descr">rxq_descr</a>[<a class="local col9 ref" href="#119qidx" title='qidx' data-ref="119qidx">qidx</a>].<a class="tu ref" href="#(anonymous)::rx_ring" title='(anonymous struct)::rx_ring' data-use='a' data-ref="(anonymous)::rx_ring">rx_ring</a>[<a class="local col0 ref" href="#120ridx" title='ridx' data-ref="120ridx">ridx</a>]);</td></tr>
<tr><th id="508">508</th><td>}</td></tr>
<tr><th id="509">509</th><td></td></tr>
<tr><th id="510">510</th><td><em>static</em> <b>inline</b> <em>void</em></td></tr>
<tr><th id="511">511</th><td><dfn class="tu decl def" id="vmxnet3_inc_tx_completion_counter" title='vmxnet3_inc_tx_completion_counter' data-type='void vmxnet3_inc_tx_completion_counter(VMXNET3State * s, int qidx)' data-ref="vmxnet3_inc_tx_completion_counter">vmxnet3_inc_tx_completion_counter</dfn>(<a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a> *<dfn class="local col1 decl" id="121s" title='s' data-type='VMXNET3State *' data-ref="121s">s</dfn>, <em>int</em> <dfn class="local col2 decl" id="122qidx" title='qidx' data-type='int' data-ref="122qidx">qidx</dfn>)</td></tr>
<tr><th id="512">512</th><td>{</td></tr>
<tr><th id="513">513</th><td>    <a class="tu ref" href="#vmxnet3_ring_inc" title='vmxnet3_ring_inc' data-use='c' data-ref="vmxnet3_ring_inc">vmxnet3_ring_inc</a>(&amp;<a class="local col1 ref" href="#121s" title='s' data-ref="121s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::txq_descr" title='(anonymous struct)::txq_descr' data-use='m' data-ref="(anonymous)::txq_descr">txq_descr</a>[<a class="local col2 ref" href="#122qidx" title='qidx' data-ref="122qidx">qidx</a>].<a class="tu ref" href="#(anonymous)::comp_ring" title='(anonymous struct)::comp_ring' data-use='a' data-ref="(anonymous)::comp_ring">comp_ring</a>);</td></tr>
<tr><th id="514">514</th><td>}</td></tr>
<tr><th id="515">515</th><td></td></tr>
<tr><th id="516">516</th><td><em>static</em> <em>void</em></td></tr>
<tr><th id="517">517</th><td><dfn class="tu decl def" id="vmxnet3_inc_rx_completion_counter" title='vmxnet3_inc_rx_completion_counter' data-type='void vmxnet3_inc_rx_completion_counter(VMXNET3State * s, int qidx)' data-ref="vmxnet3_inc_rx_completion_counter">vmxnet3_inc_rx_completion_counter</dfn>(<a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a> *<dfn class="local col3 decl" id="123s" title='s' data-type='VMXNET3State *' data-ref="123s">s</dfn>, <em>int</em> <dfn class="local col4 decl" id="124qidx" title='qidx' data-type='int' data-ref="124qidx">qidx</dfn>)</td></tr>
<tr><th id="518">518</th><td>{</td></tr>
<tr><th id="519">519</th><td>    <a class="tu ref" href="#vmxnet3_ring_inc" title='vmxnet3_ring_inc' data-use='c' data-ref="vmxnet3_ring_inc">vmxnet3_ring_inc</a>(&amp;<a class="local col3 ref" href="#123s" title='s' data-ref="123s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::rxq_descr" title='(anonymous struct)::rxq_descr' data-use='m' data-ref="(anonymous)::rxq_descr">rxq_descr</a>[<a class="local col4 ref" href="#124qidx" title='qidx' data-ref="124qidx">qidx</a>].<a class="tu ref" href="#(anonymous)::comp_ring" title='(anonymous struct)::comp_ring' data-use='a' data-ref="(anonymous)::comp_ring">comp_ring</a>);</td></tr>
<tr><th id="520">520</th><td>}</td></tr>
<tr><th id="521">521</th><td></td></tr>
<tr><th id="522">522</th><td><em>static</em> <em>void</em></td></tr>
<tr><th id="523">523</th><td><dfn class="tu decl def" id="vmxnet3_dec_rx_completion_counter" title='vmxnet3_dec_rx_completion_counter' data-type='void vmxnet3_dec_rx_completion_counter(VMXNET3State * s, int qidx)' data-ref="vmxnet3_dec_rx_completion_counter">vmxnet3_dec_rx_completion_counter</dfn>(<a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a> *<dfn class="local col5 decl" id="125s" title='s' data-type='VMXNET3State *' data-ref="125s">s</dfn>, <em>int</em> <dfn class="local col6 decl" id="126qidx" title='qidx' data-type='int' data-ref="126qidx">qidx</dfn>)</td></tr>
<tr><th id="524">524</th><td>{</td></tr>
<tr><th id="525">525</th><td>    <a class="tu ref" href="#vmxnet3_ring_dec" title='vmxnet3_ring_dec' data-use='c' data-ref="vmxnet3_ring_dec">vmxnet3_ring_dec</a>(&amp;<a class="local col5 ref" href="#125s" title='s' data-ref="125s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::rxq_descr" title='(anonymous struct)::rxq_descr' data-use='m' data-ref="(anonymous)::rxq_descr">rxq_descr</a>[<a class="local col6 ref" href="#126qidx" title='qidx' data-ref="126qidx">qidx</a>].<a class="tu ref" href="#(anonymous)::comp_ring" title='(anonymous struct)::comp_ring' data-use='a' data-ref="(anonymous)::comp_ring">comp_ring</a>);</td></tr>
<tr><th id="526">526</th><td>}</td></tr>
<tr><th id="527">527</th><td></td></tr>
<tr><th id="528">528</th><td><em>static</em> <em>void</em> <dfn class="tu decl def" id="vmxnet3_complete_packet" title='vmxnet3_complete_packet' data-type='void vmxnet3_complete_packet(VMXNET3State * s, int qidx, uint32_t tx_ridx)' data-ref="vmxnet3_complete_packet">vmxnet3_complete_packet</dfn>(<a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a> *<dfn class="local col7 decl" id="127s" title='s' data-type='VMXNET3State *' data-ref="127s">s</dfn>, <em>int</em> <dfn class="local col8 decl" id="128qidx" title='qidx' data-type='int' data-ref="128qidx">qidx</dfn>, <a class="typedef" href="../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> <dfn class="local col9 decl" id="129tx_ridx" title='tx_ridx' data-type='uint32_t' data-ref="129tx_ridx">tx_ridx</dfn>)</td></tr>
<tr><th id="529">529</th><td>{</td></tr>
<tr><th id="530">530</th><td>    <b>struct</b> <a class="type" href="vmxnet3.h.html#Vmxnet3_TxCompDesc" title='Vmxnet3_TxCompDesc' data-ref="Vmxnet3_TxCompDesc">Vmxnet3_TxCompDesc</a> <dfn class="local col0 decl" id="130txcq_descr" title='txcq_descr' data-type='struct Vmxnet3_TxCompDesc' data-ref="130txcq_descr">txcq_descr</dfn>;</td></tr>
<tr><th id="531">531</th><td>    <a class="typedef" href="../../include/qemu/typedefs.h.html#PCIDevice" title='PCIDevice' data-type='struct PCIDevice' data-ref="PCIDevice">PCIDevice</a> *<dfn class="local col1 decl" id="131d" title='d' data-type='PCIDevice *' data-ref="131d">d</dfn> = <a class="macro" href="../../include/hw/pci/pci.h.html#191" title="((PCIDevice *)object_dynamic_cast_assert(((Object *)((s))), (&quot;pci-device&quot;), &quot;/home/jon/workspace/qemu/hw/net/vmxnet3.c&quot;, 531, __func__))" data-ref="_M/PCI_DEVICE">PCI_DEVICE</a>(<a class="local col7 ref" href="#127s" title='s' data-ref="127s">s</a>);</td></tr>
<tr><th id="532">532</th><td></td></tr>
<tr><th id="533">533</th><td>    <a class="macro" href="#169" title="do { if (0) { printf(&quot;[%s][RI][%s]: &quot; &quot;%s#%d: base %&quot; &quot;l&quot; &quot;x&quot; &quot; size %u cell_size %u gen %d next %u&quot; &quot;\n&quot;, &quot;vmxnet3&quot;, __func__, (&quot;TXC&quot;), (qidx), (&amp;s-&gt;txq_descr[qidx].comp_ring)-&gt;pa, (&amp;s-&gt;txq_descr[qidx].comp_ring)-&gt;size, (&amp;s-&gt;txq_descr[qidx].comp_ring)-&gt;cell_size, (&amp;s-&gt;txq_descr[qidx].comp_ring)-&gt;gen, (&amp;s-&gt;txq_descr[qidx].comp_ring)-&gt;next); } } while (0)" data-ref="_M/VMXNET3_RING_DUMP">VMXNET3_RING_DUMP</a>(VMW_RIPRN, <q>"TXC"</q>, <a class="local col8 ref" href="#128qidx" title='qidx' data-ref="128qidx">qidx</a>, &amp;<a class="local col7 ref" href="#127s" title='s' data-ref="127s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::txq_descr" title='(anonymous struct)::txq_descr' data-use='m' data-ref="(anonymous)::txq_descr">txq_descr</a>[<a class="local col8 ref" href="#128qidx" title='qidx' data-ref="128qidx">qidx</a>].<a class="tu ref" href="#(anonymous)::comp_ring" title='(anonymous struct)::comp_ring' data-use='a' data-ref="(anonymous)::comp_ring">comp_ring</a>);</td></tr>
<tr><th id="534">534</th><td></td></tr>
<tr><th id="535">535</th><td>    <a class="ref" href="../../../include/string.h.html#memset" title='memset' data-ref="memset">memset</a>(&amp;<a class="local col0 ref" href="#130txcq_descr" title='txcq_descr' data-ref="130txcq_descr">txcq_descr</a>, <var>0</var>, <b>sizeof</b>(<a class="local col0 ref" href="#130txcq_descr" title='txcq_descr' data-ref="130txcq_descr">txcq_descr</a>));</td></tr>
<tr><th id="536">536</th><td>    <a class="local col0 ref" href="#130txcq_descr" title='txcq_descr' data-ref="130txcq_descr">txcq_descr</a>.<a class="ref" href="vmxnet3.h.html#Vmxnet3_TxCompDesc::txdIdx" title='Vmxnet3_TxCompDesc::txdIdx' data-ref="Vmxnet3_TxCompDesc::txdIdx">txdIdx</a> = <a class="local col9 ref" href="#129tx_ridx" title='tx_ridx' data-ref="129tx_ridx">tx_ridx</a>;</td></tr>
<tr><th id="537">537</th><td>    <a class="local col0 ref" href="#130txcq_descr" title='txcq_descr' data-ref="130txcq_descr">txcq_descr</a>.<a class="ref" href="vmxnet3.h.html#Vmxnet3_TxCompDesc::gen" title='Vmxnet3_TxCompDesc::gen' data-ref="Vmxnet3_TxCompDesc::gen">gen</a> = <a class="tu ref" href="#vmxnet3_ring_curr_gen" title='vmxnet3_ring_curr_gen' data-use='c' data-ref="vmxnet3_ring_curr_gen">vmxnet3_ring_curr_gen</a>(&amp;<a class="local col7 ref" href="#127s" title='s' data-ref="127s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::txq_descr" title='(anonymous struct)::txq_descr' data-use='m' data-ref="(anonymous)::txq_descr">txq_descr</a>[<a class="local col8 ref" href="#128qidx" title='qidx' data-ref="128qidx">qidx</a>].<a class="tu ref" href="#(anonymous)::comp_ring" title='(anonymous struct)::comp_ring' data-use='a' data-ref="(anonymous)::comp_ring">comp_ring</a>);</td></tr>
<tr><th id="538">538</th><td></td></tr>
<tr><th id="539">539</th><td>    <a class="tu ref" href="#vmxnet3_ring_write_curr_cell" title='vmxnet3_ring_write_curr_cell' data-use='c' data-ref="vmxnet3_ring_write_curr_cell">vmxnet3_ring_write_curr_cell</a>(<a class="local col1 ref" href="#131d" title='d' data-ref="131d">d</a>, &amp;<a class="local col7 ref" href="#127s" title='s' data-ref="127s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::txq_descr" title='(anonymous struct)::txq_descr' data-use='m' data-ref="(anonymous)::txq_descr">txq_descr</a>[<a class="local col8 ref" href="#128qidx" title='qidx' data-ref="128qidx">qidx</a>].<a class="tu ref" href="#(anonymous)::comp_ring" title='(anonymous struct)::comp_ring' data-use='a' data-ref="(anonymous)::comp_ring">comp_ring</a>, &amp;<a class="local col0 ref" href="#130txcq_descr" title='txcq_descr' data-ref="130txcq_descr">txcq_descr</a>);</td></tr>
<tr><th id="540">540</th><td></td></tr>
<tr><th id="541">541</th><td>    <i>/* Flush changes in TX descriptor before changing the counter value */</i></td></tr>
<tr><th id="542">542</th><td>    <a class="macro" href="../../include/qemu/atomic.h.html#412" title="({ ({ asm volatile(&quot;&quot; ::: &quot;memory&quot;); (void)0; }); __atomic_thread_fence(3); })" data-ref="_M/smp_wmb">smp_wmb</a>();</td></tr>
<tr><th id="543">543</th><td></td></tr>
<tr><th id="544">544</th><td>    <a class="tu ref" href="#vmxnet3_inc_tx_completion_counter" title='vmxnet3_inc_tx_completion_counter' data-use='c' data-ref="vmxnet3_inc_tx_completion_counter">vmxnet3_inc_tx_completion_counter</a>(<a class="local col7 ref" href="#127s" title='s' data-ref="127s">s</a>, <a class="local col8 ref" href="#128qidx" title='qidx' data-ref="128qidx">qidx</a>);</td></tr>
<tr><th id="545">545</th><td>    <a class="tu ref" href="#vmxnet3_trigger_interrupt" title='vmxnet3_trigger_interrupt' data-use='c' data-ref="vmxnet3_trigger_interrupt">vmxnet3_trigger_interrupt</a>(<a class="local col7 ref" href="#127s" title='s' data-ref="127s">s</a>, <a class="local col7 ref" href="#127s" title='s' data-ref="127s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::txq_descr" title='(anonymous struct)::txq_descr' data-use='m' data-ref="(anonymous)::txq_descr">txq_descr</a>[<a class="local col8 ref" href="#128qidx" title='qidx' data-ref="128qidx">qidx</a>].<a class="tu ref" href="#(anonymous)::intr_idx" title='(anonymous struct)::intr_idx' data-use='r' data-ref="(anonymous)::intr_idx">intr_idx</a>);</td></tr>
<tr><th id="546">546</th><td>}</td></tr>
<tr><th id="547">547</th><td></td></tr>
<tr><th id="548">548</th><td><em>static</em> <span class="macro" title="_Bool" data-ref="_M/bool">bool</span></td></tr>
<tr><th id="549">549</th><td><dfn class="tu decl def" id="vmxnet3_setup_tx_offloads" title='vmxnet3_setup_tx_offloads' data-type='_Bool vmxnet3_setup_tx_offloads(VMXNET3State * s)' data-ref="vmxnet3_setup_tx_offloads">vmxnet3_setup_tx_offloads</dfn>(<a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a> *<dfn class="local col2 decl" id="132s" title='s' data-type='VMXNET3State *' data-ref="132s">s</dfn>)</td></tr>
<tr><th id="550">550</th><td>{</td></tr>
<tr><th id="551">551</th><td>    <b>switch</b> (<a class="local col2 ref" href="#132s" title='s' data-ref="132s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::offload_mode" title='(anonymous struct)::offload_mode' data-use='r' data-ref="(anonymous)::offload_mode">offload_mode</a>) {</td></tr>
<tr><th id="552">552</th><td>    <b>case</b> <a class="macro" href="vmxnet3.h.html#265" title="0" data-ref="_M/VMXNET3_OM_NONE">VMXNET3_OM_NONE</a>:</td></tr>
<tr><th id="553">553</th><td>        <a class="ref" href="net_tx_pkt.h.html#net_tx_pkt_build_vheader" title='net_tx_pkt_build_vheader' data-ref="net_tx_pkt_build_vheader">net_tx_pkt_build_vheader</a>(<a class="local col2 ref" href="#132s" title='s' data-ref="132s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::tx_pkt" title='(anonymous struct)::tx_pkt' data-use='r' data-ref="(anonymous)::tx_pkt">tx_pkt</a>, <span class="macro" title="0" data-ref="_M/false">false</span>, <span class="macro" title="0" data-ref="_M/false">false</span>, <var>0</var>);</td></tr>
<tr><th id="554">554</th><td>        <b>break</b>;</td></tr>
<tr><th id="555">555</th><td></td></tr>
<tr><th id="556">556</th><td>    <b>case</b> <a class="macro" href="vmxnet3.h.html#266" title="2" data-ref="_M/VMXNET3_OM_CSUM">VMXNET3_OM_CSUM</a>:</td></tr>
<tr><th id="557">557</th><td>        <a class="ref" href="net_tx_pkt.h.html#net_tx_pkt_build_vheader" title='net_tx_pkt_build_vheader' data-ref="net_tx_pkt_build_vheader">net_tx_pkt_build_vheader</a>(<a class="local col2 ref" href="#132s" title='s' data-ref="132s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::tx_pkt" title='(anonymous struct)::tx_pkt' data-use='r' data-ref="(anonymous)::tx_pkt">tx_pkt</a>, <span class="macro" title="0" data-ref="_M/false">false</span>, <span class="macro" title="1" data-ref="_M/true">true</span>, <var>0</var>);</td></tr>
<tr><th id="558">558</th><td>        <a class="macro" href="vmxnet_debug.h.html#97" title="do { if (0) { printf(&quot;[%s][PK][%s]: &quot; &quot;L4 CSO requested\n&quot; &quot;\n&quot;, &quot;vmxnet3&quot;, __func__); } } while (0)" data-ref="_M/VMW_PKPRN">VMW_PKPRN</a>(<q>"L4 CSO requested\n"</q>);</td></tr>
<tr><th id="559">559</th><td>        <b>break</b>;</td></tr>
<tr><th id="560">560</th><td></td></tr>
<tr><th id="561">561</th><td>    <b>case</b> <a class="macro" href="vmxnet3.h.html#267" title="3" data-ref="_M/VMXNET3_OM_TSO">VMXNET3_OM_TSO</a>:</td></tr>
<tr><th id="562">562</th><td>        <a class="ref" href="net_tx_pkt.h.html#net_tx_pkt_build_vheader" title='net_tx_pkt_build_vheader' data-ref="net_tx_pkt_build_vheader">net_tx_pkt_build_vheader</a>(<a class="local col2 ref" href="#132s" title='s' data-ref="132s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::tx_pkt" title='(anonymous struct)::tx_pkt' data-use='r' data-ref="(anonymous)::tx_pkt">tx_pkt</a>, <span class="macro" title="1" data-ref="_M/true">true</span>, <span class="macro" title="1" data-ref="_M/true">true</span>,</td></tr>
<tr><th id="563">563</th><td>            <a class="local col2 ref" href="#132s" title='s' data-ref="132s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::cso_or_gso_size" title='(anonymous struct)::cso_or_gso_size' data-use='r' data-ref="(anonymous)::cso_or_gso_size">cso_or_gso_size</a>);</td></tr>
<tr><th id="564">564</th><td>        <a class="ref" href="net_tx_pkt.h.html#net_tx_pkt_update_ip_checksums" title='net_tx_pkt_update_ip_checksums' data-ref="net_tx_pkt_update_ip_checksums">net_tx_pkt_update_ip_checksums</a>(<a class="local col2 ref" href="#132s" title='s' data-ref="132s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::tx_pkt" title='(anonymous struct)::tx_pkt' data-use='r' data-ref="(anonymous)::tx_pkt">tx_pkt</a>);</td></tr>
<tr><th id="565">565</th><td>        <a class="macro" href="vmxnet_debug.h.html#97" title="do { if (0) { printf(&quot;[%s][PK][%s]: &quot; &quot;GSO offload requested.&quot; &quot;\n&quot;, &quot;vmxnet3&quot;, __func__); } } while (0)" data-ref="_M/VMW_PKPRN">VMW_PKPRN</a>(<q>"GSO offload requested."</q>);</td></tr>
<tr><th id="566">566</th><td>        <b>break</b>;</td></tr>
<tr><th id="567">567</th><td></td></tr>
<tr><th id="568">568</th><td>    <b>default</b>:</td></tr>
<tr><th id="569">569</th><td>        <a class="macro" href="../../../include/glib-2.0/glib/gtestutils.h.html#114" title="do { g_assertion_message_expr (((gchar*) 0), &quot;/home/jon/workspace/qemu/hw/net/vmxnet3.c&quot;, 569, ((const char*) (__func__)), ((void*)0)); } while (0)" data-ref="_M/g_assert_not_reached">g_assert_not_reached</a>();</td></tr>
<tr><th id="570">570</th><td>        <b>return</b> <span class="macro" title="0" data-ref="_M/false">false</span>;</td></tr>
<tr><th id="571">571</th><td>    }</td></tr>
<tr><th id="572">572</th><td></td></tr>
<tr><th id="573">573</th><td>    <b>return</b> <span class="macro" title="1" data-ref="_M/true">true</span>;</td></tr>
<tr><th id="574">574</th><td>}</td></tr>
<tr><th id="575">575</th><td></td></tr>
<tr><th id="576">576</th><td><em>static</em> <em>void</em></td></tr>
<tr><th id="577">577</th><td><dfn class="tu decl def" id="vmxnet3_tx_retrieve_metadata" title='vmxnet3_tx_retrieve_metadata' data-type='void vmxnet3_tx_retrieve_metadata(VMXNET3State * s, const struct Vmxnet3_TxDesc * txd)' data-ref="vmxnet3_tx_retrieve_metadata">vmxnet3_tx_retrieve_metadata</dfn>(<a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a> *<dfn class="local col3 decl" id="133s" title='s' data-type='VMXNET3State *' data-ref="133s">s</dfn>,</td></tr>
<tr><th id="578">578</th><td>                             <em>const</em> <b>struct</b> <a class="type" href="vmxnet3.h.html#Vmxnet3_TxDesc" title='Vmxnet3_TxDesc' data-ref="Vmxnet3_TxDesc">Vmxnet3_TxDesc</a> *<dfn class="local col4 decl" id="134txd" title='txd' data-type='const struct Vmxnet3_TxDesc *' data-ref="134txd">txd</dfn>)</td></tr>
<tr><th id="579">579</th><td>{</td></tr>
<tr><th id="580">580</th><td>    <a class="local col3 ref" href="#133s" title='s' data-ref="133s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::offload_mode" title='(anonymous struct)::offload_mode' data-use='w' data-ref="(anonymous)::offload_mode">offload_mode</a> = <a class="local col4 ref" href="#134txd" title='txd' data-ref="134txd">txd</a>-&gt;<a class="ref" href="vmxnet3.h.html#Vmxnet3_TxDesc::om" title='Vmxnet3_TxDesc::om' data-ref="Vmxnet3_TxDesc::om">om</a>;</td></tr>
<tr><th id="581">581</th><td>    <a class="local col3 ref" href="#133s" title='s' data-ref="133s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::cso_or_gso_size" title='(anonymous struct)::cso_or_gso_size' data-use='w' data-ref="(anonymous)::cso_or_gso_size">cso_or_gso_size</a> = <a class="local col4 ref" href="#134txd" title='txd' data-ref="134txd">txd</a>-&gt;<a class="ref" href="vmxnet3.h.html#Vmxnet3_TxDesc::msscof" title='Vmxnet3_TxDesc::msscof' data-ref="Vmxnet3_TxDesc::msscof">msscof</a>;</td></tr>
<tr><th id="582">582</th><td>    <a class="local col3 ref" href="#133s" title='s' data-ref="133s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::tci" title='(anonymous struct)::tci' data-use='w' data-ref="(anonymous)::tci">tci</a> = <a class="local col4 ref" href="#134txd" title='txd' data-ref="134txd">txd</a>-&gt;<a class="ref" href="vmxnet3.h.html#Vmxnet3_TxDesc::tci" title='Vmxnet3_TxDesc::tci' data-ref="Vmxnet3_TxDesc::tci">tci</a>;</td></tr>
<tr><th id="583">583</th><td>    <a class="local col3 ref" href="#133s" title='s' data-ref="133s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::needs_vlan" title='(anonymous struct)::needs_vlan' data-use='w' data-ref="(anonymous)::needs_vlan">needs_vlan</a> = <a class="local col4 ref" href="#134txd" title='txd' data-ref="134txd">txd</a>-&gt;<a class="ref" href="vmxnet3.h.html#Vmxnet3_TxDesc::ti" title='Vmxnet3_TxDesc::ti' data-ref="Vmxnet3_TxDesc::ti">ti</a>;</td></tr>
<tr><th id="584">584</th><td>}</td></tr>
<tr><th id="585">585</th><td></td></tr>
<tr><th id="586">586</th><td><b>typedef</b> <b>enum</b> {</td></tr>
<tr><th id="587">587</th><td>    <dfn class="enum" id="VMXNET3_PKT_STATUS_OK" title='VMXNET3_PKT_STATUS_OK' data-ref="VMXNET3_PKT_STATUS_OK">VMXNET3_PKT_STATUS_OK</dfn>,</td></tr>
<tr><th id="588">588</th><td>    <dfn class="enum" id="VMXNET3_PKT_STATUS_ERROR" title='VMXNET3_PKT_STATUS_ERROR' data-ref="VMXNET3_PKT_STATUS_ERROR">VMXNET3_PKT_STATUS_ERROR</dfn>,</td></tr>
<tr><th id="589">589</th><td>    <dfn class="enum" id="VMXNET3_PKT_STATUS_DISCARD" title='VMXNET3_PKT_STATUS_DISCARD' data-ref="VMXNET3_PKT_STATUS_DISCARD">VMXNET3_PKT_STATUS_DISCARD</dfn>,<i>/* only for tx */</i></td></tr>
<tr><th id="590">590</th><td>    <dfn class="enum" id="VMXNET3_PKT_STATUS_OUT_OF_BUF" title='VMXNET3_PKT_STATUS_OUT_OF_BUF' data-ref="VMXNET3_PKT_STATUS_OUT_OF_BUF">VMXNET3_PKT_STATUS_OUT_OF_BUF</dfn> <i>/* only for rx */</i></td></tr>
<tr><th id="591">591</th><td>} <dfn class="typedef" id="Vmxnet3PktStatus" title='Vmxnet3PktStatus' data-type='enum Vmxnet3PktStatus' data-ref="Vmxnet3PktStatus">Vmxnet3PktStatus</dfn>;</td></tr>
<tr><th id="592">592</th><td></td></tr>
<tr><th id="593">593</th><td><em>static</em> <em>void</em></td></tr>
<tr><th id="594">594</th><td><dfn class="tu decl def" id="vmxnet3_on_tx_done_update_stats" title='vmxnet3_on_tx_done_update_stats' data-type='void vmxnet3_on_tx_done_update_stats(VMXNET3State * s, int qidx, Vmxnet3PktStatus status)' data-ref="vmxnet3_on_tx_done_update_stats">vmxnet3_on_tx_done_update_stats</dfn>(<a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a> *<dfn class="local col5 decl" id="135s" title='s' data-type='VMXNET3State *' data-ref="135s">s</dfn>, <em>int</em> <dfn class="local col6 decl" id="136qidx" title='qidx' data-type='int' data-ref="136qidx">qidx</dfn>,</td></tr>
<tr><th id="595">595</th><td>    <a class="typedef" href="#Vmxnet3PktStatus" title='Vmxnet3PktStatus' data-type='enum Vmxnet3PktStatus' data-ref="Vmxnet3PktStatus">Vmxnet3PktStatus</a> <dfn class="local col7 decl" id="137status" title='status' data-type='Vmxnet3PktStatus' data-ref="137status">status</dfn>)</td></tr>
<tr><th id="596">596</th><td>{</td></tr>
<tr><th id="597">597</th><td>    <span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t">size_t</span> <dfn class="local col8 decl" id="138tot_len" title='tot_len' data-type='size_t' data-ref="138tot_len">tot_len</dfn> = <a class="ref" href="net_tx_pkt.h.html#net_tx_pkt_get_total_len" title='net_tx_pkt_get_total_len' data-ref="net_tx_pkt_get_total_len">net_tx_pkt_get_total_len</a>(<a class="local col5 ref" href="#135s" title='s' data-ref="135s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::tx_pkt" title='(anonymous struct)::tx_pkt' data-use='r' data-ref="(anonymous)::tx_pkt">tx_pkt</a>);</td></tr>
<tr><th id="598">598</th><td>    <b>struct</b> <a class="type" href="vmxnet3.h.html#UPT1_TxStats" title='UPT1_TxStats' data-ref="UPT1_TxStats">UPT1_TxStats</a> *<dfn class="local col9 decl" id="139stats" title='stats' data-type='struct UPT1_TxStats *' data-ref="139stats">stats</dfn> = &amp;<a class="local col5 ref" href="#135s" title='s' data-ref="135s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::txq_descr" title='(anonymous struct)::txq_descr' data-use='m' data-ref="(anonymous)::txq_descr">txq_descr</a>[<a class="local col6 ref" href="#136qidx" title='qidx' data-ref="136qidx">qidx</a>].<a class="tu ref" href="#(anonymous)::txq_stats" title='(anonymous struct)::txq_stats' data-use='a' data-ref="(anonymous)::txq_stats">txq_stats</a>;</td></tr>
<tr><th id="599">599</th><td></td></tr>
<tr><th id="600">600</th><td>    <b>switch</b> (<a class="local col7 ref" href="#137status" title='status' data-ref="137status">status</a>) {</td></tr>
<tr><th id="601">601</th><td>    <b>case</b> <a class="enum" href="#VMXNET3_PKT_STATUS_OK" title='VMXNET3_PKT_STATUS_OK' data-ref="VMXNET3_PKT_STATUS_OK">VMXNET3_PKT_STATUS_OK</a>:</td></tr>
<tr><th id="602">602</th><td>        <b>switch</b> (<a class="ref" href="net_tx_pkt.h.html#net_tx_pkt_get_packet_type" title='net_tx_pkt_get_packet_type' data-ref="net_tx_pkt_get_packet_type">net_tx_pkt_get_packet_type</a>(<a class="local col5 ref" href="#135s" title='s' data-ref="135s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::tx_pkt" title='(anonymous struct)::tx_pkt' data-use='r' data-ref="(anonymous)::tx_pkt">tx_pkt</a>)) {</td></tr>
<tr><th id="603">603</th><td>        <b>case</b> <a class="enum" href="../../include/net/eth.h.html#ETH_PKT_BCAST" title='ETH_PKT_BCAST' data-ref="ETH_PKT_BCAST">ETH_PKT_BCAST</a>:</td></tr>
<tr><th id="604">604</th><td>            <a class="local col9 ref" href="#139stats" title='stats' data-ref="139stats">stats</a>-&gt;<a class="ref" href="vmxnet3.h.html#UPT1_TxStats::bcastPktsTxOK" title='UPT1_TxStats::bcastPktsTxOK' data-ref="UPT1_TxStats::bcastPktsTxOK">bcastPktsTxOK</a>++;</td></tr>
<tr><th id="605">605</th><td>            <a class="local col9 ref" href="#139stats" title='stats' data-ref="139stats">stats</a>-&gt;<a class="ref" href="vmxnet3.h.html#UPT1_TxStats::bcastBytesTxOK" title='UPT1_TxStats::bcastBytesTxOK' data-ref="UPT1_TxStats::bcastBytesTxOK">bcastBytesTxOK</a> += <a class="local col8 ref" href="#138tot_len" title='tot_len' data-ref="138tot_len">tot_len</a>;</td></tr>
<tr><th id="606">606</th><td>            <b>break</b>;</td></tr>
<tr><th id="607">607</th><td>        <b>case</b> <a class="enum" href="../../include/net/eth.h.html#ETH_PKT_MCAST" title='ETH_PKT_MCAST' data-ref="ETH_PKT_MCAST">ETH_PKT_MCAST</a>:</td></tr>
<tr><th id="608">608</th><td>            <a class="local col9 ref" href="#139stats" title='stats' data-ref="139stats">stats</a>-&gt;<a class="ref" href="vmxnet3.h.html#UPT1_TxStats::mcastPktsTxOK" title='UPT1_TxStats::mcastPktsTxOK' data-ref="UPT1_TxStats::mcastPktsTxOK">mcastPktsTxOK</a>++;</td></tr>
<tr><th id="609">609</th><td>            <a class="local col9 ref" href="#139stats" title='stats' data-ref="139stats">stats</a>-&gt;<a class="ref" href="vmxnet3.h.html#UPT1_TxStats::mcastBytesTxOK" title='UPT1_TxStats::mcastBytesTxOK' data-ref="UPT1_TxStats::mcastBytesTxOK">mcastBytesTxOK</a> += <a class="local col8 ref" href="#138tot_len" title='tot_len' data-ref="138tot_len">tot_len</a>;</td></tr>
<tr><th id="610">610</th><td>            <b>break</b>;</td></tr>
<tr><th id="611">611</th><td>        <b>case</b> <a class="enum" href="../../include/net/eth.h.html#ETH_PKT_UCAST" title='ETH_PKT_UCAST' data-ref="ETH_PKT_UCAST">ETH_PKT_UCAST</a>:</td></tr>
<tr><th id="612">612</th><td>            <a class="local col9 ref" href="#139stats" title='stats' data-ref="139stats">stats</a>-&gt;<a class="ref" href="vmxnet3.h.html#UPT1_TxStats::ucastPktsTxOK" title='UPT1_TxStats::ucastPktsTxOK' data-ref="UPT1_TxStats::ucastPktsTxOK">ucastPktsTxOK</a>++;</td></tr>
<tr><th id="613">613</th><td>            <a class="local col9 ref" href="#139stats" title='stats' data-ref="139stats">stats</a>-&gt;<a class="ref" href="vmxnet3.h.html#UPT1_TxStats::ucastBytesTxOK" title='UPT1_TxStats::ucastBytesTxOK' data-ref="UPT1_TxStats::ucastBytesTxOK">ucastBytesTxOK</a> += <a class="local col8 ref" href="#138tot_len" title='tot_len' data-ref="138tot_len">tot_len</a>;</td></tr>
<tr><th id="614">614</th><td>            <b>break</b>;</td></tr>
<tr><th id="615">615</th><td>        <b>default</b>:</td></tr>
<tr><th id="616">616</th><td>            <a class="macro" href="../../../include/glib-2.0/glib/gtestutils.h.html#114" title="do { g_assertion_message_expr (((gchar*) 0), &quot;/home/jon/workspace/qemu/hw/net/vmxnet3.c&quot;, 616, ((const char*) (__func__)), ((void*)0)); } while (0)" data-ref="_M/g_assert_not_reached">g_assert_not_reached</a>();</td></tr>
<tr><th id="617">617</th><td>        }</td></tr>
<tr><th id="618">618</th><td></td></tr>
<tr><th id="619">619</th><td>        <b>if</b> (<a class="local col5 ref" href="#135s" title='s' data-ref="135s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::offload_mode" title='(anonymous struct)::offload_mode' data-use='r' data-ref="(anonymous)::offload_mode">offload_mode</a> == <a class="macro" href="vmxnet3.h.html#267" title="3" data-ref="_M/VMXNET3_OM_TSO">VMXNET3_OM_TSO</a>) {</td></tr>
<tr><th id="620">620</th><td>            <i>/*</i></td></tr>
<tr><th id="621">621</th><td><i>             * According to VMWARE headers this statistic is a number</i></td></tr>
<tr><th id="622">622</th><td><i>             * of packets after segmentation but since we don't have</i></td></tr>
<tr><th id="623">623</th><td><i>             * this information in QEMU model, the best we can do is to</i></td></tr>
<tr><th id="624">624</th><td><i>             * provide number of non-segmented packets</i></td></tr>
<tr><th id="625">625</th><td><i>             */</i></td></tr>
<tr><th id="626">626</th><td>            <a class="local col9 ref" href="#139stats" title='stats' data-ref="139stats">stats</a>-&gt;<a class="ref" href="vmxnet3.h.html#UPT1_TxStats::TSOPktsTxOK" title='UPT1_TxStats::TSOPktsTxOK' data-ref="UPT1_TxStats::TSOPktsTxOK">TSOPktsTxOK</a>++;</td></tr>
<tr><th id="627">627</th><td>            <a class="local col9 ref" href="#139stats" title='stats' data-ref="139stats">stats</a>-&gt;<a class="ref" href="vmxnet3.h.html#UPT1_TxStats::TSOBytesTxOK" title='UPT1_TxStats::TSOBytesTxOK' data-ref="UPT1_TxStats::TSOBytesTxOK">TSOBytesTxOK</a> += <a class="local col8 ref" href="#138tot_len" title='tot_len' data-ref="138tot_len">tot_len</a>;</td></tr>
<tr><th id="628">628</th><td>        }</td></tr>
<tr><th id="629">629</th><td>        <b>break</b>;</td></tr>
<tr><th id="630">630</th><td></td></tr>
<tr><th id="631">631</th><td>    <b>case</b> <a class="enum" href="#VMXNET3_PKT_STATUS_DISCARD" title='VMXNET3_PKT_STATUS_DISCARD' data-ref="VMXNET3_PKT_STATUS_DISCARD">VMXNET3_PKT_STATUS_DISCARD</a>:</td></tr>
<tr><th id="632">632</th><td>        <a class="local col9 ref" href="#139stats" title='stats' data-ref="139stats">stats</a>-&gt;<a class="ref" href="vmxnet3.h.html#UPT1_TxStats::pktsTxDiscard" title='UPT1_TxStats::pktsTxDiscard' data-ref="UPT1_TxStats::pktsTxDiscard">pktsTxDiscard</a>++;</td></tr>
<tr><th id="633">633</th><td>        <b>break</b>;</td></tr>
<tr><th id="634">634</th><td></td></tr>
<tr><th id="635">635</th><td>    <b>case</b> <a class="enum" href="#VMXNET3_PKT_STATUS_ERROR" title='VMXNET3_PKT_STATUS_ERROR' data-ref="VMXNET3_PKT_STATUS_ERROR">VMXNET3_PKT_STATUS_ERROR</a>:</td></tr>
<tr><th id="636">636</th><td>        <a class="local col9 ref" href="#139stats" title='stats' data-ref="139stats">stats</a>-&gt;<a class="ref" href="vmxnet3.h.html#UPT1_TxStats::pktsTxError" title='UPT1_TxStats::pktsTxError' data-ref="UPT1_TxStats::pktsTxError">pktsTxError</a>++;</td></tr>
<tr><th id="637">637</th><td>        <b>break</b>;</td></tr>
<tr><th id="638">638</th><td></td></tr>
<tr><th id="639">639</th><td>    <b>default</b>:</td></tr>
<tr><th id="640">640</th><td>        <a class="macro" href="../../../include/glib-2.0/glib/gtestutils.h.html#114" title="do { g_assertion_message_expr (((gchar*) 0), &quot;/home/jon/workspace/qemu/hw/net/vmxnet3.c&quot;, 640, ((const char*) (__func__)), ((void*)0)); } while (0)" data-ref="_M/g_assert_not_reached">g_assert_not_reached</a>();</td></tr>
<tr><th id="641">641</th><td>    }</td></tr>
<tr><th id="642">642</th><td>}</td></tr>
<tr><th id="643">643</th><td></td></tr>
<tr><th id="644">644</th><td><em>static</em> <em>void</em></td></tr>
<tr><th id="645">645</th><td><dfn class="tu decl def" id="vmxnet3_on_rx_done_update_stats" title='vmxnet3_on_rx_done_update_stats' data-type='void vmxnet3_on_rx_done_update_stats(VMXNET3State * s, int qidx, Vmxnet3PktStatus status)' data-ref="vmxnet3_on_rx_done_update_stats">vmxnet3_on_rx_done_update_stats</dfn>(<a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a> *<dfn class="local col0 decl" id="140s" title='s' data-type='VMXNET3State *' data-ref="140s">s</dfn>,</td></tr>
<tr><th id="646">646</th><td>                                <em>int</em> <dfn class="local col1 decl" id="141qidx" title='qidx' data-type='int' data-ref="141qidx">qidx</dfn>,</td></tr>
<tr><th id="647">647</th><td>                                <a class="typedef" href="#Vmxnet3PktStatus" title='Vmxnet3PktStatus' data-type='enum Vmxnet3PktStatus' data-ref="Vmxnet3PktStatus">Vmxnet3PktStatus</a> <dfn class="local col2 decl" id="142status" title='status' data-type='Vmxnet3PktStatus' data-ref="142status">status</dfn>)</td></tr>
<tr><th id="648">648</th><td>{</td></tr>
<tr><th id="649">649</th><td>    <b>struct</b> <a class="type" href="vmxnet3.h.html#UPT1_RxStats" title='UPT1_RxStats' data-ref="UPT1_RxStats">UPT1_RxStats</a> *<dfn class="local col3 decl" id="143stats" title='stats' data-type='struct UPT1_RxStats *' data-ref="143stats">stats</dfn> = &amp;<a class="local col0 ref" href="#140s" title='s' data-ref="140s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::rxq_descr" title='(anonymous struct)::rxq_descr' data-use='m' data-ref="(anonymous)::rxq_descr">rxq_descr</a>[<a class="local col1 ref" href="#141qidx" title='qidx' data-ref="141qidx">qidx</a>].<a class="tu ref" href="#(anonymous)::rxq_stats" title='(anonymous struct)::rxq_stats' data-use='a' data-ref="(anonymous)::rxq_stats">rxq_stats</a>;</td></tr>
<tr><th id="650">650</th><td>    <span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t">size_t</span> <dfn class="local col4 decl" id="144tot_len" title='tot_len' data-type='size_t' data-ref="144tot_len">tot_len</dfn> = <a class="ref" href="net_rx_pkt.h.html#net_rx_pkt_get_total_len" title='net_rx_pkt_get_total_len' data-ref="net_rx_pkt_get_total_len">net_rx_pkt_get_total_len</a>(<a class="local col0 ref" href="#140s" title='s' data-ref="140s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::rx_pkt" title='(anonymous struct)::rx_pkt' data-use='r' data-ref="(anonymous)::rx_pkt">rx_pkt</a>);</td></tr>
<tr><th id="651">651</th><td></td></tr>
<tr><th id="652">652</th><td>    <b>switch</b> (<a class="local col2 ref" href="#142status" title='status' data-ref="142status">status</a>) {</td></tr>
<tr><th id="653">653</th><td>    <b>case</b> <a class="enum" href="#VMXNET3_PKT_STATUS_OUT_OF_BUF" title='VMXNET3_PKT_STATUS_OUT_OF_BUF' data-ref="VMXNET3_PKT_STATUS_OUT_OF_BUF">VMXNET3_PKT_STATUS_OUT_OF_BUF</a>:</td></tr>
<tr><th id="654">654</th><td>        <a class="local col3 ref" href="#143stats" title='stats' data-ref="143stats">stats</a>-&gt;<a class="ref" href="vmxnet3.h.html#UPT1_RxStats::pktsRxOutOfBuf" title='UPT1_RxStats::pktsRxOutOfBuf' data-ref="UPT1_RxStats::pktsRxOutOfBuf">pktsRxOutOfBuf</a>++;</td></tr>
<tr><th id="655">655</th><td>        <b>break</b>;</td></tr>
<tr><th id="656">656</th><td></td></tr>
<tr><th id="657">657</th><td>    <b>case</b> <a class="enum" href="#VMXNET3_PKT_STATUS_ERROR" title='VMXNET3_PKT_STATUS_ERROR' data-ref="VMXNET3_PKT_STATUS_ERROR">VMXNET3_PKT_STATUS_ERROR</a>:</td></tr>
<tr><th id="658">658</th><td>        <a class="local col3 ref" href="#143stats" title='stats' data-ref="143stats">stats</a>-&gt;<a class="ref" href="vmxnet3.h.html#UPT1_RxStats::pktsRxError" title='UPT1_RxStats::pktsRxError' data-ref="UPT1_RxStats::pktsRxError">pktsRxError</a>++;</td></tr>
<tr><th id="659">659</th><td>        <b>break</b>;</td></tr>
<tr><th id="660">660</th><td>    <b>case</b> <a class="enum" href="#VMXNET3_PKT_STATUS_OK" title='VMXNET3_PKT_STATUS_OK' data-ref="VMXNET3_PKT_STATUS_OK">VMXNET3_PKT_STATUS_OK</a>:</td></tr>
<tr><th id="661">661</th><td>        <b>switch</b> (<a class="ref" href="net_rx_pkt.h.html#net_rx_pkt_get_packet_type" title='net_rx_pkt_get_packet_type' data-ref="net_rx_pkt_get_packet_type">net_rx_pkt_get_packet_type</a>(<a class="local col0 ref" href="#140s" title='s' data-ref="140s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::rx_pkt" title='(anonymous struct)::rx_pkt' data-use='r' data-ref="(anonymous)::rx_pkt">rx_pkt</a>)) {</td></tr>
<tr><th id="662">662</th><td>        <b>case</b> <a class="enum" href="../../include/net/eth.h.html#ETH_PKT_BCAST" title='ETH_PKT_BCAST' data-ref="ETH_PKT_BCAST">ETH_PKT_BCAST</a>:</td></tr>
<tr><th id="663">663</th><td>            <a class="local col3 ref" href="#143stats" title='stats' data-ref="143stats">stats</a>-&gt;<a class="ref" href="vmxnet3.h.html#UPT1_RxStats::bcastPktsRxOK" title='UPT1_RxStats::bcastPktsRxOK' data-ref="UPT1_RxStats::bcastPktsRxOK">bcastPktsRxOK</a>++;</td></tr>
<tr><th id="664">664</th><td>            <a class="local col3 ref" href="#143stats" title='stats' data-ref="143stats">stats</a>-&gt;<a class="ref" href="vmxnet3.h.html#UPT1_RxStats::bcastBytesRxOK" title='UPT1_RxStats::bcastBytesRxOK' data-ref="UPT1_RxStats::bcastBytesRxOK">bcastBytesRxOK</a> += <a class="local col4 ref" href="#144tot_len" title='tot_len' data-ref="144tot_len">tot_len</a>;</td></tr>
<tr><th id="665">665</th><td>            <b>break</b>;</td></tr>
<tr><th id="666">666</th><td>        <b>case</b> <a class="enum" href="../../include/net/eth.h.html#ETH_PKT_MCAST" title='ETH_PKT_MCAST' data-ref="ETH_PKT_MCAST">ETH_PKT_MCAST</a>:</td></tr>
<tr><th id="667">667</th><td>            <a class="local col3 ref" href="#143stats" title='stats' data-ref="143stats">stats</a>-&gt;<a class="ref" href="vmxnet3.h.html#UPT1_RxStats::mcastPktsRxOK" title='UPT1_RxStats::mcastPktsRxOK' data-ref="UPT1_RxStats::mcastPktsRxOK">mcastPktsRxOK</a>++;</td></tr>
<tr><th id="668">668</th><td>            <a class="local col3 ref" href="#143stats" title='stats' data-ref="143stats">stats</a>-&gt;<a class="ref" href="vmxnet3.h.html#UPT1_RxStats::mcastBytesRxOK" title='UPT1_RxStats::mcastBytesRxOK' data-ref="UPT1_RxStats::mcastBytesRxOK">mcastBytesRxOK</a> += <a class="local col4 ref" href="#144tot_len" title='tot_len' data-ref="144tot_len">tot_len</a>;</td></tr>
<tr><th id="669">669</th><td>            <b>break</b>;</td></tr>
<tr><th id="670">670</th><td>        <b>case</b> <a class="enum" href="../../include/net/eth.h.html#ETH_PKT_UCAST" title='ETH_PKT_UCAST' data-ref="ETH_PKT_UCAST">ETH_PKT_UCAST</a>:</td></tr>
<tr><th id="671">671</th><td>            <a class="local col3 ref" href="#143stats" title='stats' data-ref="143stats">stats</a>-&gt;<a class="ref" href="vmxnet3.h.html#UPT1_RxStats::ucastPktsRxOK" title='UPT1_RxStats::ucastPktsRxOK' data-ref="UPT1_RxStats::ucastPktsRxOK">ucastPktsRxOK</a>++;</td></tr>
<tr><th id="672">672</th><td>            <a class="local col3 ref" href="#143stats" title='stats' data-ref="143stats">stats</a>-&gt;<a class="ref" href="vmxnet3.h.html#UPT1_RxStats::ucastBytesRxOK" title='UPT1_RxStats::ucastBytesRxOK' data-ref="UPT1_RxStats::ucastBytesRxOK">ucastBytesRxOK</a> += <a class="local col4 ref" href="#144tot_len" title='tot_len' data-ref="144tot_len">tot_len</a>;</td></tr>
<tr><th id="673">673</th><td>            <b>break</b>;</td></tr>
<tr><th id="674">674</th><td>        <b>default</b>:</td></tr>
<tr><th id="675">675</th><td>            <a class="macro" href="../../../include/glib-2.0/glib/gtestutils.h.html#114" title="do { g_assertion_message_expr (((gchar*) 0), &quot;/home/jon/workspace/qemu/hw/net/vmxnet3.c&quot;, 675, ((const char*) (__func__)), ((void*)0)); } while (0)" data-ref="_M/g_assert_not_reached">g_assert_not_reached</a>();</td></tr>
<tr><th id="676">676</th><td>        }</td></tr>
<tr><th id="677">677</th><td></td></tr>
<tr><th id="678">678</th><td>        <b>if</b> (<a class="local col4 ref" href="#144tot_len" title='tot_len' data-ref="144tot_len">tot_len</a> &gt; <a class="local col0 ref" href="#140s" title='s' data-ref="140s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::mtu" title='(anonymous struct)::mtu' data-use='r' data-ref="(anonymous)::mtu">mtu</a>) {</td></tr>
<tr><th id="679">679</th><td>            <a class="local col3 ref" href="#143stats" title='stats' data-ref="143stats">stats</a>-&gt;<a class="ref" href="vmxnet3.h.html#UPT1_RxStats::LROPktsRxOK" title='UPT1_RxStats::LROPktsRxOK' data-ref="UPT1_RxStats::LROPktsRxOK">LROPktsRxOK</a>++;</td></tr>
<tr><th id="680">680</th><td>            <a class="local col3 ref" href="#143stats" title='stats' data-ref="143stats">stats</a>-&gt;<a class="ref" href="vmxnet3.h.html#UPT1_RxStats::LROBytesRxOK" title='UPT1_RxStats::LROBytesRxOK' data-ref="UPT1_RxStats::LROBytesRxOK">LROBytesRxOK</a> += <a class="local col4 ref" href="#144tot_len" title='tot_len' data-ref="144tot_len">tot_len</a>;</td></tr>
<tr><th id="681">681</th><td>        }</td></tr>
<tr><th id="682">682</th><td>        <b>break</b>;</td></tr>
<tr><th id="683">683</th><td>    <b>default</b>:</td></tr>
<tr><th id="684">684</th><td>        <a class="macro" href="../../../include/glib-2.0/glib/gtestutils.h.html#114" title="do { g_assertion_message_expr (((gchar*) 0), &quot;/home/jon/workspace/qemu/hw/net/vmxnet3.c&quot;, 684, ((const char*) (__func__)), ((void*)0)); } while (0)" data-ref="_M/g_assert_not_reached">g_assert_not_reached</a>();</td></tr>
<tr><th id="685">685</th><td>    }</td></tr>
<tr><th id="686">686</th><td>}</td></tr>
<tr><th id="687">687</th><td></td></tr>
<tr><th id="688">688</th><td><em>static</em> <b>inline</b> <span class="macro" title="_Bool" data-ref="_M/bool">bool</span></td></tr>
<tr><th id="689">689</th><td><dfn class="tu decl def" id="vmxnet3_pop_next_tx_descr" title='vmxnet3_pop_next_tx_descr' data-type='_Bool vmxnet3_pop_next_tx_descr(VMXNET3State * s, int qidx, struct Vmxnet3_TxDesc * txd, uint32_t * descr_idx)' data-ref="vmxnet3_pop_next_tx_descr">vmxnet3_pop_next_tx_descr</dfn>(<a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a> *<dfn class="local col5 decl" id="145s" title='s' data-type='VMXNET3State *' data-ref="145s">s</dfn>,</td></tr>
<tr><th id="690">690</th><td>                          <em>int</em> <dfn class="local col6 decl" id="146qidx" title='qidx' data-type='int' data-ref="146qidx">qidx</dfn>,</td></tr>
<tr><th id="691">691</th><td>                          <b>struct</b> <a class="type" href="vmxnet3.h.html#Vmxnet3_TxDesc" title='Vmxnet3_TxDesc' data-ref="Vmxnet3_TxDesc">Vmxnet3_TxDesc</a> *<dfn class="local col7 decl" id="147txd" title='txd' data-type='struct Vmxnet3_TxDesc *' data-ref="147txd">txd</dfn>,</td></tr>
<tr><th id="692">692</th><td>                          <a class="typedef" href="../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> *<dfn class="local col8 decl" id="148descr_idx" title='descr_idx' data-type='uint32_t *' data-ref="148descr_idx">descr_idx</dfn>)</td></tr>
<tr><th id="693">693</th><td>{</td></tr>
<tr><th id="694">694</th><td>    <a class="typedef" href="#Vmxnet3Ring" title='Vmxnet3Ring' data-type='struct Vmxnet3Ring' data-ref="Vmxnet3Ring">Vmxnet3Ring</a> *<dfn class="local col9 decl" id="149ring" title='ring' data-type='Vmxnet3Ring *' data-ref="149ring">ring</dfn> = &amp;<a class="local col5 ref" href="#145s" title='s' data-ref="145s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::txq_descr" title='(anonymous struct)::txq_descr' data-use='m' data-ref="(anonymous)::txq_descr">txq_descr</a>[<a class="local col6 ref" href="#146qidx" title='qidx' data-ref="146qidx">qidx</a>].<a class="tu ref" href="#(anonymous)::tx_ring" title='(anonymous struct)::tx_ring' data-use='a' data-ref="(anonymous)::tx_ring">tx_ring</a>;</td></tr>
<tr><th id="695">695</th><td>    <a class="typedef" href="../../include/qemu/typedefs.h.html#PCIDevice" title='PCIDevice' data-type='struct PCIDevice' data-ref="PCIDevice">PCIDevice</a> *<dfn class="local col0 decl" id="150d" title='d' data-type='PCIDevice *' data-ref="150d">d</dfn> = <a class="macro" href="../../include/hw/pci/pci.h.html#191" title="((PCIDevice *)object_dynamic_cast_assert(((Object *)((s))), (&quot;pci-device&quot;), &quot;/home/jon/workspace/qemu/hw/net/vmxnet3.c&quot;, 695, __func__))" data-ref="_M/PCI_DEVICE">PCI_DEVICE</a>(<a class="local col5 ref" href="#145s" title='s' data-ref="145s">s</a>);</td></tr>
<tr><th id="696">696</th><td></td></tr>
<tr><th id="697">697</th><td>    <a class="tu ref" href="#vmxnet3_ring_read_curr_cell" title='vmxnet3_ring_read_curr_cell' data-use='c' data-ref="vmxnet3_ring_read_curr_cell">vmxnet3_ring_read_curr_cell</a>(<a class="local col0 ref" href="#150d" title='d' data-ref="150d">d</a>, <a class="local col9 ref" href="#149ring" title='ring' data-ref="149ring">ring</a>, <a class="local col7 ref" href="#147txd" title='txd' data-ref="147txd">txd</a>);</td></tr>
<tr><th id="698">698</th><td>    <b>if</b> (<a class="local col7 ref" href="#147txd" title='txd' data-ref="147txd">txd</a>-&gt;<a class="ref" href="vmxnet3.h.html#Vmxnet3_TxDesc::gen" title='Vmxnet3_TxDesc::gen' data-ref="Vmxnet3_TxDesc::gen">gen</a> == <a class="tu ref" href="#vmxnet3_ring_curr_gen" title='vmxnet3_ring_curr_gen' data-use='c' data-ref="vmxnet3_ring_curr_gen">vmxnet3_ring_curr_gen</a>(<a class="local col9 ref" href="#149ring" title='ring' data-ref="149ring">ring</a>)) {</td></tr>
<tr><th id="699">699</th><td>        <i>/* Only read after generation field verification */</i></td></tr>
<tr><th id="700">700</th><td>        <a class="macro" href="../../include/qemu/atomic.h.html#415" title="({ ({ asm volatile(&quot;&quot; ::: &quot;memory&quot;); (void)0; }); __atomic_thread_fence(2); })" data-ref="_M/smp_rmb">smp_rmb</a>();</td></tr>
<tr><th id="701">701</th><td>        <i>/* Re-read to be sure we got the latest version */</i></td></tr>
<tr><th id="702">702</th><td>        <a class="tu ref" href="#vmxnet3_ring_read_curr_cell" title='vmxnet3_ring_read_curr_cell' data-use='c' data-ref="vmxnet3_ring_read_curr_cell">vmxnet3_ring_read_curr_cell</a>(<a class="local col0 ref" href="#150d" title='d' data-ref="150d">d</a>, <a class="local col9 ref" href="#149ring" title='ring' data-ref="149ring">ring</a>, <a class="local col7 ref" href="#147txd" title='txd' data-ref="147txd">txd</a>);</td></tr>
<tr><th id="703">703</th><td>        <a class="macro" href="#169" title="do { if (0) { printf(&quot;[%s][RI][%s]: &quot; &quot;%s#%d: base %&quot; &quot;l&quot; &quot;x&quot; &quot; size %u cell_size %u gen %d next %u&quot; &quot;\n&quot;, &quot;vmxnet3&quot;, __func__, (&quot;TX&quot;), (qidx), (ring)-&gt;pa, (ring)-&gt;size, (ring)-&gt;cell_size, (ring)-&gt;gen, (ring)-&gt;next); } } while (0)" data-ref="_M/VMXNET3_RING_DUMP">VMXNET3_RING_DUMP</a>(VMW_RIPRN, <q>"TX"</q>, <a class="local col6 ref" href="#146qidx" title='qidx' data-ref="146qidx">qidx</a>, <a class="local col9 ref" href="#149ring" title='ring' data-ref="149ring">ring</a>);</td></tr>
<tr><th id="704">704</th><td>        *<a class="local col8 ref" href="#148descr_idx" title='descr_idx' data-ref="148descr_idx">descr_idx</a> = <a class="tu ref" href="#vmxnet3_ring_curr_cell_idx" title='vmxnet3_ring_curr_cell_idx' data-use='c' data-ref="vmxnet3_ring_curr_cell_idx">vmxnet3_ring_curr_cell_idx</a>(<a class="local col9 ref" href="#149ring" title='ring' data-ref="149ring">ring</a>);</td></tr>
<tr><th id="705">705</th><td>        <a class="tu ref" href="#vmxnet3_inc_tx_consumption_counter" title='vmxnet3_inc_tx_consumption_counter' data-use='c' data-ref="vmxnet3_inc_tx_consumption_counter">vmxnet3_inc_tx_consumption_counter</a>(<a class="local col5 ref" href="#145s" title='s' data-ref="145s">s</a>, <a class="local col6 ref" href="#146qidx" title='qidx' data-ref="146qidx">qidx</a>);</td></tr>
<tr><th id="706">706</th><td>        <b>return</b> <span class="macro" title="1" data-ref="_M/true">true</span>;</td></tr>
<tr><th id="707">707</th><td>    }</td></tr>
<tr><th id="708">708</th><td></td></tr>
<tr><th id="709">709</th><td>    <b>return</b> <span class="macro" title="0" data-ref="_M/false">false</span>;</td></tr>
<tr><th id="710">710</th><td>}</td></tr>
<tr><th id="711">711</th><td></td></tr>
<tr><th id="712">712</th><td><em>static</em> <span class="macro" title="_Bool" data-ref="_M/bool">bool</span></td></tr>
<tr><th id="713">713</th><td><dfn class="tu decl def" id="vmxnet3_send_packet" title='vmxnet3_send_packet' data-type='_Bool vmxnet3_send_packet(VMXNET3State * s, uint32_t qidx)' data-ref="vmxnet3_send_packet">vmxnet3_send_packet</dfn>(<a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a> *<dfn class="local col1 decl" id="151s" title='s' data-type='VMXNET3State *' data-ref="151s">s</dfn>, <a class="typedef" href="../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> <dfn class="local col2 decl" id="152qidx" title='qidx' data-type='uint32_t' data-ref="152qidx">qidx</dfn>)</td></tr>
<tr><th id="714">714</th><td>{</td></tr>
<tr><th id="715">715</th><td>    <a class="typedef" href="#Vmxnet3PktStatus" title='Vmxnet3PktStatus' data-type='enum Vmxnet3PktStatus' data-ref="Vmxnet3PktStatus">Vmxnet3PktStatus</a> <dfn class="local col3 decl" id="153status" title='status' data-type='Vmxnet3PktStatus' data-ref="153status">status</dfn> = <a class="enum" href="#VMXNET3_PKT_STATUS_OK" title='VMXNET3_PKT_STATUS_OK' data-ref="VMXNET3_PKT_STATUS_OK">VMXNET3_PKT_STATUS_OK</a>;</td></tr>
<tr><th id="716">716</th><td></td></tr>
<tr><th id="717">717</th><td>    <b>if</b> (!<a class="tu ref" href="#vmxnet3_setup_tx_offloads" title='vmxnet3_setup_tx_offloads' data-use='c' data-ref="vmxnet3_setup_tx_offloads">vmxnet3_setup_tx_offloads</a>(<a class="local col1 ref" href="#151s" title='s' data-ref="151s">s</a>)) {</td></tr>
<tr><th id="718">718</th><td>        <a class="local col3 ref" href="#153status" title='status' data-ref="153status">status</a> = <a class="enum" href="#VMXNET3_PKT_STATUS_ERROR" title='VMXNET3_PKT_STATUS_ERROR' data-ref="VMXNET3_PKT_STATUS_ERROR">VMXNET3_PKT_STATUS_ERROR</a>;</td></tr>
<tr><th id="719">719</th><td>        <b>goto</b> <a class="lbl" href="#154func_exit" data-ref="154func_exit">func_exit</a>;</td></tr>
<tr><th id="720">720</th><td>    }</td></tr>
<tr><th id="721">721</th><td></td></tr>
<tr><th id="722">722</th><td>    <i>/* debug prints */</i></td></tr>
<tr><th id="723">723</th><td>    <a class="tu ref" href="#vmxnet3_dump_virt_hdr" title='vmxnet3_dump_virt_hdr' data-use='c' data-ref="vmxnet3_dump_virt_hdr">vmxnet3_dump_virt_hdr</a>(<a class="ref" href="net_tx_pkt.h.html#net_tx_pkt_get_vhdr" title='net_tx_pkt_get_vhdr' data-ref="net_tx_pkt_get_vhdr">net_tx_pkt_get_vhdr</a>(<a class="local col1 ref" href="#151s" title='s' data-ref="151s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::tx_pkt" title='(anonymous struct)::tx_pkt' data-use='r' data-ref="(anonymous)::tx_pkt">tx_pkt</a>));</td></tr>
<tr><th id="724">724</th><td>    <a class="ref" href="net_tx_pkt.h.html#net_tx_pkt_dump" title='net_tx_pkt_dump' data-ref="net_tx_pkt_dump">net_tx_pkt_dump</a>(<a class="local col1 ref" href="#151s" title='s' data-ref="151s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::tx_pkt" title='(anonymous struct)::tx_pkt' data-use='r' data-ref="(anonymous)::tx_pkt">tx_pkt</a>);</td></tr>
<tr><th id="725">725</th><td></td></tr>
<tr><th id="726">726</th><td>    <b>if</b> (!<a class="ref" href="net_tx_pkt.h.html#net_tx_pkt_send" title='net_tx_pkt_send' data-ref="net_tx_pkt_send">net_tx_pkt_send</a>(<a class="local col1 ref" href="#151s" title='s' data-ref="151s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::tx_pkt" title='(anonymous struct)::tx_pkt' data-use='r' data-ref="(anonymous)::tx_pkt">tx_pkt</a>, <a class="ref" href="../../include/net/net.h.html#qemu_get_queue" title='qemu_get_queue' data-ref="qemu_get_queue">qemu_get_queue</a>(<a class="local col1 ref" href="#151s" title='s' data-ref="151s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::nic" title='(anonymous struct)::nic' data-use='r' data-ref="(anonymous)::nic">nic</a>))) {</td></tr>
<tr><th id="727">727</th><td>        <a class="local col3 ref" href="#153status" title='status' data-ref="153status">status</a> = <a class="enum" href="#VMXNET3_PKT_STATUS_DISCARD" title='VMXNET3_PKT_STATUS_DISCARD' data-ref="VMXNET3_PKT_STATUS_DISCARD">VMXNET3_PKT_STATUS_DISCARD</a>;</td></tr>
<tr><th id="728">728</th><td>        <b>goto</b> <a class="lbl" href="#154func_exit" data-ref="154func_exit">func_exit</a>;</td></tr>
<tr><th id="729">729</th><td>    }</td></tr>
<tr><th id="730">730</th><td></td></tr>
<tr><th id="731">731</th><td><dfn class="lbl" id="154func_exit" data-ref="154func_exit">func_exit</dfn>:</td></tr>
<tr><th id="732">732</th><td>    <a class="tu ref" href="#vmxnet3_on_tx_done_update_stats" title='vmxnet3_on_tx_done_update_stats' data-use='c' data-ref="vmxnet3_on_tx_done_update_stats">vmxnet3_on_tx_done_update_stats</a>(<a class="local col1 ref" href="#151s" title='s' data-ref="151s">s</a>, <a class="local col2 ref" href="#152qidx" title='qidx' data-ref="152qidx">qidx</a>, <a class="local col3 ref" href="#153status" title='status' data-ref="153status">status</a>);</td></tr>
<tr><th id="733">733</th><td>    <b>return</b> (<a class="local col3 ref" href="#153status" title='status' data-ref="153status">status</a> == <a class="enum" href="#VMXNET3_PKT_STATUS_OK" title='VMXNET3_PKT_STATUS_OK' data-ref="VMXNET3_PKT_STATUS_OK">VMXNET3_PKT_STATUS_OK</a>);</td></tr>
<tr><th id="734">734</th><td>}</td></tr>
<tr><th id="735">735</th><td></td></tr>
<tr><th id="736">736</th><td><em>static</em> <em>void</em> <dfn class="tu decl def" id="vmxnet3_process_tx_queue" title='vmxnet3_process_tx_queue' data-type='void vmxnet3_process_tx_queue(VMXNET3State * s, int qidx)' data-ref="vmxnet3_process_tx_queue">vmxnet3_process_tx_queue</dfn>(<a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a> *<dfn class="local col5 decl" id="155s" title='s' data-type='VMXNET3State *' data-ref="155s">s</dfn>, <em>int</em> <dfn class="local col6 decl" id="156qidx" title='qidx' data-type='int' data-ref="156qidx">qidx</dfn>)</td></tr>
<tr><th id="737">737</th><td>{</td></tr>
<tr><th id="738">738</th><td>    <b>struct</b> <a class="type" href="vmxnet3.h.html#Vmxnet3_TxDesc" title='Vmxnet3_TxDesc' data-ref="Vmxnet3_TxDesc">Vmxnet3_TxDesc</a> <dfn class="local col7 decl" id="157txd" title='txd' data-type='struct Vmxnet3_TxDesc' data-ref="157txd">txd</dfn>;</td></tr>
<tr><th id="739">739</th><td>    <a class="typedef" href="../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> <dfn class="local col8 decl" id="158txd_idx" title='txd_idx' data-type='uint32_t' data-ref="158txd_idx">txd_idx</dfn>;</td></tr>
<tr><th id="740">740</th><td>    <a class="typedef" href="../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> <dfn class="local col9 decl" id="159data_len" title='data_len' data-type='uint32_t' data-ref="159data_len">data_len</dfn>;</td></tr>
<tr><th id="741">741</th><td>    <a class="typedef" href="../../include/exec/hwaddr.h.html#hwaddr" title='hwaddr' data-type='uint64_t' data-ref="hwaddr">hwaddr</a> <dfn class="local col0 decl" id="160data_pa" title='data_pa' data-type='hwaddr' data-ref="160data_pa">data_pa</dfn>;</td></tr>
<tr><th id="742">742</th><td></td></tr>
<tr><th id="743">743</th><td>    <b>for</b> (;;) {</td></tr>
<tr><th id="744">744</th><td>        <b>if</b> (!<a class="tu ref" href="#vmxnet3_pop_next_tx_descr" title='vmxnet3_pop_next_tx_descr' data-use='c' data-ref="vmxnet3_pop_next_tx_descr">vmxnet3_pop_next_tx_descr</a>(<a class="local col5 ref" href="#155s" title='s' data-ref="155s">s</a>, <a class="local col6 ref" href="#156qidx" title='qidx' data-ref="156qidx">qidx</a>, &amp;<a class="local col7 ref" href="#157txd" title='txd' data-ref="157txd">txd</a>, &amp;<a class="local col8 ref" href="#158txd_idx" title='txd_idx' data-ref="158txd_idx">txd_idx</a>)) {</td></tr>
<tr><th id="745">745</th><td>            <b>break</b>;</td></tr>
<tr><th id="746">746</th><td>        }</td></tr>
<tr><th id="747">747</th><td></td></tr>
<tr><th id="748">748</th><td>        <a class="tu ref" href="#vmxnet3_dump_tx_descr" title='vmxnet3_dump_tx_descr' data-use='c' data-ref="vmxnet3_dump_tx_descr">vmxnet3_dump_tx_descr</a>(&amp;<a class="local col7 ref" href="#157txd" title='txd' data-ref="157txd">txd</a>);</td></tr>
<tr><th id="749">749</th><td></td></tr>
<tr><th id="750">750</th><td>        <b>if</b> (!<a class="local col5 ref" href="#155s" title='s' data-ref="155s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::skip_current_tx_pkt" title='(anonymous struct)::skip_current_tx_pkt' data-use='r' data-ref="(anonymous)::skip_current_tx_pkt">skip_current_tx_pkt</a>) {</td></tr>
<tr><th id="751">751</th><td>            <a class="local col9 ref" href="#159data_len" title='data_len' data-ref="159data_len">data_len</a> = (<a class="local col7 ref" href="#157txd" title='txd' data-ref="157txd">txd</a>.<a class="ref" href="vmxnet3.h.html#Vmxnet3_TxDesc::len" title='Vmxnet3_TxDesc::len' data-ref="Vmxnet3_TxDesc::len">len</a> &gt; <var>0</var>) ? <a class="local col7 ref" href="#157txd" title='txd' data-ref="157txd">txd</a>.<a class="ref" href="vmxnet3.h.html#Vmxnet3_TxDesc::len" title='Vmxnet3_TxDesc::len' data-ref="Vmxnet3_TxDesc::len">len</a> : <a class="macro" href="vmxnet3.h.html#433" title="(1 &lt;&lt; 14)" data-ref="_M/VMXNET3_MAX_TX_BUF_SIZE">VMXNET3_MAX_TX_BUF_SIZE</a>;</td></tr>
<tr><th id="752">752</th><td>            <a class="local col0 ref" href="#160data_pa" title='data_pa' data-ref="160data_pa">data_pa</a> = <a class="ref" href="../../include/qemu/bswap.h.html#168" title='le64_to_cpu' data-ref="le64_to_cpu">le64_to_cpu</a>(<a class="local col7 ref" href="#157txd" title='txd' data-ref="157txd">txd</a>.<a class="ref" href="vmxnet3.h.html#Vmxnet3_TxDesc::addr" title='Vmxnet3_TxDesc::addr' data-ref="Vmxnet3_TxDesc::addr">addr</a>);</td></tr>
<tr><th id="753">753</th><td></td></tr>
<tr><th id="754">754</th><td>            <b>if</b> (!<a class="ref" href="net_tx_pkt.h.html#net_tx_pkt_add_raw_fragment" title='net_tx_pkt_add_raw_fragment' data-ref="net_tx_pkt_add_raw_fragment">net_tx_pkt_add_raw_fragment</a>(<a class="local col5 ref" href="#155s" title='s' data-ref="155s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::tx_pkt" title='(anonymous struct)::tx_pkt' data-use='r' data-ref="(anonymous)::tx_pkt">tx_pkt</a>,</td></tr>
<tr><th id="755">755</th><td>                                                <a class="local col0 ref" href="#160data_pa" title='data_pa' data-ref="160data_pa">data_pa</a>,</td></tr>
<tr><th id="756">756</th><td>                                                <a class="local col9 ref" href="#159data_len" title='data_len' data-ref="159data_len">data_len</a>)) {</td></tr>
<tr><th id="757">757</th><td>                <a class="local col5 ref" href="#155s" title='s' data-ref="155s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::skip_current_tx_pkt" title='(anonymous struct)::skip_current_tx_pkt' data-use='w' data-ref="(anonymous)::skip_current_tx_pkt">skip_current_tx_pkt</a> = <span class="macro" title="1" data-ref="_M/true">true</span>;</td></tr>
<tr><th id="758">758</th><td>            }</td></tr>
<tr><th id="759">759</th><td>        }</td></tr>
<tr><th id="760">760</th><td></td></tr>
<tr><th id="761">761</th><td>        <b>if</b> (<a class="local col5 ref" href="#155s" title='s' data-ref="155s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::tx_sop" title='(anonymous struct)::tx_sop' data-use='r' data-ref="(anonymous)::tx_sop">tx_sop</a>) {</td></tr>
<tr><th id="762">762</th><td>            <a class="tu ref" href="#vmxnet3_tx_retrieve_metadata" title='vmxnet3_tx_retrieve_metadata' data-use='c' data-ref="vmxnet3_tx_retrieve_metadata">vmxnet3_tx_retrieve_metadata</a>(<a class="local col5 ref" href="#155s" title='s' data-ref="155s">s</a>, &amp;<a class="local col7 ref" href="#157txd" title='txd' data-ref="157txd">txd</a>);</td></tr>
<tr><th id="763">763</th><td>            <a class="local col5 ref" href="#155s" title='s' data-ref="155s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::tx_sop" title='(anonymous struct)::tx_sop' data-use='w' data-ref="(anonymous)::tx_sop">tx_sop</a> = <span class="macro" title="0" data-ref="_M/false">false</span>;</td></tr>
<tr><th id="764">764</th><td>        }</td></tr>
<tr><th id="765">765</th><td></td></tr>
<tr><th id="766">766</th><td>        <b>if</b> (<a class="local col7 ref" href="#157txd" title='txd' data-ref="157txd">txd</a>.<a class="ref" href="vmxnet3.h.html#Vmxnet3_TxDesc::eop" title='Vmxnet3_TxDesc::eop' data-ref="Vmxnet3_TxDesc::eop">eop</a>) {</td></tr>
<tr><th id="767">767</th><td>            <b>if</b> (!<a class="local col5 ref" href="#155s" title='s' data-ref="155s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::skip_current_tx_pkt" title='(anonymous struct)::skip_current_tx_pkt' data-use='r' data-ref="(anonymous)::skip_current_tx_pkt">skip_current_tx_pkt</a> &amp;&amp; <a class="ref" href="net_tx_pkt.h.html#net_tx_pkt_parse" title='net_tx_pkt_parse' data-ref="net_tx_pkt_parse">net_tx_pkt_parse</a>(<a class="local col5 ref" href="#155s" title='s' data-ref="155s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::tx_pkt" title='(anonymous struct)::tx_pkt' data-use='r' data-ref="(anonymous)::tx_pkt">tx_pkt</a>)) {</td></tr>
<tr><th id="768">768</th><td>                <b>if</b> (<a class="local col5 ref" href="#155s" title='s' data-ref="155s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::needs_vlan" title='(anonymous struct)::needs_vlan' data-use='r' data-ref="(anonymous)::needs_vlan">needs_vlan</a>) {</td></tr>
<tr><th id="769">769</th><td>                    <a class="ref" href="net_tx_pkt.h.html#net_tx_pkt_setup_vlan_header" title='net_tx_pkt_setup_vlan_header' data-ref="net_tx_pkt_setup_vlan_header">net_tx_pkt_setup_vlan_header</a>(<a class="local col5 ref" href="#155s" title='s' data-ref="155s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::tx_pkt" title='(anonymous struct)::tx_pkt' data-use='r' data-ref="(anonymous)::tx_pkt">tx_pkt</a>, <a class="local col5 ref" href="#155s" title='s' data-ref="155s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::tci" title='(anonymous struct)::tci' data-use='r' data-ref="(anonymous)::tci">tci</a>);</td></tr>
<tr><th id="770">770</th><td>                }</td></tr>
<tr><th id="771">771</th><td></td></tr>
<tr><th id="772">772</th><td>                <a class="tu ref" href="#vmxnet3_send_packet" title='vmxnet3_send_packet' data-use='c' data-ref="vmxnet3_send_packet">vmxnet3_send_packet</a>(<a class="local col5 ref" href="#155s" title='s' data-ref="155s">s</a>, <a class="local col6 ref" href="#156qidx" title='qidx' data-ref="156qidx">qidx</a>);</td></tr>
<tr><th id="773">773</th><td>            } <b>else</b> {</td></tr>
<tr><th id="774">774</th><td>                <a class="tu ref" href="#vmxnet3_on_tx_done_update_stats" title='vmxnet3_on_tx_done_update_stats' data-use='c' data-ref="vmxnet3_on_tx_done_update_stats">vmxnet3_on_tx_done_update_stats</a>(<a class="local col5 ref" href="#155s" title='s' data-ref="155s">s</a>, <a class="local col6 ref" href="#156qidx" title='qidx' data-ref="156qidx">qidx</a>,</td></tr>
<tr><th id="775">775</th><td>                                                <a class="enum" href="#VMXNET3_PKT_STATUS_ERROR" title='VMXNET3_PKT_STATUS_ERROR' data-ref="VMXNET3_PKT_STATUS_ERROR">VMXNET3_PKT_STATUS_ERROR</a>);</td></tr>
<tr><th id="776">776</th><td>            }</td></tr>
<tr><th id="777">777</th><td></td></tr>
<tr><th id="778">778</th><td>            <a class="tu ref" href="#vmxnet3_complete_packet" title='vmxnet3_complete_packet' data-use='c' data-ref="vmxnet3_complete_packet">vmxnet3_complete_packet</a>(<a class="local col5 ref" href="#155s" title='s' data-ref="155s">s</a>, <a class="local col6 ref" href="#156qidx" title='qidx' data-ref="156qidx">qidx</a>, <a class="local col8 ref" href="#158txd_idx" title='txd_idx' data-ref="158txd_idx">txd_idx</a>);</td></tr>
<tr><th id="779">779</th><td>            <a class="local col5 ref" href="#155s" title='s' data-ref="155s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::tx_sop" title='(anonymous struct)::tx_sop' data-use='w' data-ref="(anonymous)::tx_sop">tx_sop</a> = <span class="macro" title="1" data-ref="_M/true">true</span>;</td></tr>
<tr><th id="780">780</th><td>            <a class="local col5 ref" href="#155s" title='s' data-ref="155s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::skip_current_tx_pkt" title='(anonymous struct)::skip_current_tx_pkt' data-use='w' data-ref="(anonymous)::skip_current_tx_pkt">skip_current_tx_pkt</a> = <span class="macro" title="0" data-ref="_M/false">false</span>;</td></tr>
<tr><th id="781">781</th><td>            <a class="ref" href="net_tx_pkt.h.html#net_tx_pkt_reset" title='net_tx_pkt_reset' data-ref="net_tx_pkt_reset">net_tx_pkt_reset</a>(<a class="local col5 ref" href="#155s" title='s' data-ref="155s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::tx_pkt" title='(anonymous struct)::tx_pkt' data-use='r' data-ref="(anonymous)::tx_pkt">tx_pkt</a>);</td></tr>
<tr><th id="782">782</th><td>        }</td></tr>
<tr><th id="783">783</th><td>    }</td></tr>
<tr><th id="784">784</th><td>}</td></tr>
<tr><th id="785">785</th><td></td></tr>
<tr><th id="786">786</th><td><em>static</em> <b>inline</b> <em>void</em></td></tr>
<tr><th id="787">787</th><td><dfn class="tu decl def" id="vmxnet3_read_next_rx_descr" title='vmxnet3_read_next_rx_descr' data-type='void vmxnet3_read_next_rx_descr(VMXNET3State * s, int qidx, int ridx, struct Vmxnet3_RxDesc * dbuf, uint32_t * didx)' data-ref="vmxnet3_read_next_rx_descr">vmxnet3_read_next_rx_descr</dfn>(<a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a> *<dfn class="local col1 decl" id="161s" title='s' data-type='VMXNET3State *' data-ref="161s">s</dfn>, <em>int</em> <dfn class="local col2 decl" id="162qidx" title='qidx' data-type='int' data-ref="162qidx">qidx</dfn>, <em>int</em> <dfn class="local col3 decl" id="163ridx" title='ridx' data-type='int' data-ref="163ridx">ridx</dfn>,</td></tr>
<tr><th id="788">788</th><td>                           <b>struct</b> <a class="type" href="vmxnet3.h.html#Vmxnet3_RxDesc" title='Vmxnet3_RxDesc' data-ref="Vmxnet3_RxDesc">Vmxnet3_RxDesc</a> *<dfn class="local col4 decl" id="164dbuf" title='dbuf' data-type='struct Vmxnet3_RxDesc *' data-ref="164dbuf">dbuf</dfn>, <a class="typedef" href="../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> *<dfn class="local col5 decl" id="165didx" title='didx' data-type='uint32_t *' data-ref="165didx">didx</dfn>)</td></tr>
<tr><th id="789">789</th><td>{</td></tr>
<tr><th id="790">790</th><td>    <a class="typedef" href="../../include/qemu/typedefs.h.html#PCIDevice" title='PCIDevice' data-type='struct PCIDevice' data-ref="PCIDevice">PCIDevice</a> *<dfn class="local col6 decl" id="166d" title='d' data-type='PCIDevice *' data-ref="166d">d</dfn> = <a class="macro" href="../../include/hw/pci/pci.h.html#191" title="((PCIDevice *)object_dynamic_cast_assert(((Object *)((s))), (&quot;pci-device&quot;), &quot;/home/jon/workspace/qemu/hw/net/vmxnet3.c&quot;, 790, __func__))" data-ref="_M/PCI_DEVICE">PCI_DEVICE</a>(<a class="local col1 ref" href="#161s" title='s' data-ref="161s">s</a>);</td></tr>
<tr><th id="791">791</th><td></td></tr>
<tr><th id="792">792</th><td>    <a class="typedef" href="#Vmxnet3Ring" title='Vmxnet3Ring' data-type='struct Vmxnet3Ring' data-ref="Vmxnet3Ring">Vmxnet3Ring</a> *<dfn class="local col7 decl" id="167ring" title='ring' data-type='Vmxnet3Ring *' data-ref="167ring">ring</dfn> = &amp;<a class="local col1 ref" href="#161s" title='s' data-ref="161s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::rxq_descr" title='(anonymous struct)::rxq_descr' data-use='m' data-ref="(anonymous)::rxq_descr">rxq_descr</a>[<a class="local col2 ref" href="#162qidx" title='qidx' data-ref="162qidx">qidx</a>].<a class="tu ref" href="#(anonymous)::rx_ring" title='(anonymous struct)::rx_ring' data-use='a' data-ref="(anonymous)::rx_ring">rx_ring</a>[<a class="local col3 ref" href="#163ridx" title='ridx' data-ref="163ridx">ridx</a>];</td></tr>
<tr><th id="793">793</th><td>    *<a class="local col5 ref" href="#165didx" title='didx' data-ref="165didx">didx</a> = <a class="tu ref" href="#vmxnet3_ring_curr_cell_idx" title='vmxnet3_ring_curr_cell_idx' data-use='c' data-ref="vmxnet3_ring_curr_cell_idx">vmxnet3_ring_curr_cell_idx</a>(<a class="local col7 ref" href="#167ring" title='ring' data-ref="167ring">ring</a>);</td></tr>
<tr><th id="794">794</th><td>    <a class="tu ref" href="#vmxnet3_ring_read_curr_cell" title='vmxnet3_ring_read_curr_cell' data-use='c' data-ref="vmxnet3_ring_read_curr_cell">vmxnet3_ring_read_curr_cell</a>(<a class="local col6 ref" href="#166d" title='d' data-ref="166d">d</a>, <a class="local col7 ref" href="#167ring" title='ring' data-ref="167ring">ring</a>, <a class="local col4 ref" href="#164dbuf" title='dbuf' data-ref="164dbuf">dbuf</a>);</td></tr>
<tr><th id="795">795</th><td>}</td></tr>
<tr><th id="796">796</th><td></td></tr>
<tr><th id="797">797</th><td><em>static</em> <b>inline</b> <a class="typedef" href="../../../include/stdint.h.html#uint8_t" title='uint8_t' data-type='unsigned char' data-ref="uint8_t">uint8_t</a></td></tr>
<tr><th id="798">798</th><td><dfn class="tu decl def" id="vmxnet3_get_rx_ring_gen" title='vmxnet3_get_rx_ring_gen' data-type='uint8_t vmxnet3_get_rx_ring_gen(VMXNET3State * s, int qidx, int ridx)' data-ref="vmxnet3_get_rx_ring_gen">vmxnet3_get_rx_ring_gen</dfn>(<a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a> *<dfn class="local col8 decl" id="168s" title='s' data-type='VMXNET3State *' data-ref="168s">s</dfn>, <em>int</em> <dfn class="local col9 decl" id="169qidx" title='qidx' data-type='int' data-ref="169qidx">qidx</dfn>, <em>int</em> <dfn class="local col0 decl" id="170ridx" title='ridx' data-type='int' data-ref="170ridx">ridx</dfn>)</td></tr>
<tr><th id="799">799</th><td>{</td></tr>
<tr><th id="800">800</th><td>    <b>return</b> <a class="local col8 ref" href="#168s" title='s' data-ref="168s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::rxq_descr" title='(anonymous struct)::rxq_descr' data-use='m' data-ref="(anonymous)::rxq_descr">rxq_descr</a>[<a class="local col9 ref" href="#169qidx" title='qidx' data-ref="169qidx">qidx</a>].<a class="tu ref" href="#(anonymous)::rx_ring" title='(anonymous struct)::rx_ring' data-use='m' data-ref="(anonymous)::rx_ring">rx_ring</a>[<a class="local col0 ref" href="#170ridx" title='ridx' data-ref="170ridx">ridx</a>].<a class="tu ref" href="#(anonymous)::gen" title='(anonymous struct)::gen' data-use='r' data-ref="(anonymous)::gen">gen</a>;</td></tr>
<tr><th id="801">801</th><td>}</td></tr>
<tr><th id="802">802</th><td></td></tr>
<tr><th id="803">803</th><td><em>static</em> <b>inline</b> <a class="typedef" href="../../include/exec/hwaddr.h.html#hwaddr" title='hwaddr' data-type='uint64_t' data-ref="hwaddr">hwaddr</a></td></tr>
<tr><th id="804">804</th><td><dfn class="tu decl def" id="vmxnet3_pop_rxc_descr" title='vmxnet3_pop_rxc_descr' data-type='hwaddr vmxnet3_pop_rxc_descr(VMXNET3State * s, int qidx, uint32_t * descr_gen)' data-ref="vmxnet3_pop_rxc_descr">vmxnet3_pop_rxc_descr</dfn>(<a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a> *<dfn class="local col1 decl" id="171s" title='s' data-type='VMXNET3State *' data-ref="171s">s</dfn>, <em>int</em> <dfn class="local col2 decl" id="172qidx" title='qidx' data-type='int' data-ref="172qidx">qidx</dfn>, <a class="typedef" href="../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> *<dfn class="local col3 decl" id="173descr_gen" title='descr_gen' data-type='uint32_t *' data-ref="173descr_gen">descr_gen</dfn>)</td></tr>
<tr><th id="805">805</th><td>{</td></tr>
<tr><th id="806">806</th><td>    <a class="typedef" href="../../../include/stdint.h.html#uint8_t" title='uint8_t' data-type='unsigned char' data-ref="uint8_t">uint8_t</a> <dfn class="local col4 decl" id="174ring_gen" title='ring_gen' data-type='uint8_t' data-ref="174ring_gen">ring_gen</dfn>;</td></tr>
<tr><th id="807">807</th><td>    <b>struct</b> <a class="type" href="vmxnet3.h.html#Vmxnet3_RxCompDesc" title='Vmxnet3_RxCompDesc' data-ref="Vmxnet3_RxCompDesc">Vmxnet3_RxCompDesc</a> <dfn class="local col5 decl" id="175rxcd" title='rxcd' data-type='struct Vmxnet3_RxCompDesc' data-ref="175rxcd">rxcd</dfn>;</td></tr>
<tr><th id="808">808</th><td></td></tr>
<tr><th id="809">809</th><td>    <a class="typedef" href="../../include/exec/hwaddr.h.html#hwaddr" title='hwaddr' data-type='uint64_t' data-ref="hwaddr">hwaddr</a> <dfn class="local col6 decl" id="176daddr" title='daddr' data-type='hwaddr' data-ref="176daddr">daddr</dfn> =</td></tr>
<tr><th id="810">810</th><td>        <a class="tu ref" href="#vmxnet3_ring_curr_cell_pa" title='vmxnet3_ring_curr_cell_pa' data-use='c' data-ref="vmxnet3_ring_curr_cell_pa">vmxnet3_ring_curr_cell_pa</a>(&amp;<a class="local col1 ref" href="#171s" title='s' data-ref="171s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::rxq_descr" title='(anonymous struct)::rxq_descr' data-use='m' data-ref="(anonymous)::rxq_descr">rxq_descr</a>[<a class="local col2 ref" href="#172qidx" title='qidx' data-ref="172qidx">qidx</a>].<a class="tu ref" href="#(anonymous)::comp_ring" title='(anonymous struct)::comp_ring' data-use='a' data-ref="(anonymous)::comp_ring">comp_ring</a>);</td></tr>
<tr><th id="811">811</th><td></td></tr>
<tr><th id="812">812</th><td>    <a class="ref" href="../../include/hw/pci/pci.h.html#pci_dma_read" title='pci_dma_read' data-ref="pci_dma_read">pci_dma_read</a>(<a class="macro" href="../../include/hw/pci/pci.h.html#191" title="((PCIDevice *)object_dynamic_cast_assert(((Object *)((s))), (&quot;pci-device&quot;), &quot;/home/jon/workspace/qemu/hw/net/vmxnet3.c&quot;, 812, __func__))" data-ref="_M/PCI_DEVICE">PCI_DEVICE</a>(<a class="local col1 ref" href="#171s" title='s' data-ref="171s">s</a>),</td></tr>
<tr><th id="813">813</th><td>                 <a class="local col6 ref" href="#176daddr" title='daddr' data-ref="176daddr">daddr</a>, &amp;<a class="local col5 ref" href="#175rxcd" title='rxcd' data-ref="175rxcd">rxcd</a>, <b>sizeof</b>(<b>struct</b> <a class="type" href="vmxnet3.h.html#Vmxnet3_RxCompDesc" title='Vmxnet3_RxCompDesc' data-ref="Vmxnet3_RxCompDesc">Vmxnet3_RxCompDesc</a>));</td></tr>
<tr><th id="814">814</th><td>    <a class="local col4 ref" href="#174ring_gen" title='ring_gen' data-ref="174ring_gen">ring_gen</a> = <a class="tu ref" href="#vmxnet3_ring_curr_gen" title='vmxnet3_ring_curr_gen' data-use='c' data-ref="vmxnet3_ring_curr_gen">vmxnet3_ring_curr_gen</a>(&amp;<a class="local col1 ref" href="#171s" title='s' data-ref="171s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::rxq_descr" title='(anonymous struct)::rxq_descr' data-use='m' data-ref="(anonymous)::rxq_descr">rxq_descr</a>[<a class="local col2 ref" href="#172qidx" title='qidx' data-ref="172qidx">qidx</a>].<a class="tu ref" href="#(anonymous)::comp_ring" title='(anonymous struct)::comp_ring' data-use='a' data-ref="(anonymous)::comp_ring">comp_ring</a>);</td></tr>
<tr><th id="815">815</th><td></td></tr>
<tr><th id="816">816</th><td>    <b>if</b> (<a class="local col5 ref" href="#175rxcd" title='rxcd' data-ref="175rxcd">rxcd</a>.<a class="ref" href="vmxnet3.h.html#Vmxnet3_RxCompDesc::gen" title='Vmxnet3_RxCompDesc::gen' data-ref="Vmxnet3_RxCompDesc::gen">gen</a> != <a class="local col4 ref" href="#174ring_gen" title='ring_gen' data-ref="174ring_gen">ring_gen</a>) {</td></tr>
<tr><th id="817">817</th><td>        *<a class="local col3 ref" href="#173descr_gen" title='descr_gen' data-ref="173descr_gen">descr_gen</a> = <a class="local col4 ref" href="#174ring_gen" title='ring_gen' data-ref="174ring_gen">ring_gen</a>;</td></tr>
<tr><th id="818">818</th><td>        <a class="tu ref" href="#vmxnet3_inc_rx_completion_counter" title='vmxnet3_inc_rx_completion_counter' data-use='c' data-ref="vmxnet3_inc_rx_completion_counter">vmxnet3_inc_rx_completion_counter</a>(<a class="local col1 ref" href="#171s" title='s' data-ref="171s">s</a>, <a class="local col2 ref" href="#172qidx" title='qidx' data-ref="172qidx">qidx</a>);</td></tr>
<tr><th id="819">819</th><td>        <b>return</b> <a class="local col6 ref" href="#176daddr" title='daddr' data-ref="176daddr">daddr</a>;</td></tr>
<tr><th id="820">820</th><td>    }</td></tr>
<tr><th id="821">821</th><td></td></tr>
<tr><th id="822">822</th><td>    <b>return</b> <var>0</var>;</td></tr>
<tr><th id="823">823</th><td>}</td></tr>
<tr><th id="824">824</th><td></td></tr>
<tr><th id="825">825</th><td><em>static</em> <b>inline</b> <em>void</em></td></tr>
<tr><th id="826">826</th><td><dfn class="tu decl def" id="vmxnet3_revert_rxc_descr" title='vmxnet3_revert_rxc_descr' data-type='void vmxnet3_revert_rxc_descr(VMXNET3State * s, int qidx)' data-ref="vmxnet3_revert_rxc_descr">vmxnet3_revert_rxc_descr</dfn>(<a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a> *<dfn class="local col7 decl" id="177s" title='s' data-type='VMXNET3State *' data-ref="177s">s</dfn>, <em>int</em> <dfn class="local col8 decl" id="178qidx" title='qidx' data-type='int' data-ref="178qidx">qidx</dfn>)</td></tr>
<tr><th id="827">827</th><td>{</td></tr>
<tr><th id="828">828</th><td>    <a class="tu ref" href="#vmxnet3_dec_rx_completion_counter" title='vmxnet3_dec_rx_completion_counter' data-use='c' data-ref="vmxnet3_dec_rx_completion_counter">vmxnet3_dec_rx_completion_counter</a>(<a class="local col7 ref" href="#177s" title='s' data-ref="177s">s</a>, <a class="local col8 ref" href="#178qidx" title='qidx' data-ref="178qidx">qidx</a>);</td></tr>
<tr><th id="829">829</th><td>}</td></tr>
<tr><th id="830">830</th><td></td></tr>
<tr><th id="831">831</th><td><u>#define <dfn class="macro" id="_M/RXQ_IDX" data-ref="_M/RXQ_IDX">RXQ_IDX</dfn>      (0)</u></td></tr>
<tr><th id="832">832</th><td><u>#define <dfn class="macro" id="_M/RX_HEAD_BODY_RING" data-ref="_M/RX_HEAD_BODY_RING">RX_HEAD_BODY_RING</dfn> (0)</u></td></tr>
<tr><th id="833">833</th><td><u>#define <dfn class="macro" id="_M/RX_BODY_ONLY_RING" data-ref="_M/RX_BODY_ONLY_RING">RX_BODY_ONLY_RING</dfn> (1)</u></td></tr>
<tr><th id="834">834</th><td></td></tr>
<tr><th id="835">835</th><td><em>static</em> <span class="macro" title="_Bool" data-ref="_M/bool">bool</span></td></tr>
<tr><th id="836">836</th><td><dfn class="tu decl def" id="vmxnet3_get_next_head_rx_descr" title='vmxnet3_get_next_head_rx_descr' data-type='_Bool vmxnet3_get_next_head_rx_descr(VMXNET3State * s, struct Vmxnet3_RxDesc * descr_buf, uint32_t * descr_idx, uint32_t * ridx)' data-ref="vmxnet3_get_next_head_rx_descr">vmxnet3_get_next_head_rx_descr</dfn>(<a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a> *<dfn class="local col9 decl" id="179s" title='s' data-type='VMXNET3State *' data-ref="179s">s</dfn>,</td></tr>
<tr><th id="837">837</th><td>                               <b>struct</b> <a class="type" href="vmxnet3.h.html#Vmxnet3_RxDesc" title='Vmxnet3_RxDesc' data-ref="Vmxnet3_RxDesc">Vmxnet3_RxDesc</a> *<dfn class="local col0 decl" id="180descr_buf" title='descr_buf' data-type='struct Vmxnet3_RxDesc *' data-ref="180descr_buf">descr_buf</dfn>,</td></tr>
<tr><th id="838">838</th><td>                               <a class="typedef" href="../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> *<dfn class="local col1 decl" id="181descr_idx" title='descr_idx' data-type='uint32_t *' data-ref="181descr_idx">descr_idx</dfn>,</td></tr>
<tr><th id="839">839</th><td>                               <a class="typedef" href="../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> *<dfn class="local col2 decl" id="182ridx" title='ridx' data-type='uint32_t *' data-ref="182ridx">ridx</dfn>)</td></tr>
<tr><th id="840">840</th><td>{</td></tr>
<tr><th id="841">841</th><td>    <b>for</b> (;;) {</td></tr>
<tr><th id="842">842</th><td>        <a class="typedef" href="../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> <dfn class="local col3 decl" id="183ring_gen" title='ring_gen' data-type='uint32_t' data-ref="183ring_gen">ring_gen</dfn>;</td></tr>
<tr><th id="843">843</th><td>        <a class="tu ref" href="#vmxnet3_read_next_rx_descr" title='vmxnet3_read_next_rx_descr' data-use='c' data-ref="vmxnet3_read_next_rx_descr">vmxnet3_read_next_rx_descr</a>(<a class="local col9 ref" href="#179s" title='s' data-ref="179s">s</a>, <a class="macro" href="#831" title="(0)" data-ref="_M/RXQ_IDX">RXQ_IDX</a>, <a class="macro" href="#832" title="(0)" data-ref="_M/RX_HEAD_BODY_RING">RX_HEAD_BODY_RING</a>,</td></tr>
<tr><th id="844">844</th><td>                                   <a class="local col0 ref" href="#180descr_buf" title='descr_buf' data-ref="180descr_buf">descr_buf</a>, <a class="local col1 ref" href="#181descr_idx" title='descr_idx' data-ref="181descr_idx">descr_idx</a>);</td></tr>
<tr><th id="845">845</th><td></td></tr>
<tr><th id="846">846</th><td>        <i>/* If no more free descriptors - return */</i></td></tr>
<tr><th id="847">847</th><td>        <a class="local col3 ref" href="#183ring_gen" title='ring_gen' data-ref="183ring_gen">ring_gen</a> = <a class="tu ref" href="#vmxnet3_get_rx_ring_gen" title='vmxnet3_get_rx_ring_gen' data-use='c' data-ref="vmxnet3_get_rx_ring_gen">vmxnet3_get_rx_ring_gen</a>(<a class="local col9 ref" href="#179s" title='s' data-ref="179s">s</a>, <a class="macro" href="#831" title="(0)" data-ref="_M/RXQ_IDX">RXQ_IDX</a>, <a class="macro" href="#832" title="(0)" data-ref="_M/RX_HEAD_BODY_RING">RX_HEAD_BODY_RING</a>);</td></tr>
<tr><th id="848">848</th><td>        <b>if</b> (<a class="local col0 ref" href="#180descr_buf" title='descr_buf' data-ref="180descr_buf">descr_buf</a>-&gt;<a class="ref" href="vmxnet3.h.html#Vmxnet3_RxDesc::gen" title='Vmxnet3_RxDesc::gen' data-ref="Vmxnet3_RxDesc::gen">gen</a> != <a class="local col3 ref" href="#183ring_gen" title='ring_gen' data-ref="183ring_gen">ring_gen</a>) {</td></tr>
<tr><th id="849">849</th><td>            <b>return</b> <span class="macro" title="0" data-ref="_M/false">false</span>;</td></tr>
<tr><th id="850">850</th><td>        }</td></tr>
<tr><th id="851">851</th><td></td></tr>
<tr><th id="852">852</th><td>        <i>/* Only read after generation field verification */</i></td></tr>
<tr><th id="853">853</th><td>        <a class="macro" href="../../include/qemu/atomic.h.html#415" title="({ ({ asm volatile(&quot;&quot; ::: &quot;memory&quot;); (void)0; }); __atomic_thread_fence(2); })" data-ref="_M/smp_rmb">smp_rmb</a>();</td></tr>
<tr><th id="854">854</th><td>        <i>/* Re-read to be sure we got the latest version */</i></td></tr>
<tr><th id="855">855</th><td>        <a class="tu ref" href="#vmxnet3_read_next_rx_descr" title='vmxnet3_read_next_rx_descr' data-use='c' data-ref="vmxnet3_read_next_rx_descr">vmxnet3_read_next_rx_descr</a>(<a class="local col9 ref" href="#179s" title='s' data-ref="179s">s</a>, <a class="macro" href="#831" title="(0)" data-ref="_M/RXQ_IDX">RXQ_IDX</a>, <a class="macro" href="#832" title="(0)" data-ref="_M/RX_HEAD_BODY_RING">RX_HEAD_BODY_RING</a>,</td></tr>
<tr><th id="856">856</th><td>                                   <a class="local col0 ref" href="#180descr_buf" title='descr_buf' data-ref="180descr_buf">descr_buf</a>, <a class="local col1 ref" href="#181descr_idx" title='descr_idx' data-ref="181descr_idx">descr_idx</a>);</td></tr>
<tr><th id="857">857</th><td></td></tr>
<tr><th id="858">858</th><td>        <i>/* Mark current descriptor as used/skipped */</i></td></tr>
<tr><th id="859">859</th><td>        <a class="tu ref" href="#vmxnet3_inc_rx_consumption_counter" title='vmxnet3_inc_rx_consumption_counter' data-use='c' data-ref="vmxnet3_inc_rx_consumption_counter">vmxnet3_inc_rx_consumption_counter</a>(<a class="local col9 ref" href="#179s" title='s' data-ref="179s">s</a>, <a class="macro" href="#831" title="(0)" data-ref="_M/RXQ_IDX">RXQ_IDX</a>, <a class="macro" href="#832" title="(0)" data-ref="_M/RX_HEAD_BODY_RING">RX_HEAD_BODY_RING</a>);</td></tr>
<tr><th id="860">860</th><td></td></tr>
<tr><th id="861">861</th><td>        <i>/* If this is what we are looking for - return */</i></td></tr>
<tr><th id="862">862</th><td>        <b>if</b> (<a class="local col0 ref" href="#180descr_buf" title='descr_buf' data-ref="180descr_buf">descr_buf</a>-&gt;<a class="ref" href="vmxnet3.h.html#Vmxnet3_RxDesc::btype" title='Vmxnet3_RxDesc::btype' data-ref="Vmxnet3_RxDesc::btype">btype</a> == <a class="macro" href="vmxnet3.h.html#325" title="0" data-ref="_M/VMXNET3_RXD_BTYPE_HEAD">VMXNET3_RXD_BTYPE_HEAD</a>) {</td></tr>
<tr><th id="863">863</th><td>            *<a class="local col2 ref" href="#182ridx" title='ridx' data-ref="182ridx">ridx</a> = <a class="macro" href="#832" title="(0)" data-ref="_M/RX_HEAD_BODY_RING">RX_HEAD_BODY_RING</a>;</td></tr>
<tr><th id="864">864</th><td>            <b>return</b> <span class="macro" title="1" data-ref="_M/true">true</span>;</td></tr>
<tr><th id="865">865</th><td>        }</td></tr>
<tr><th id="866">866</th><td>    }</td></tr>
<tr><th id="867">867</th><td>}</td></tr>
<tr><th id="868">868</th><td></td></tr>
<tr><th id="869">869</th><td><em>static</em> <span class="macro" title="_Bool" data-ref="_M/bool">bool</span></td></tr>
<tr><th id="870">870</th><td><dfn class="tu decl def" id="vmxnet3_get_next_body_rx_descr" title='vmxnet3_get_next_body_rx_descr' data-type='_Bool vmxnet3_get_next_body_rx_descr(VMXNET3State * s, struct Vmxnet3_RxDesc * d, uint32_t * didx, uint32_t * ridx)' data-ref="vmxnet3_get_next_body_rx_descr">vmxnet3_get_next_body_rx_descr</dfn>(<a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a> *<dfn class="local col4 decl" id="184s" title='s' data-type='VMXNET3State *' data-ref="184s">s</dfn>,</td></tr>
<tr><th id="871">871</th><td>                               <b>struct</b> <a class="type" href="vmxnet3.h.html#Vmxnet3_RxDesc" title='Vmxnet3_RxDesc' data-ref="Vmxnet3_RxDesc">Vmxnet3_RxDesc</a> *<dfn class="local col5 decl" id="185d" title='d' data-type='struct Vmxnet3_RxDesc *' data-ref="185d">d</dfn>,</td></tr>
<tr><th id="872">872</th><td>                               <a class="typedef" href="../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> *<dfn class="local col6 decl" id="186didx" title='didx' data-type='uint32_t *' data-ref="186didx">didx</dfn>,</td></tr>
<tr><th id="873">873</th><td>                               <a class="typedef" href="../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> *<dfn class="local col7 decl" id="187ridx" title='ridx' data-type='uint32_t *' data-ref="187ridx">ridx</dfn>)</td></tr>
<tr><th id="874">874</th><td>{</td></tr>
<tr><th id="875">875</th><td>    <a class="tu ref" href="#vmxnet3_read_next_rx_descr" title='vmxnet3_read_next_rx_descr' data-use='c' data-ref="vmxnet3_read_next_rx_descr">vmxnet3_read_next_rx_descr</a>(<a class="local col4 ref" href="#184s" title='s' data-ref="184s">s</a>, <a class="macro" href="#831" title="(0)" data-ref="_M/RXQ_IDX">RXQ_IDX</a>, <a class="macro" href="#832" title="(0)" data-ref="_M/RX_HEAD_BODY_RING">RX_HEAD_BODY_RING</a>, <a class="local col5 ref" href="#185d" title='d' data-ref="185d">d</a>, <a class="local col6 ref" href="#186didx" title='didx' data-ref="186didx">didx</a>);</td></tr>
<tr><th id="876">876</th><td></td></tr>
<tr><th id="877">877</th><td>    <i>/* Try to find corresponding descriptor in head/body ring */</i></td></tr>
<tr><th id="878">878</th><td>    <b>if</b> (<a class="local col5 ref" href="#185d" title='d' data-ref="185d">d</a>-&gt;<a class="ref" href="vmxnet3.h.html#Vmxnet3_RxDesc::gen" title='Vmxnet3_RxDesc::gen' data-ref="Vmxnet3_RxDesc::gen">gen</a> == <a class="tu ref" href="#vmxnet3_get_rx_ring_gen" title='vmxnet3_get_rx_ring_gen' data-use='c' data-ref="vmxnet3_get_rx_ring_gen">vmxnet3_get_rx_ring_gen</a>(<a class="local col4 ref" href="#184s" title='s' data-ref="184s">s</a>, <a class="macro" href="#831" title="(0)" data-ref="_M/RXQ_IDX">RXQ_IDX</a>, <a class="macro" href="#832" title="(0)" data-ref="_M/RX_HEAD_BODY_RING">RX_HEAD_BODY_RING</a>)) {</td></tr>
<tr><th id="879">879</th><td>        <i>/* Only read after generation field verification */</i></td></tr>
<tr><th id="880">880</th><td>        <a class="macro" href="../../include/qemu/atomic.h.html#415" title="({ ({ asm volatile(&quot;&quot; ::: &quot;memory&quot;); (void)0; }); __atomic_thread_fence(2); })" data-ref="_M/smp_rmb">smp_rmb</a>();</td></tr>
<tr><th id="881">881</th><td>        <i>/* Re-read to be sure we got the latest version */</i></td></tr>
<tr><th id="882">882</th><td>        <a class="tu ref" href="#vmxnet3_read_next_rx_descr" title='vmxnet3_read_next_rx_descr' data-use='c' data-ref="vmxnet3_read_next_rx_descr">vmxnet3_read_next_rx_descr</a>(<a class="local col4 ref" href="#184s" title='s' data-ref="184s">s</a>, <a class="macro" href="#831" title="(0)" data-ref="_M/RXQ_IDX">RXQ_IDX</a>, <a class="macro" href="#832" title="(0)" data-ref="_M/RX_HEAD_BODY_RING">RX_HEAD_BODY_RING</a>, <a class="local col5 ref" href="#185d" title='d' data-ref="185d">d</a>, <a class="local col6 ref" href="#186didx" title='didx' data-ref="186didx">didx</a>);</td></tr>
<tr><th id="883">883</th><td>        <b>if</b> (<a class="local col5 ref" href="#185d" title='d' data-ref="185d">d</a>-&gt;<a class="ref" href="vmxnet3.h.html#Vmxnet3_RxDesc::btype" title='Vmxnet3_RxDesc::btype' data-ref="Vmxnet3_RxDesc::btype">btype</a> == <a class="macro" href="vmxnet3.h.html#326" title="1" data-ref="_M/VMXNET3_RXD_BTYPE_BODY">VMXNET3_RXD_BTYPE_BODY</a>) {</td></tr>
<tr><th id="884">884</th><td>            <a class="tu ref" href="#vmxnet3_inc_rx_consumption_counter" title='vmxnet3_inc_rx_consumption_counter' data-use='c' data-ref="vmxnet3_inc_rx_consumption_counter">vmxnet3_inc_rx_consumption_counter</a>(<a class="local col4 ref" href="#184s" title='s' data-ref="184s">s</a>, <a class="macro" href="#831" title="(0)" data-ref="_M/RXQ_IDX">RXQ_IDX</a>, <a class="macro" href="#832" title="(0)" data-ref="_M/RX_HEAD_BODY_RING">RX_HEAD_BODY_RING</a>);</td></tr>
<tr><th id="885">885</th><td>            *<a class="local col7 ref" href="#187ridx" title='ridx' data-ref="187ridx">ridx</a> = <a class="macro" href="#832" title="(0)" data-ref="_M/RX_HEAD_BODY_RING">RX_HEAD_BODY_RING</a>;</td></tr>
<tr><th id="886">886</th><td>            <b>return</b> <span class="macro" title="1" data-ref="_M/true">true</span>;</td></tr>
<tr><th id="887">887</th><td>        }</td></tr>
<tr><th id="888">888</th><td>    }</td></tr>
<tr><th id="889">889</th><td></td></tr>
<tr><th id="890">890</th><td>    <i>/*</i></td></tr>
<tr><th id="891">891</th><td><i>     * If there is no free descriptors on head/body ring or next free</i></td></tr>
<tr><th id="892">892</th><td><i>     * descriptor is a head descriptor switch to body only ring</i></td></tr>
<tr><th id="893">893</th><td><i>     */</i></td></tr>
<tr><th id="894">894</th><td>    <a class="tu ref" href="#vmxnet3_read_next_rx_descr" title='vmxnet3_read_next_rx_descr' data-use='c' data-ref="vmxnet3_read_next_rx_descr">vmxnet3_read_next_rx_descr</a>(<a class="local col4 ref" href="#184s" title='s' data-ref="184s">s</a>, <a class="macro" href="#831" title="(0)" data-ref="_M/RXQ_IDX">RXQ_IDX</a>, <a class="macro" href="#833" title="(1)" data-ref="_M/RX_BODY_ONLY_RING">RX_BODY_ONLY_RING</a>, <a class="local col5 ref" href="#185d" title='d' data-ref="185d">d</a>, <a class="local col6 ref" href="#186didx" title='didx' data-ref="186didx">didx</a>);</td></tr>
<tr><th id="895">895</th><td></td></tr>
<tr><th id="896">896</th><td>    <i>/* If no more free descriptors - return */</i></td></tr>
<tr><th id="897">897</th><td>    <b>if</b> (<a class="local col5 ref" href="#185d" title='d' data-ref="185d">d</a>-&gt;<a class="ref" href="vmxnet3.h.html#Vmxnet3_RxDesc::gen" title='Vmxnet3_RxDesc::gen' data-ref="Vmxnet3_RxDesc::gen">gen</a> == <a class="tu ref" href="#vmxnet3_get_rx_ring_gen" title='vmxnet3_get_rx_ring_gen' data-use='c' data-ref="vmxnet3_get_rx_ring_gen">vmxnet3_get_rx_ring_gen</a>(<a class="local col4 ref" href="#184s" title='s' data-ref="184s">s</a>, <a class="macro" href="#831" title="(0)" data-ref="_M/RXQ_IDX">RXQ_IDX</a>, <a class="macro" href="#833" title="(1)" data-ref="_M/RX_BODY_ONLY_RING">RX_BODY_ONLY_RING</a>)) {</td></tr>
<tr><th id="898">898</th><td>        <i>/* Only read after generation field verification */</i></td></tr>
<tr><th id="899">899</th><td>        <a class="macro" href="../../include/qemu/atomic.h.html#415" title="({ ({ asm volatile(&quot;&quot; ::: &quot;memory&quot;); (void)0; }); __atomic_thread_fence(2); })" data-ref="_M/smp_rmb">smp_rmb</a>();</td></tr>
<tr><th id="900">900</th><td>        <i>/* Re-read to be sure we got the latest version */</i></td></tr>
<tr><th id="901">901</th><td>        <a class="tu ref" href="#vmxnet3_read_next_rx_descr" title='vmxnet3_read_next_rx_descr' data-use='c' data-ref="vmxnet3_read_next_rx_descr">vmxnet3_read_next_rx_descr</a>(<a class="local col4 ref" href="#184s" title='s' data-ref="184s">s</a>, <a class="macro" href="#831" title="(0)" data-ref="_M/RXQ_IDX">RXQ_IDX</a>, <a class="macro" href="#833" title="(1)" data-ref="_M/RX_BODY_ONLY_RING">RX_BODY_ONLY_RING</a>, <a class="local col5 ref" href="#185d" title='d' data-ref="185d">d</a>, <a class="local col6 ref" href="#186didx" title='didx' data-ref="186didx">didx</a>);</td></tr>
<tr><th id="902">902</th><td>        <a class="macro" href="../../../include/assert.h.html#88" title="((d-&gt;btype == 1) ? (void) (0) : __assert_fail (&quot;d-&gt;btype == VMXNET3_RXD_BTYPE_BODY&quot;, &quot;/home/jon/workspace/qemu/hw/net/vmxnet3.c&quot;, 902, __PRETTY_FUNCTION__))" data-ref="_M/assert">assert</a>(<a class="local col5 ref" href="#185d" title='d' data-ref="185d">d</a>-&gt;<a class="ref" href="vmxnet3.h.html#Vmxnet3_RxDesc::btype" title='Vmxnet3_RxDesc::btype' data-ref="Vmxnet3_RxDesc::btype">btype</a> == <a class="macro" href="vmxnet3.h.html#326" title="1" data-ref="_M/VMXNET3_RXD_BTYPE_BODY">VMXNET3_RXD_BTYPE_BODY</a>);</td></tr>
<tr><th id="903">903</th><td>        *<a class="local col7 ref" href="#187ridx" title='ridx' data-ref="187ridx">ridx</a> = <a class="macro" href="#833" title="(1)" data-ref="_M/RX_BODY_ONLY_RING">RX_BODY_ONLY_RING</a>;</td></tr>
<tr><th id="904">904</th><td>        <a class="tu ref" href="#vmxnet3_inc_rx_consumption_counter" title='vmxnet3_inc_rx_consumption_counter' data-use='c' data-ref="vmxnet3_inc_rx_consumption_counter">vmxnet3_inc_rx_consumption_counter</a>(<a class="local col4 ref" href="#184s" title='s' data-ref="184s">s</a>, <a class="macro" href="#831" title="(0)" data-ref="_M/RXQ_IDX">RXQ_IDX</a>, <a class="macro" href="#833" title="(1)" data-ref="_M/RX_BODY_ONLY_RING">RX_BODY_ONLY_RING</a>);</td></tr>
<tr><th id="905">905</th><td>        <b>return</b> <span class="macro" title="1" data-ref="_M/true">true</span>;</td></tr>
<tr><th id="906">906</th><td>    }</td></tr>
<tr><th id="907">907</th><td></td></tr>
<tr><th id="908">908</th><td>    <b>return</b> <span class="macro" title="0" data-ref="_M/false">false</span>;</td></tr>
<tr><th id="909">909</th><td>}</td></tr>
<tr><th id="910">910</th><td></td></tr>
<tr><th id="911">911</th><td><em>static</em> <b>inline</b> <span class="macro" title="_Bool" data-ref="_M/bool">bool</span></td></tr>
<tr><th id="912">912</th><td><dfn class="tu decl def" id="vmxnet3_get_next_rx_descr" title='vmxnet3_get_next_rx_descr' data-type='_Bool vmxnet3_get_next_rx_descr(VMXNET3State * s, _Bool is_head, struct Vmxnet3_RxDesc * descr_buf, uint32_t * descr_idx, uint32_t * ridx)' data-ref="vmxnet3_get_next_rx_descr">vmxnet3_get_next_rx_descr</dfn>(<a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a> *<dfn class="local col8 decl" id="188s" title='s' data-type='VMXNET3State *' data-ref="188s">s</dfn>, <span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="local col9 decl" id="189is_head" title='is_head' data-type='_Bool' data-ref="189is_head">is_head</dfn>,</td></tr>
<tr><th id="913">913</th><td>                          <b>struct</b> <a class="type" href="vmxnet3.h.html#Vmxnet3_RxDesc" title='Vmxnet3_RxDesc' data-ref="Vmxnet3_RxDesc">Vmxnet3_RxDesc</a> *<dfn class="local col0 decl" id="190descr_buf" title='descr_buf' data-type='struct Vmxnet3_RxDesc *' data-ref="190descr_buf">descr_buf</dfn>,</td></tr>
<tr><th id="914">914</th><td>                          <a class="typedef" href="../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> *<dfn class="local col1 decl" id="191descr_idx" title='descr_idx' data-type='uint32_t *' data-ref="191descr_idx">descr_idx</dfn>,</td></tr>
<tr><th id="915">915</th><td>                          <a class="typedef" href="../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> *<dfn class="local col2 decl" id="192ridx" title='ridx' data-type='uint32_t *' data-ref="192ridx">ridx</dfn>)</td></tr>
<tr><th id="916">916</th><td>{</td></tr>
<tr><th id="917">917</th><td>    <b>if</b> (<a class="local col9 ref" href="#189is_head" title='is_head' data-ref="189is_head">is_head</a> || !<a class="local col8 ref" href="#188s" title='s' data-ref="188s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::rx_packets_compound" title='(anonymous struct)::rx_packets_compound' data-use='r' data-ref="(anonymous)::rx_packets_compound">rx_packets_compound</a>) {</td></tr>
<tr><th id="918">918</th><td>        <b>return</b> <a class="tu ref" href="#vmxnet3_get_next_head_rx_descr" title='vmxnet3_get_next_head_rx_descr' data-use='c' data-ref="vmxnet3_get_next_head_rx_descr">vmxnet3_get_next_head_rx_descr</a>(<a class="local col8 ref" href="#188s" title='s' data-ref="188s">s</a>, <a class="local col0 ref" href="#190descr_buf" title='descr_buf' data-ref="190descr_buf">descr_buf</a>, <a class="local col1 ref" href="#191descr_idx" title='descr_idx' data-ref="191descr_idx">descr_idx</a>, <a class="local col2 ref" href="#192ridx" title='ridx' data-ref="192ridx">ridx</a>);</td></tr>
<tr><th id="919">919</th><td>    } <b>else</b> {</td></tr>
<tr><th id="920">920</th><td>        <b>return</b> <a class="tu ref" href="#vmxnet3_get_next_body_rx_descr" title='vmxnet3_get_next_body_rx_descr' data-use='c' data-ref="vmxnet3_get_next_body_rx_descr">vmxnet3_get_next_body_rx_descr</a>(<a class="local col8 ref" href="#188s" title='s' data-ref="188s">s</a>, <a class="local col0 ref" href="#190descr_buf" title='descr_buf' data-ref="190descr_buf">descr_buf</a>, <a class="local col1 ref" href="#191descr_idx" title='descr_idx' data-ref="191descr_idx">descr_idx</a>, <a class="local col2 ref" href="#192ridx" title='ridx' data-ref="192ridx">ridx</a>);</td></tr>
<tr><th id="921">921</th><td>    }</td></tr>
<tr><th id="922">922</th><td>}</td></tr>
<tr><th id="923">923</th><td></td></tr>
<tr><th id="924">924</th><td><i  data-doc="vmxnet3_rx_need_csum_calculate">/* In case packet was csum offloaded (either NEEDS_CSUM or DATA_VALID),</i></td></tr>
<tr><th id="925">925</th><td><i  data-doc="vmxnet3_rx_need_csum_calculate"> * the implementation always passes an RxCompDesc with a "Checksum</i></td></tr>
<tr><th id="926">926</th><td><i  data-doc="vmxnet3_rx_need_csum_calculate"> * calculated and found correct" to the OS (cnc=0 and tuc=1, see</i></td></tr>
<tr><th id="927">927</th><td><i  data-doc="vmxnet3_rx_need_csum_calculate"> * vmxnet3_rx_update_descr). This emulates the observed ESXi behavior.</i></td></tr>
<tr><th id="928">928</th><td><i  data-doc="vmxnet3_rx_need_csum_calculate"> *</i></td></tr>
<tr><th id="929">929</th><td><i  data-doc="vmxnet3_rx_need_csum_calculate"> * Therefore, if packet has the NEEDS_CSUM set, we must calculate</i></td></tr>
<tr><th id="930">930</th><td><i  data-doc="vmxnet3_rx_need_csum_calculate"> * and place a fully computed checksum into the tcp/udp header.</i></td></tr>
<tr><th id="931">931</th><td><i  data-doc="vmxnet3_rx_need_csum_calculate"> * Otherwise, the OS driver will receive a checksum-correct indication</i></td></tr>
<tr><th id="932">932</th><td><i  data-doc="vmxnet3_rx_need_csum_calculate"> * (CHECKSUM_UNNECESSARY), but with the actual tcp/udp checksum field</i></td></tr>
<tr><th id="933">933</th><td><i  data-doc="vmxnet3_rx_need_csum_calculate"> * having just the pseudo header csum value.</i></td></tr>
<tr><th id="934">934</th><td><i  data-doc="vmxnet3_rx_need_csum_calculate"> *</i></td></tr>
<tr><th id="935">935</th><td><i  data-doc="vmxnet3_rx_need_csum_calculate"> * While this is not a problem if packet is destined for local delivery,</i></td></tr>
<tr><th id="936">936</th><td><i  data-doc="vmxnet3_rx_need_csum_calculate"> * in the case the host OS performs forwarding, it will forward an</i></td></tr>
<tr><th id="937">937</th><td><i  data-doc="vmxnet3_rx_need_csum_calculate"> * incorrectly checksummed packet.</i></td></tr>
<tr><th id="938">938</th><td><i  data-doc="vmxnet3_rx_need_csum_calculate"> */</i></td></tr>
<tr><th id="939">939</th><td><em>static</em> <em>void</em> <dfn class="tu decl def" id="vmxnet3_rx_need_csum_calculate" title='vmxnet3_rx_need_csum_calculate' data-type='void vmxnet3_rx_need_csum_calculate(struct NetRxPkt * pkt, const void * pkt_data, size_t pkt_len)' data-ref="vmxnet3_rx_need_csum_calculate">vmxnet3_rx_need_csum_calculate</dfn>(<b>struct</b> <a class="type" href="net_rx_pkt.h.html#NetRxPkt" title='NetRxPkt' data-ref="NetRxPkt">NetRxPkt</a> *<dfn class="local col3 decl" id="193pkt" title='pkt' data-type='struct NetRxPkt *' data-ref="193pkt">pkt</dfn>,</td></tr>
<tr><th id="940">940</th><td>                                           <em>const</em> <em>void</em> *<dfn class="local col4 decl" id="194pkt_data" title='pkt_data' data-type='const void *' data-ref="194pkt_data">pkt_data</dfn>,</td></tr>
<tr><th id="941">941</th><td>                                           <span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t">size_t</span> <dfn class="local col5 decl" id="195pkt_len" title='pkt_len' data-type='size_t' data-ref="195pkt_len">pkt_len</dfn>)</td></tr>
<tr><th id="942">942</th><td>{</td></tr>
<tr><th id="943">943</th><td>    <b>struct</b> <a class="type" href="../../include/standard-headers/linux/virtio_net.h.html#virtio_net_hdr" title='virtio_net_hdr' data-ref="virtio_net_hdr">virtio_net_hdr</a> *<dfn class="local col6 decl" id="196vhdr" title='vhdr' data-type='struct virtio_net_hdr *' data-ref="196vhdr">vhdr</dfn>;</td></tr>
<tr><th id="944">944</th><td>    <span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="local col7 decl" id="197isip4" title='isip4' data-type='_Bool' data-ref="197isip4">isip4</dfn>, <dfn class="local col8 decl" id="198isip6" title='isip6' data-type='_Bool' data-ref="198isip6">isip6</dfn>, <dfn class="local col9 decl" id="199istcp" title='istcp' data-type='_Bool' data-ref="199istcp">istcp</dfn>, <dfn class="local col0 decl" id="200isudp" title='isudp' data-type='_Bool' data-ref="200isudp">isudp</dfn>;</td></tr>
<tr><th id="945">945</th><td>    <a class="typedef" href="../../../include/stdint.h.html#uint8_t" title='uint8_t' data-type='unsigned char' data-ref="uint8_t">uint8_t</a> *<dfn class="local col1 decl" id="201data" title='data' data-type='uint8_t *' data-ref="201data">data</dfn>;</td></tr>
<tr><th id="946">946</th><td>    <em>int</em> <dfn class="local col2 decl" id="202len" title='len' data-type='int' data-ref="202len">len</dfn>;</td></tr>
<tr><th id="947">947</th><td></td></tr>
<tr><th id="948">948</th><td>    <b>if</b> (!<a class="ref" href="net_rx_pkt.h.html#net_rx_pkt_has_virt_hdr" title='net_rx_pkt_has_virt_hdr' data-ref="net_rx_pkt_has_virt_hdr">net_rx_pkt_has_virt_hdr</a>(<a class="local col3 ref" href="#193pkt" title='pkt' data-ref="193pkt">pkt</a>)) {</td></tr>
<tr><th id="949">949</th><td>        <b>return</b>;</td></tr>
<tr><th id="950">950</th><td>    }</td></tr>
<tr><th id="951">951</th><td></td></tr>
<tr><th id="952">952</th><td>    <a class="local col6 ref" href="#196vhdr" title='vhdr' data-ref="196vhdr">vhdr</a> = <a class="ref" href="net_rx_pkt.h.html#net_rx_pkt_get_vhdr" title='net_rx_pkt_get_vhdr' data-ref="net_rx_pkt_get_vhdr">net_rx_pkt_get_vhdr</a>(<a class="local col3 ref" href="#193pkt" title='pkt' data-ref="193pkt">pkt</a>);</td></tr>
<tr><th id="953">953</th><td>    <b>if</b> (!<a class="macro" href="#127" title="(((vhdr-&gt;flags) &amp; (1)) == (1))" data-ref="_M/VMXNET_FLAG_IS_SET">VMXNET_FLAG_IS_SET</a>(<a class="local col6 ref" href="#196vhdr" title='vhdr' data-ref="196vhdr">vhdr</a>-&gt;<a class="ref" href="../../include/standard-headers/linux/virtio_net.h.html#virtio_net_hdr::flags" title='virtio_net_hdr::flags' data-ref="virtio_net_hdr::flags">flags</a>, <a class="macro" href="../../include/standard-headers/linux/virtio_net.h.html#89" title="1" data-ref="_M/VIRTIO_NET_HDR_F_NEEDS_CSUM">VIRTIO_NET_HDR_F_NEEDS_CSUM</a>)) {</td></tr>
<tr><th id="954">954</th><td>        <b>return</b>;</td></tr>
<tr><th id="955">955</th><td>    }</td></tr>
<tr><th id="956">956</th><td></td></tr>
<tr><th id="957">957</th><td>    <a class="ref" href="net_rx_pkt.h.html#net_rx_pkt_get_protocols" title='net_rx_pkt_get_protocols' data-ref="net_rx_pkt_get_protocols">net_rx_pkt_get_protocols</a>(<a class="local col3 ref" href="#193pkt" title='pkt' data-ref="193pkt">pkt</a>, &amp;<a class="local col7 ref" href="#197isip4" title='isip4' data-ref="197isip4">isip4</a>, &amp;<a class="local col8 ref" href="#198isip6" title='isip6' data-ref="198isip6">isip6</a>, &amp;<a class="local col0 ref" href="#200isudp" title='isudp' data-ref="200isudp">isudp</a>, &amp;<a class="local col9 ref" href="#199istcp" title='istcp' data-ref="199istcp">istcp</a>);</td></tr>
<tr><th id="958">958</th><td>    <b>if</b> (!(<a class="local col7 ref" href="#197isip4" title='isip4' data-ref="197isip4">isip4</a> || <a class="local col8 ref" href="#198isip6" title='isip6' data-ref="198isip6">isip6</a>) || !(<a class="local col9 ref" href="#199istcp" title='istcp' data-ref="199istcp">istcp</a> || <a class="local col0 ref" href="#200isudp" title='isudp' data-ref="200isudp">isudp</a>)) {</td></tr>
<tr><th id="959">959</th><td>        <b>return</b>;</td></tr>
<tr><th id="960">960</th><td>    }</td></tr>
<tr><th id="961">961</th><td></td></tr>
<tr><th id="962">962</th><td>    <a class="tu ref" href="#vmxnet3_dump_virt_hdr" title='vmxnet3_dump_virt_hdr' data-use='c' data-ref="vmxnet3_dump_virt_hdr">vmxnet3_dump_virt_hdr</a>(<a class="local col6 ref" href="#196vhdr" title='vhdr' data-ref="196vhdr">vhdr</a>);</td></tr>
<tr><th id="963">963</th><td></td></tr>
<tr><th id="964">964</th><td>    <i>/* Validate packet len: csum_start + scum_offset + length of csum field */</i></td></tr>
<tr><th id="965">965</th><td>    <b>if</b> (<a class="local col5 ref" href="#195pkt_len" title='pkt_len' data-ref="195pkt_len">pkt_len</a> &lt; (<a class="local col6 ref" href="#196vhdr" title='vhdr' data-ref="196vhdr">vhdr</a>-&gt;<a class="ref" href="../../include/standard-headers/linux/virtio_net.h.html#virtio_net_hdr::csum_start" title='virtio_net_hdr::csum_start' data-ref="virtio_net_hdr::csum_start">csum_start</a> + <a class="local col6 ref" href="#196vhdr" title='vhdr' data-ref="196vhdr">vhdr</a>-&gt;<a class="ref" href="../../include/standard-headers/linux/virtio_net.h.html#virtio_net_hdr::csum_offset" title='virtio_net_hdr::csum_offset' data-ref="virtio_net_hdr::csum_offset">csum_offset</a> + <var>2</var>)) {</td></tr>
<tr><th id="966">966</th><td>        <a class="macro" href="vmxnet_debug.h.html#97" title="do { if (0) { printf(&quot;[%s][PK][%s]: &quot; &quot;packet len:%zu &lt; csum_start(%d) + csum_offset(%d) + 2, &quot; &quot;cannot calculate checksum&quot; &quot;\n&quot;, &quot;vmxnet3&quot;, __func__, pkt_len, vhdr-&gt;csum_start, vhdr-&gt;csum_offset); } } while (0)" data-ref="_M/VMW_PKPRN">VMW_PKPRN</a>(<q>"packet len:%zu &lt; csum_start(%d) + csum_offset(%d) + 2, "</q></td></tr>
<tr><th id="967">967</th><td>                  <q>"cannot calculate checksum"</q>,</td></tr>
<tr><th id="968">968</th><td>                  <a class="local col5 ref" href="#195pkt_len" title='pkt_len' data-ref="195pkt_len">pkt_len</a>, <a class="local col6 ref" href="#196vhdr" title='vhdr' data-ref="196vhdr">vhdr</a>-&gt;<a class="ref" href="../../include/standard-headers/linux/virtio_net.h.html#virtio_net_hdr::csum_start" title='virtio_net_hdr::csum_start' data-ref="virtio_net_hdr::csum_start">csum_start</a>, <a class="local col6 ref" href="#196vhdr" title='vhdr' data-ref="196vhdr">vhdr</a>-&gt;<a class="ref" href="../../include/standard-headers/linux/virtio_net.h.html#virtio_net_hdr::csum_offset" title='virtio_net_hdr::csum_offset' data-ref="virtio_net_hdr::csum_offset">csum_offset</a>);</td></tr>
<tr><th id="969">969</th><td>        <b>return</b>;</td></tr>
<tr><th id="970">970</th><td>    }</td></tr>
<tr><th id="971">971</th><td></td></tr>
<tr><th id="972">972</th><td>    <a class="local col1 ref" href="#201data" title='data' data-ref="201data">data</a> = (<a class="typedef" href="../../../include/stdint.h.html#uint8_t" title='uint8_t' data-type='unsigned char' data-ref="uint8_t">uint8_t</a> *)<a class="local col4 ref" href="#194pkt_data" title='pkt_data' data-ref="194pkt_data">pkt_data</a> + <a class="local col6 ref" href="#196vhdr" title='vhdr' data-ref="196vhdr">vhdr</a>-&gt;<a class="ref" href="../../include/standard-headers/linux/virtio_net.h.html#virtio_net_hdr::csum_start" title='virtio_net_hdr::csum_start' data-ref="virtio_net_hdr::csum_start">csum_start</a>;</td></tr>
<tr><th id="973">973</th><td>    <a class="local col2 ref" href="#202len" title='len' data-ref="202len">len</a> = <a class="local col5 ref" href="#195pkt_len" title='pkt_len' data-ref="195pkt_len">pkt_len</a> - <a class="local col6 ref" href="#196vhdr" title='vhdr' data-ref="196vhdr">vhdr</a>-&gt;<a class="ref" href="../../include/standard-headers/linux/virtio_net.h.html#virtio_net_hdr::csum_start" title='virtio_net_hdr::csum_start' data-ref="virtio_net_hdr::csum_start">csum_start</a>;</td></tr>
<tr><th id="974">974</th><td>    <i>/* Put the checksum obtained into the packet */</i></td></tr>
<tr><th id="975">975</th><td>    <a class="ref" href="../../include/qemu/bswap.h.html#stw_be_p" title='stw_be_p' data-ref="stw_be_p">stw_be_p</a>(<a class="local col1 ref" href="#201data" title='data' data-ref="201data">data</a> + <a class="local col6 ref" href="#196vhdr" title='vhdr' data-ref="196vhdr">vhdr</a>-&gt;<a class="ref" href="../../include/standard-headers/linux/virtio_net.h.html#virtio_net_hdr::csum_offset" title='virtio_net_hdr::csum_offset' data-ref="virtio_net_hdr::csum_offset">csum_offset</a>, <a class="ref" href="../../include/net/checksum.h.html#net_raw_checksum" title='net_raw_checksum' data-ref="net_raw_checksum">net_raw_checksum</a>(<a class="local col1 ref" href="#201data" title='data' data-ref="201data">data</a>, <a class="local col2 ref" href="#202len" title='len' data-ref="202len">len</a>));</td></tr>
<tr><th id="976">976</th><td></td></tr>
<tr><th id="977">977</th><td>    <a class="local col6 ref" href="#196vhdr" title='vhdr' data-ref="196vhdr">vhdr</a>-&gt;<a class="ref" href="../../include/standard-headers/linux/virtio_net.h.html#virtio_net_hdr::flags" title='virtio_net_hdr::flags' data-ref="virtio_net_hdr::flags">flags</a> &amp;= ~<a class="macro" href="../../include/standard-headers/linux/virtio_net.h.html#89" title="1" data-ref="_M/VIRTIO_NET_HDR_F_NEEDS_CSUM">VIRTIO_NET_HDR_F_NEEDS_CSUM</a>;</td></tr>
<tr><th id="978">978</th><td>    <a class="local col6 ref" href="#196vhdr" title='vhdr' data-ref="196vhdr">vhdr</a>-&gt;<a class="ref" href="../../include/standard-headers/linux/virtio_net.h.html#virtio_net_hdr::flags" title='virtio_net_hdr::flags' data-ref="virtio_net_hdr::flags">flags</a> |= <a class="macro" href="../../include/standard-headers/linux/virtio_net.h.html#90" title="2" data-ref="_M/VIRTIO_NET_HDR_F_DATA_VALID">VIRTIO_NET_HDR_F_DATA_VALID</a>;</td></tr>
<tr><th id="979">979</th><td>}</td></tr>
<tr><th id="980">980</th><td></td></tr>
<tr><th id="981">981</th><td><em>static</em> <em>void</em> <dfn class="tu decl def" id="vmxnet3_rx_update_descr" title='vmxnet3_rx_update_descr' data-type='void vmxnet3_rx_update_descr(struct NetRxPkt * pkt, struct Vmxnet3_RxCompDesc * rxcd)' data-ref="vmxnet3_rx_update_descr">vmxnet3_rx_update_descr</dfn>(<b>struct</b> <a class="type" href="net_rx_pkt.h.html#NetRxPkt" title='NetRxPkt' data-ref="NetRxPkt">NetRxPkt</a> *<dfn class="local col3 decl" id="203pkt" title='pkt' data-type='struct NetRxPkt *' data-ref="203pkt">pkt</dfn>,</td></tr>
<tr><th id="982">982</th><td>    <b>struct</b> <a class="type" href="vmxnet3.h.html#Vmxnet3_RxCompDesc" title='Vmxnet3_RxCompDesc' data-ref="Vmxnet3_RxCompDesc">Vmxnet3_RxCompDesc</a> *<dfn class="local col4 decl" id="204rxcd" title='rxcd' data-type='struct Vmxnet3_RxCompDesc *' data-ref="204rxcd">rxcd</dfn>)</td></tr>
<tr><th id="983">983</th><td>{</td></tr>
<tr><th id="984">984</th><td>    <em>int</em> <dfn class="local col5 decl" id="205csum_ok" title='csum_ok' data-type='int' data-ref="205csum_ok">csum_ok</dfn>, <dfn class="local col6 decl" id="206is_gso" title='is_gso' data-type='int' data-ref="206is_gso">is_gso</dfn>;</td></tr>
<tr><th id="985">985</th><td>    <span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="local col7 decl" id="207isip4" title='isip4' data-type='_Bool' data-ref="207isip4">isip4</dfn>, <dfn class="local col8 decl" id="208isip6" title='isip6' data-type='_Bool' data-ref="208isip6">isip6</dfn>, <dfn class="local col9 decl" id="209istcp" title='istcp' data-type='_Bool' data-ref="209istcp">istcp</dfn>, <dfn class="local col0 decl" id="210isudp" title='isudp' data-type='_Bool' data-ref="210isudp">isudp</dfn>;</td></tr>
<tr><th id="986">986</th><td>    <b>struct</b> <a class="type" href="../../include/standard-headers/linux/virtio_net.h.html#virtio_net_hdr" title='virtio_net_hdr' data-ref="virtio_net_hdr">virtio_net_hdr</a> *<dfn class="local col1 decl" id="211vhdr" title='vhdr' data-type='struct virtio_net_hdr *' data-ref="211vhdr">vhdr</dfn>;</td></tr>
<tr><th id="987">987</th><td>    <a class="typedef" href="../../../include/stdint.h.html#uint8_t" title='uint8_t' data-type='unsigned char' data-ref="uint8_t">uint8_t</a> <dfn class="local col2 decl" id="212offload_type" title='offload_type' data-type='uint8_t' data-ref="212offload_type">offload_type</dfn>;</td></tr>
<tr><th id="988">988</th><td></td></tr>
<tr><th id="989">989</th><td>    <b>if</b> (<a class="ref" href="net_rx_pkt.h.html#net_rx_pkt_is_vlan_stripped" title='net_rx_pkt_is_vlan_stripped' data-ref="net_rx_pkt_is_vlan_stripped">net_rx_pkt_is_vlan_stripped</a>(<a class="local col3 ref" href="#203pkt" title='pkt' data-ref="203pkt">pkt</a>)) {</td></tr>
<tr><th id="990">990</th><td>        <a class="local col4 ref" href="#204rxcd" title='rxcd' data-ref="204rxcd">rxcd</a>-&gt;<a class="ref" href="vmxnet3.h.html#Vmxnet3_RxCompDesc::ts" title='Vmxnet3_RxCompDesc::ts' data-ref="Vmxnet3_RxCompDesc::ts">ts</a> = <var>1</var>;</td></tr>
<tr><th id="991">991</th><td>        <a class="local col4 ref" href="#204rxcd" title='rxcd' data-ref="204rxcd">rxcd</a>-&gt;<a class="ref" href="vmxnet3.h.html#Vmxnet3_RxCompDesc::tci" title='Vmxnet3_RxCompDesc::tci' data-ref="Vmxnet3_RxCompDesc::tci">tci</a> = <a class="ref" href="net_rx_pkt.h.html#net_rx_pkt_get_vlan_tag" title='net_rx_pkt_get_vlan_tag' data-ref="net_rx_pkt_get_vlan_tag">net_rx_pkt_get_vlan_tag</a>(<a class="local col3 ref" href="#203pkt" title='pkt' data-ref="203pkt">pkt</a>);</td></tr>
<tr><th id="992">992</th><td>    }</td></tr>
<tr><th id="993">993</th><td></td></tr>
<tr><th id="994">994</th><td>    <b>if</b> (!<a class="ref" href="net_rx_pkt.h.html#net_rx_pkt_has_virt_hdr" title='net_rx_pkt_has_virt_hdr' data-ref="net_rx_pkt_has_virt_hdr">net_rx_pkt_has_virt_hdr</a>(<a class="local col3 ref" href="#203pkt" title='pkt' data-ref="203pkt">pkt</a>)) {</td></tr>
<tr><th id="995">995</th><td>        <b>goto</b> <a class="lbl" href="#213nocsum" data-ref="213nocsum">nocsum</a>;</td></tr>
<tr><th id="996">996</th><td>    }</td></tr>
<tr><th id="997">997</th><td></td></tr>
<tr><th id="998">998</th><td>    <a class="local col1 ref" href="#211vhdr" title='vhdr' data-ref="211vhdr">vhdr</a> = <a class="ref" href="net_rx_pkt.h.html#net_rx_pkt_get_vhdr" title='net_rx_pkt_get_vhdr' data-ref="net_rx_pkt_get_vhdr">net_rx_pkt_get_vhdr</a>(<a class="local col3 ref" href="#203pkt" title='pkt' data-ref="203pkt">pkt</a>);</td></tr>
<tr><th id="999">999</th><td>    <i>/*</i></td></tr>
<tr><th id="1000">1000</th><td><i>     * Checksum is valid when lower level tell so or when lower level</i></td></tr>
<tr><th id="1001">1001</th><td><i>     * requires checksum offload telling that packet produced/bridged</i></td></tr>
<tr><th id="1002">1002</th><td><i>     * locally and did travel over network after last checksum calculation</i></td></tr>
<tr><th id="1003">1003</th><td><i>     * or production</i></td></tr>
<tr><th id="1004">1004</th><td><i>     */</i></td></tr>
<tr><th id="1005">1005</th><td>    <a class="local col5 ref" href="#205csum_ok" title='csum_ok' data-ref="205csum_ok">csum_ok</a> = <a class="macro" href="#127" title="(((vhdr-&gt;flags) &amp; (2)) == (2))" data-ref="_M/VMXNET_FLAG_IS_SET">VMXNET_FLAG_IS_SET</a>(<a class="local col1 ref" href="#211vhdr" title='vhdr' data-ref="211vhdr">vhdr</a>-&gt;<a class="ref" href="../../include/standard-headers/linux/virtio_net.h.html#virtio_net_hdr::flags" title='virtio_net_hdr::flags' data-ref="virtio_net_hdr::flags">flags</a>, <a class="macro" href="../../include/standard-headers/linux/virtio_net.h.html#90" title="2" data-ref="_M/VIRTIO_NET_HDR_F_DATA_VALID">VIRTIO_NET_HDR_F_DATA_VALID</a>) ||</td></tr>
<tr><th id="1006">1006</th><td>              <a class="macro" href="#127" title="(((vhdr-&gt;flags) &amp; (1)) == (1))" data-ref="_M/VMXNET_FLAG_IS_SET">VMXNET_FLAG_IS_SET</a>(<a class="local col1 ref" href="#211vhdr" title='vhdr' data-ref="211vhdr">vhdr</a>-&gt;<a class="ref" href="../../include/standard-headers/linux/virtio_net.h.html#virtio_net_hdr::flags" title='virtio_net_hdr::flags' data-ref="virtio_net_hdr::flags">flags</a>, <a class="macro" href="../../include/standard-headers/linux/virtio_net.h.html#89" title="1" data-ref="_M/VIRTIO_NET_HDR_F_NEEDS_CSUM">VIRTIO_NET_HDR_F_NEEDS_CSUM</a>);</td></tr>
<tr><th id="1007">1007</th><td></td></tr>
<tr><th id="1008">1008</th><td>    <a class="local col2 ref" href="#212offload_type" title='offload_type' data-ref="212offload_type">offload_type</a> = <a class="local col1 ref" href="#211vhdr" title='vhdr' data-ref="211vhdr">vhdr</a>-&gt;<a class="ref" href="../../include/standard-headers/linux/virtio_net.h.html#virtio_net_hdr::gso_type" title='virtio_net_hdr::gso_type' data-ref="virtio_net_hdr::gso_type">gso_type</a> &amp; ~<a class="macro" href="../../include/standard-headers/linux/virtio_net.h.html#96" title="0x80" data-ref="_M/VIRTIO_NET_HDR_GSO_ECN">VIRTIO_NET_HDR_GSO_ECN</a>;</td></tr>
<tr><th id="1009">1009</th><td>    <a class="local col6 ref" href="#206is_gso" title='is_gso' data-ref="206is_gso">is_gso</a> = (<a class="local col2 ref" href="#212offload_type" title='offload_type' data-ref="212offload_type">offload_type</a> != <a class="macro" href="../../include/standard-headers/linux/virtio_net.h.html#92" title="0" data-ref="_M/VIRTIO_NET_HDR_GSO_NONE">VIRTIO_NET_HDR_GSO_NONE</a>) ? <var>1</var> : <var>0</var>;</td></tr>
<tr><th id="1010">1010</th><td></td></tr>
<tr><th id="1011">1011</th><td>    <b>if</b> (!<a class="local col5 ref" href="#205csum_ok" title='csum_ok' data-ref="205csum_ok">csum_ok</a> &amp;&amp; !<a class="local col6 ref" href="#206is_gso" title='is_gso' data-ref="206is_gso">is_gso</a>) {</td></tr>
<tr><th id="1012">1012</th><td>        <b>goto</b> <a class="lbl" href="#213nocsum" data-ref="213nocsum">nocsum</a>;</td></tr>
<tr><th id="1013">1013</th><td>    }</td></tr>
<tr><th id="1014">1014</th><td></td></tr>
<tr><th id="1015">1015</th><td>    <a class="ref" href="net_rx_pkt.h.html#net_rx_pkt_get_protocols" title='net_rx_pkt_get_protocols' data-ref="net_rx_pkt_get_protocols">net_rx_pkt_get_protocols</a>(<a class="local col3 ref" href="#203pkt" title='pkt' data-ref="203pkt">pkt</a>, &amp;<a class="local col7 ref" href="#207isip4" title='isip4' data-ref="207isip4">isip4</a>, &amp;<a class="local col8 ref" href="#208isip6" title='isip6' data-ref="208isip6">isip6</a>, &amp;<a class="local col0 ref" href="#210isudp" title='isudp' data-ref="210isudp">isudp</a>, &amp;<a class="local col9 ref" href="#209istcp" title='istcp' data-ref="209istcp">istcp</a>);</td></tr>
<tr><th id="1016">1016</th><td>    <b>if</b> ((!<a class="local col9 ref" href="#209istcp" title='istcp' data-ref="209istcp">istcp</a> &amp;&amp; !<a class="local col0 ref" href="#210isudp" title='isudp' data-ref="210isudp">isudp</a>) || (!<a class="local col7 ref" href="#207isip4" title='isip4' data-ref="207isip4">isip4</a> &amp;&amp; !<a class="local col8 ref" href="#208isip6" title='isip6' data-ref="208isip6">isip6</a>)) {</td></tr>
<tr><th id="1017">1017</th><td>        <b>goto</b> <a class="lbl" href="#213nocsum" data-ref="213nocsum">nocsum</a>;</td></tr>
<tr><th id="1018">1018</th><td>    }</td></tr>
<tr><th id="1019">1019</th><td></td></tr>
<tr><th id="1020">1020</th><td>    <a class="local col4 ref" href="#204rxcd" title='rxcd' data-ref="204rxcd">rxcd</a>-&gt;<a class="ref" href="vmxnet3.h.html#Vmxnet3_RxCompDesc::cnc" title='Vmxnet3_RxCompDesc::cnc' data-ref="Vmxnet3_RxCompDesc::cnc">cnc</a> = <var>0</var>;</td></tr>
<tr><th id="1021">1021</th><td>    <a class="local col4 ref" href="#204rxcd" title='rxcd' data-ref="204rxcd">rxcd</a>-&gt;<a class="ref" href="vmxnet3.h.html#Vmxnet3_RxCompDesc::v4" title='Vmxnet3_RxCompDesc::v4' data-ref="Vmxnet3_RxCompDesc::v4">v4</a> = <a class="local col7 ref" href="#207isip4" title='isip4' data-ref="207isip4">isip4</a> ? <var>1</var> : <var>0</var>;</td></tr>
<tr><th id="1022">1022</th><td>    <a class="local col4 ref" href="#204rxcd" title='rxcd' data-ref="204rxcd">rxcd</a>-&gt;<a class="ref" href="vmxnet3.h.html#Vmxnet3_RxCompDesc::v6" title='Vmxnet3_RxCompDesc::v6' data-ref="Vmxnet3_RxCompDesc::v6">v6</a> = <a class="local col8 ref" href="#208isip6" title='isip6' data-ref="208isip6">isip6</a> ? <var>1</var> : <var>0</var>;</td></tr>
<tr><th id="1023">1023</th><td>    <a class="local col4 ref" href="#204rxcd" title='rxcd' data-ref="204rxcd">rxcd</a>-&gt;<a class="ref" href="vmxnet3.h.html#Vmxnet3_RxCompDesc::tcp" title='Vmxnet3_RxCompDesc::tcp' data-ref="Vmxnet3_RxCompDesc::tcp">tcp</a> = <a class="local col9 ref" href="#209istcp" title='istcp' data-ref="209istcp">istcp</a> ? <var>1</var> : <var>0</var>;</td></tr>
<tr><th id="1024">1024</th><td>    <a class="local col4 ref" href="#204rxcd" title='rxcd' data-ref="204rxcd">rxcd</a>-&gt;<a class="ref" href="vmxnet3.h.html#Vmxnet3_RxCompDesc::udp" title='Vmxnet3_RxCompDesc::udp' data-ref="Vmxnet3_RxCompDesc::udp">udp</a> = <a class="local col0 ref" href="#210isudp" title='isudp' data-ref="210isudp">isudp</a> ? <var>1</var> : <var>0</var>;</td></tr>
<tr><th id="1025">1025</th><td>    <a class="local col4 ref" href="#204rxcd" title='rxcd' data-ref="204rxcd">rxcd</a>-&gt;<a class="ref" href="vmxnet3.h.html#Vmxnet3_RxCompDesc::fcs" title='Vmxnet3_RxCompDesc::fcs' data-ref="Vmxnet3_RxCompDesc::fcs">fcs</a> = <a class="local col4 ref" href="#204rxcd" title='rxcd' data-ref="204rxcd">rxcd</a>-&gt;<a class="ref" href="vmxnet3.h.html#Vmxnet3_RxCompDesc::tuc" title='Vmxnet3_RxCompDesc::tuc' data-ref="Vmxnet3_RxCompDesc::tuc">tuc</a> = <a class="local col4 ref" href="#204rxcd" title='rxcd' data-ref="204rxcd">rxcd</a>-&gt;<a class="ref" href="vmxnet3.h.html#Vmxnet3_RxCompDesc::ipc" title='Vmxnet3_RxCompDesc::ipc' data-ref="Vmxnet3_RxCompDesc::ipc">ipc</a> = <var>1</var>;</td></tr>
<tr><th id="1026">1026</th><td>    <b>return</b>;</td></tr>
<tr><th id="1027">1027</th><td></td></tr>
<tr><th id="1028">1028</th><td><dfn class="lbl" id="213nocsum" data-ref="213nocsum">nocsum</dfn>:</td></tr>
<tr><th id="1029">1029</th><td>    <a class="local col4 ref" href="#204rxcd" title='rxcd' data-ref="204rxcd">rxcd</a>-&gt;<a class="ref" href="vmxnet3.h.html#Vmxnet3_RxCompDesc::cnc" title='Vmxnet3_RxCompDesc::cnc' data-ref="Vmxnet3_RxCompDesc::cnc">cnc</a> = <var>1</var>;</td></tr>
<tr><th id="1030">1030</th><td>    <b>return</b>;</td></tr>
<tr><th id="1031">1031</th><td>}</td></tr>
<tr><th id="1032">1032</th><td></td></tr>
<tr><th id="1033">1033</th><td><em>static</em> <em>void</em></td></tr>
<tr><th id="1034">1034</th><td><dfn class="tu decl def" id="vmxnet3_pci_dma_writev" title='vmxnet3_pci_dma_writev' data-type='void vmxnet3_pci_dma_writev(PCIDevice * pci_dev, const struct iovec * iov, size_t start_iov_off, hwaddr target_addr, size_t bytes_to_copy)' data-ref="vmxnet3_pci_dma_writev">vmxnet3_pci_dma_writev</dfn>(<a class="typedef" href="../../include/qemu/typedefs.h.html#PCIDevice" title='PCIDevice' data-type='struct PCIDevice' data-ref="PCIDevice">PCIDevice</a> *<dfn class="local col4 decl" id="214pci_dev" title='pci_dev' data-type='PCIDevice *' data-ref="214pci_dev">pci_dev</dfn>,</td></tr>
<tr><th id="1035">1035</th><td>                       <em>const</em> <b>struct</b> <a class="type" href="../../../include/x86_64-linux-gnu/bits/uio.h.html#iovec" title='iovec' data-ref="iovec">iovec</a> *<dfn class="local col5 decl" id="215iov" title='iov' data-type='const struct iovec *' data-ref="215iov">iov</dfn>,</td></tr>
<tr><th id="1036">1036</th><td>                       <span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t">size_t</span> <dfn class="local col6 decl" id="216start_iov_off" title='start_iov_off' data-type='size_t' data-ref="216start_iov_off">start_iov_off</dfn>,</td></tr>
<tr><th id="1037">1037</th><td>                       <a class="typedef" href="../../include/exec/hwaddr.h.html#hwaddr" title='hwaddr' data-type='uint64_t' data-ref="hwaddr">hwaddr</a> <dfn class="local col7 decl" id="217target_addr" title='target_addr' data-type='hwaddr' data-ref="217target_addr">target_addr</dfn>,</td></tr>
<tr><th id="1038">1038</th><td>                       <span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t">size_t</span> <dfn class="local col8 decl" id="218bytes_to_copy" title='bytes_to_copy' data-type='size_t' data-ref="218bytes_to_copy">bytes_to_copy</dfn>)</td></tr>
<tr><th id="1039">1039</th><td>{</td></tr>
<tr><th id="1040">1040</th><td>    <span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t">size_t</span> <dfn class="local col9 decl" id="219curr_off" title='curr_off' data-type='size_t' data-ref="219curr_off">curr_off</dfn> = <var>0</var>;</td></tr>
<tr><th id="1041">1041</th><td>    <span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t">size_t</span> <dfn class="local col0 decl" id="220copied" title='copied' data-type='size_t' data-ref="220copied">copied</dfn> = <var>0</var>;</td></tr>
<tr><th id="1042">1042</th><td></td></tr>
<tr><th id="1043">1043</th><td>    <b>while</b> (<a class="local col8 ref" href="#218bytes_to_copy" title='bytes_to_copy' data-ref="218bytes_to_copy">bytes_to_copy</a>) {</td></tr>
<tr><th id="1044">1044</th><td>        <b>if</b> (<a class="local col6 ref" href="#216start_iov_off" title='start_iov_off' data-ref="216start_iov_off">start_iov_off</a> &lt; (<a class="local col9 ref" href="#219curr_off" title='curr_off' data-ref="219curr_off">curr_off</a> + <a class="local col5 ref" href="#215iov" title='iov' data-ref="215iov">iov</a>-&gt;<a class="ref" href="../../../include/x86_64-linux-gnu/bits/uio.h.html#iovec::iov_len" title='iovec::iov_len' data-ref="iovec::iov_len">iov_len</a>)) {</td></tr>
<tr><th id="1045">1045</th><td>            <span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t">size_t</span> <dfn class="local col1 decl" id="221chunk_len" title='chunk_len' data-type='size_t' data-ref="221chunk_len">chunk_len</dfn> =</td></tr>
<tr><th id="1046">1046</th><td>                <a class="macro" href="../../../include/glib-2.0/glib/gmacros.h.html#291" title="((((curr_off + iov-&gt;iov_len) - start_iov_off) &lt; (bytes_to_copy)) ? ((curr_off + iov-&gt;iov_len) - start_iov_off) : (bytes_to_copy))" data-ref="_M/MIN">MIN</a>((<a class="local col9 ref" href="#219curr_off" title='curr_off' data-ref="219curr_off">curr_off</a> + <a class="local col5 ref" href="#215iov" title='iov' data-ref="215iov">iov</a>-&gt;<a class="ref" href="../../../include/x86_64-linux-gnu/bits/uio.h.html#iovec::iov_len" title='iovec::iov_len' data-ref="iovec::iov_len">iov_len</a>) - <a class="local col6 ref" href="#216start_iov_off" title='start_iov_off' data-ref="216start_iov_off">start_iov_off</a>, <a class="local col8 ref" href="#218bytes_to_copy" title='bytes_to_copy' data-ref="218bytes_to_copy">bytes_to_copy</a>);</td></tr>
<tr><th id="1047">1047</th><td></td></tr>
<tr><th id="1048">1048</th><td>            <a class="ref" href="../../include/hw/pci/pci.h.html#pci_dma_write" title='pci_dma_write' data-ref="pci_dma_write">pci_dma_write</a>(<a class="local col4 ref" href="#214pci_dev" title='pci_dev' data-ref="214pci_dev">pci_dev</a>, <a class="local col7 ref" href="#217target_addr" title='target_addr' data-ref="217target_addr">target_addr</a> + <a class="local col0 ref" href="#220copied" title='copied' data-ref="220copied">copied</a>,</td></tr>
<tr><th id="1049">1049</th><td>                          <a class="local col5 ref" href="#215iov" title='iov' data-ref="215iov">iov</a>-&gt;<a class="ref" href="../../../include/x86_64-linux-gnu/bits/uio.h.html#iovec::iov_base" title='iovec::iov_base' data-ref="iovec::iov_base">iov_base</a> + <a class="local col6 ref" href="#216start_iov_off" title='start_iov_off' data-ref="216start_iov_off">start_iov_off</a> - <a class="local col9 ref" href="#219curr_off" title='curr_off' data-ref="219curr_off">curr_off</a>,</td></tr>
<tr><th id="1050">1050</th><td>                          <a class="local col1 ref" href="#221chunk_len" title='chunk_len' data-ref="221chunk_len">chunk_len</a>);</td></tr>
<tr><th id="1051">1051</th><td></td></tr>
<tr><th id="1052">1052</th><td>            <a class="local col0 ref" href="#220copied" title='copied' data-ref="220copied">copied</a> += <a class="local col1 ref" href="#221chunk_len" title='chunk_len' data-ref="221chunk_len">chunk_len</a>;</td></tr>
<tr><th id="1053">1053</th><td>            <a class="local col6 ref" href="#216start_iov_off" title='start_iov_off' data-ref="216start_iov_off">start_iov_off</a> += <a class="local col1 ref" href="#221chunk_len" title='chunk_len' data-ref="221chunk_len">chunk_len</a>;</td></tr>
<tr><th id="1054">1054</th><td>            <a class="local col9 ref" href="#219curr_off" title='curr_off' data-ref="219curr_off">curr_off</a> = <a class="local col6 ref" href="#216start_iov_off" title='start_iov_off' data-ref="216start_iov_off">start_iov_off</a>;</td></tr>
<tr><th id="1055">1055</th><td>            <a class="local col8 ref" href="#218bytes_to_copy" title='bytes_to_copy' data-ref="218bytes_to_copy">bytes_to_copy</a> -= <a class="local col1 ref" href="#221chunk_len" title='chunk_len' data-ref="221chunk_len">chunk_len</a>;</td></tr>
<tr><th id="1056">1056</th><td>        } <b>else</b> {</td></tr>
<tr><th id="1057">1057</th><td>            <a class="local col9 ref" href="#219curr_off" title='curr_off' data-ref="219curr_off">curr_off</a> += <a class="local col5 ref" href="#215iov" title='iov' data-ref="215iov">iov</a>-&gt;<a class="ref" href="../../../include/x86_64-linux-gnu/bits/uio.h.html#iovec::iov_len" title='iovec::iov_len' data-ref="iovec::iov_len">iov_len</a>;</td></tr>
<tr><th id="1058">1058</th><td>        }</td></tr>
<tr><th id="1059">1059</th><td>        <a class="local col5 ref" href="#215iov" title='iov' data-ref="215iov">iov</a>++;</td></tr>
<tr><th id="1060">1060</th><td>    }</td></tr>
<tr><th id="1061">1061</th><td>}</td></tr>
<tr><th id="1062">1062</th><td></td></tr>
<tr><th id="1063">1063</th><td><em>static</em> <span class="macro" title="_Bool" data-ref="_M/bool">bool</span></td></tr>
<tr><th id="1064">1064</th><td><dfn class="tu decl def" id="vmxnet3_indicate_packet" title='vmxnet3_indicate_packet' data-type='_Bool vmxnet3_indicate_packet(VMXNET3State * s)' data-ref="vmxnet3_indicate_packet">vmxnet3_indicate_packet</dfn>(<a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a> *<dfn class="local col2 decl" id="222s" title='s' data-type='VMXNET3State *' data-ref="222s">s</dfn>)</td></tr>
<tr><th id="1065">1065</th><td>{</td></tr>
<tr><th id="1066">1066</th><td>    <b>struct</b> <a class="type" href="vmxnet3.h.html#Vmxnet3_RxDesc" title='Vmxnet3_RxDesc' data-ref="Vmxnet3_RxDesc">Vmxnet3_RxDesc</a> <dfn class="local col3 decl" id="223rxd" title='rxd' data-type='struct Vmxnet3_RxDesc' data-ref="223rxd">rxd</dfn>;</td></tr>
<tr><th id="1067">1067</th><td>    <a class="typedef" href="../../include/qemu/typedefs.h.html#PCIDevice" title='PCIDevice' data-type='struct PCIDevice' data-ref="PCIDevice">PCIDevice</a> *<dfn class="local col4 decl" id="224d" title='d' data-type='PCIDevice *' data-ref="224d">d</dfn> = <a class="macro" href="../../include/hw/pci/pci.h.html#191" title="((PCIDevice *)object_dynamic_cast_assert(((Object *)((s))), (&quot;pci-device&quot;), &quot;/home/jon/workspace/qemu/hw/net/vmxnet3.c&quot;, 1067, __func__))" data-ref="_M/PCI_DEVICE">PCI_DEVICE</a>(<a class="local col2 ref" href="#222s" title='s' data-ref="222s">s</a>);</td></tr>
<tr><th id="1068">1068</th><td>    <span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="local col5 decl" id="225is_head" title='is_head' data-type='_Bool' data-ref="225is_head">is_head</dfn> = <span class="macro" title="1" data-ref="_M/true">true</span>;</td></tr>
<tr><th id="1069">1069</th><td>    <a class="typedef" href="../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> <dfn class="local col6 decl" id="226rxd_idx" title='rxd_idx' data-type='uint32_t' data-ref="226rxd_idx">rxd_idx</dfn>;</td></tr>
<tr><th id="1070">1070</th><td>    <a class="typedef" href="../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> <dfn class="local col7 decl" id="227rx_ridx" title='rx_ridx' data-type='uint32_t' data-ref="227rx_ridx">rx_ridx</dfn> = <var>0</var>;</td></tr>
<tr><th id="1071">1071</th><td></td></tr>
<tr><th id="1072">1072</th><td>    <b>struct</b> <a class="type" href="vmxnet3.h.html#Vmxnet3_RxCompDesc" title='Vmxnet3_RxCompDesc' data-ref="Vmxnet3_RxCompDesc">Vmxnet3_RxCompDesc</a> <dfn class="local col8 decl" id="228rxcd" title='rxcd' data-type='struct Vmxnet3_RxCompDesc' data-ref="228rxcd">rxcd</dfn>;</td></tr>
<tr><th id="1073">1073</th><td>    <a class="typedef" href="../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> <dfn class="local col9 decl" id="229new_rxcd_gen" title='new_rxcd_gen' data-type='uint32_t' data-ref="229new_rxcd_gen">new_rxcd_gen</dfn> = <a class="macro" href="vmxnet3.h.html#430" title="1" data-ref="_M/VMXNET3_INIT_GEN">VMXNET3_INIT_GEN</a>;</td></tr>
<tr><th id="1074">1074</th><td>    <a class="typedef" href="../../include/exec/hwaddr.h.html#hwaddr" title='hwaddr' data-type='uint64_t' data-ref="hwaddr">hwaddr</a> <dfn class="local col0 decl" id="230new_rxcd_pa" title='new_rxcd_pa' data-type='hwaddr' data-ref="230new_rxcd_pa">new_rxcd_pa</dfn> = <var>0</var>;</td></tr>
<tr><th id="1075">1075</th><td>    <a class="typedef" href="../../include/exec/hwaddr.h.html#hwaddr" title='hwaddr' data-type='uint64_t' data-ref="hwaddr">hwaddr</a> <dfn class="local col1 decl" id="231ready_rxcd_pa" title='ready_rxcd_pa' data-type='hwaddr' data-ref="231ready_rxcd_pa">ready_rxcd_pa</dfn> = <var>0</var>;</td></tr>
<tr><th id="1076">1076</th><td>    <b>struct</b> <a class="type" href="../../../include/x86_64-linux-gnu/bits/uio.h.html#iovec" title='iovec' data-ref="iovec">iovec</a> *<dfn class="local col2 decl" id="232data" title='data' data-type='struct iovec *' data-ref="232data">data</dfn> = <a class="ref" href="net_rx_pkt.h.html#net_rx_pkt_get_iovec" title='net_rx_pkt_get_iovec' data-ref="net_rx_pkt_get_iovec">net_rx_pkt_get_iovec</a>(<a class="local col2 ref" href="#222s" title='s' data-ref="222s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::rx_pkt" title='(anonymous struct)::rx_pkt' data-use='r' data-ref="(anonymous)::rx_pkt">rx_pkt</a>);</td></tr>
<tr><th id="1077">1077</th><td>    <span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t">size_t</span> <dfn class="local col3 decl" id="233bytes_copied" title='bytes_copied' data-type='size_t' data-ref="233bytes_copied">bytes_copied</dfn> = <var>0</var>;</td></tr>
<tr><th id="1078">1078</th><td>    <span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t">size_t</span> <dfn class="local col4 decl" id="234bytes_left" title='bytes_left' data-type='size_t' data-ref="234bytes_left">bytes_left</dfn> = <a class="ref" href="net_rx_pkt.h.html#net_rx_pkt_get_total_len" title='net_rx_pkt_get_total_len' data-ref="net_rx_pkt_get_total_len">net_rx_pkt_get_total_len</a>(<a class="local col2 ref" href="#222s" title='s' data-ref="222s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::rx_pkt" title='(anonymous struct)::rx_pkt' data-use='r' data-ref="(anonymous)::rx_pkt">rx_pkt</a>);</td></tr>
<tr><th id="1079">1079</th><td>    <a class="typedef" href="../../../include/stdint.h.html#uint16_t" title='uint16_t' data-type='unsigned short' data-ref="uint16_t">uint16_t</a> <dfn class="local col5 decl" id="235num_frags" title='num_frags' data-type='uint16_t' data-ref="235num_frags">num_frags</dfn> = <var>0</var>;</td></tr>
<tr><th id="1080">1080</th><td>    <span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t">size_t</span> <dfn class="local col6 decl" id="236chunk_size" title='chunk_size' data-type='size_t' data-ref="236chunk_size">chunk_size</dfn>;</td></tr>
<tr><th id="1081">1081</th><td></td></tr>
<tr><th id="1082">1082</th><td>    <a class="ref" href="net_rx_pkt.h.html#net_rx_pkt_dump" title='net_rx_pkt_dump' data-ref="net_rx_pkt_dump">net_rx_pkt_dump</a>(<a class="local col2 ref" href="#222s" title='s' data-ref="222s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::rx_pkt" title='(anonymous struct)::rx_pkt' data-use='r' data-ref="(anonymous)::rx_pkt">rx_pkt</a>);</td></tr>
<tr><th id="1083">1083</th><td></td></tr>
<tr><th id="1084">1084</th><td>    <b>while</b> (<a class="local col4 ref" href="#234bytes_left" title='bytes_left' data-ref="234bytes_left">bytes_left</a> &gt; <var>0</var>) {</td></tr>
<tr><th id="1085">1085</th><td></td></tr>
<tr><th id="1086">1086</th><td>        <i>/* cannot add more frags to packet */</i></td></tr>
<tr><th id="1087">1087</th><td>        <b>if</b> (<a class="local col5 ref" href="#235num_frags" title='num_frags' data-ref="235num_frags">num_frags</a> == <a class="local col2 ref" href="#222s" title='s' data-ref="222s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::max_rx_frags" title='(anonymous struct)::max_rx_frags' data-use='r' data-ref="(anonymous)::max_rx_frags">max_rx_frags</a>) {</td></tr>
<tr><th id="1088">1088</th><td>            <b>break</b>;</td></tr>
<tr><th id="1089">1089</th><td>        }</td></tr>
<tr><th id="1090">1090</th><td></td></tr>
<tr><th id="1091">1091</th><td>        <a class="local col0 ref" href="#230new_rxcd_pa" title='new_rxcd_pa' data-ref="230new_rxcd_pa">new_rxcd_pa</a> = <a class="tu ref" href="#vmxnet3_pop_rxc_descr" title='vmxnet3_pop_rxc_descr' data-use='c' data-ref="vmxnet3_pop_rxc_descr">vmxnet3_pop_rxc_descr</a>(<a class="local col2 ref" href="#222s" title='s' data-ref="222s">s</a>, <a class="macro" href="#831" title="(0)" data-ref="_M/RXQ_IDX">RXQ_IDX</a>, &amp;<a class="local col9 ref" href="#229new_rxcd_gen" title='new_rxcd_gen' data-ref="229new_rxcd_gen">new_rxcd_gen</a>);</td></tr>
<tr><th id="1092">1092</th><td>        <b>if</b> (!<a class="local col0 ref" href="#230new_rxcd_pa" title='new_rxcd_pa' data-ref="230new_rxcd_pa">new_rxcd_pa</a>) {</td></tr>
<tr><th id="1093">1093</th><td>            <b>break</b>;</td></tr>
<tr><th id="1094">1094</th><td>        }</td></tr>
<tr><th id="1095">1095</th><td></td></tr>
<tr><th id="1096">1096</th><td>        <b>if</b> (!<a class="tu ref" href="#vmxnet3_get_next_rx_descr" title='vmxnet3_get_next_rx_descr' data-use='c' data-ref="vmxnet3_get_next_rx_descr">vmxnet3_get_next_rx_descr</a>(<a class="local col2 ref" href="#222s" title='s' data-ref="222s">s</a>, <a class="local col5 ref" href="#225is_head" title='is_head' data-ref="225is_head">is_head</a>, &amp;<a class="local col3 ref" href="#223rxd" title='rxd' data-ref="223rxd">rxd</a>, &amp;<a class="local col6 ref" href="#226rxd_idx" title='rxd_idx' data-ref="226rxd_idx">rxd_idx</a>, &amp;<a class="local col7 ref" href="#227rx_ridx" title='rx_ridx' data-ref="227rx_ridx">rx_ridx</a>)) {</td></tr>
<tr><th id="1097">1097</th><td>            <b>break</b>;</td></tr>
<tr><th id="1098">1098</th><td>        }</td></tr>
<tr><th id="1099">1099</th><td></td></tr>
<tr><th id="1100">1100</th><td>        <a class="local col6 ref" href="#236chunk_size" title='chunk_size' data-ref="236chunk_size">chunk_size</a> = <a class="macro" href="../../../include/glib-2.0/glib/gmacros.h.html#291" title="(((bytes_left) &lt; (rxd.len)) ? (bytes_left) : (rxd.len))" data-ref="_M/MIN">MIN</a>(<a class="local col4 ref" href="#234bytes_left" title='bytes_left' data-ref="234bytes_left">bytes_left</a>, <a class="local col3 ref" href="#223rxd" title='rxd' data-ref="223rxd">rxd</a>.<a class="ref" href="vmxnet3.h.html#Vmxnet3_RxDesc::len" title='Vmxnet3_RxDesc::len' data-ref="Vmxnet3_RxDesc::len">len</a>);</td></tr>
<tr><th id="1101">1101</th><td>        <a class="tu ref" href="#vmxnet3_pci_dma_writev" title='vmxnet3_pci_dma_writev' data-use='c' data-ref="vmxnet3_pci_dma_writev">vmxnet3_pci_dma_writev</a>(<a class="local col4 ref" href="#224d" title='d' data-ref="224d">d</a>, <a class="local col2 ref" href="#232data" title='data' data-ref="232data">data</a>, <a class="local col3 ref" href="#233bytes_copied" title='bytes_copied' data-ref="233bytes_copied">bytes_copied</a>,</td></tr>
<tr><th id="1102">1102</th><td>                               <a class="ref" href="../../include/qemu/bswap.h.html#168" title='le64_to_cpu' data-ref="le64_to_cpu">le64_to_cpu</a>(<a class="local col3 ref" href="#223rxd" title='rxd' data-ref="223rxd">rxd</a>.<a class="ref" href="vmxnet3.h.html#Vmxnet3_RxDesc::addr" title='Vmxnet3_RxDesc::addr' data-ref="Vmxnet3_RxDesc::addr">addr</a>), <a class="local col6 ref" href="#236chunk_size" title='chunk_size' data-ref="236chunk_size">chunk_size</a>);</td></tr>
<tr><th id="1103">1103</th><td>        <a class="local col3 ref" href="#233bytes_copied" title='bytes_copied' data-ref="233bytes_copied">bytes_copied</a> += <a class="local col6 ref" href="#236chunk_size" title='chunk_size' data-ref="236chunk_size">chunk_size</a>;</td></tr>
<tr><th id="1104">1104</th><td>        <a class="local col4 ref" href="#234bytes_left" title='bytes_left' data-ref="234bytes_left">bytes_left</a> -= <a class="local col6 ref" href="#236chunk_size" title='chunk_size' data-ref="236chunk_size">chunk_size</a>;</td></tr>
<tr><th id="1105">1105</th><td></td></tr>
<tr><th id="1106">1106</th><td>        <a class="tu ref" href="#vmxnet3_dump_rx_descr" title='vmxnet3_dump_rx_descr' data-use='c' data-ref="vmxnet3_dump_rx_descr">vmxnet3_dump_rx_descr</a>(&amp;<a class="local col3 ref" href="#223rxd" title='rxd' data-ref="223rxd">rxd</a>);</td></tr>
<tr><th id="1107">1107</th><td></td></tr>
<tr><th id="1108">1108</th><td>        <b>if</b> (<a class="local col1 ref" href="#231ready_rxcd_pa" title='ready_rxcd_pa' data-ref="231ready_rxcd_pa">ready_rxcd_pa</a> != <var>0</var>) {</td></tr>
<tr><th id="1109">1109</th><td>            <a class="ref" href="../../include/hw/pci/pci.h.html#pci_dma_write" title='pci_dma_write' data-ref="pci_dma_write">pci_dma_write</a>(<a class="local col4 ref" href="#224d" title='d' data-ref="224d">d</a>, <a class="local col1 ref" href="#231ready_rxcd_pa" title='ready_rxcd_pa' data-ref="231ready_rxcd_pa">ready_rxcd_pa</a>, &amp;<a class="local col8 ref" href="#228rxcd" title='rxcd' data-ref="228rxcd">rxcd</a>, <b>sizeof</b>(<a class="local col8 ref" href="#228rxcd" title='rxcd' data-ref="228rxcd">rxcd</a>));</td></tr>
<tr><th id="1110">1110</th><td>        }</td></tr>
<tr><th id="1111">1111</th><td></td></tr>
<tr><th id="1112">1112</th><td>        <a class="ref" href="../../../include/string.h.html#memset" title='memset' data-ref="memset">memset</a>(&amp;<a class="local col8 ref" href="#228rxcd" title='rxcd' data-ref="228rxcd">rxcd</a>, <var>0</var>, <b>sizeof</b>(<b>struct</b> <a class="type" href="vmxnet3.h.html#Vmxnet3_RxCompDesc" title='Vmxnet3_RxCompDesc' data-ref="Vmxnet3_RxCompDesc">Vmxnet3_RxCompDesc</a>));</td></tr>
<tr><th id="1113">1113</th><td>        <a class="local col8 ref" href="#228rxcd" title='rxcd' data-ref="228rxcd">rxcd</a>.<a class="ref" href="vmxnet3.h.html#Vmxnet3_RxCompDesc::rxdIdx" title='Vmxnet3_RxCompDesc::rxdIdx' data-ref="Vmxnet3_RxCompDesc::rxdIdx">rxdIdx</a> = <a class="local col6 ref" href="#226rxd_idx" title='rxd_idx' data-ref="226rxd_idx">rxd_idx</a>;</td></tr>
<tr><th id="1114">1114</th><td>        <a class="local col8 ref" href="#228rxcd" title='rxcd' data-ref="228rxcd">rxcd</a>.<a class="ref" href="vmxnet3.h.html#Vmxnet3_RxCompDesc::len" title='Vmxnet3_RxCompDesc::len' data-ref="Vmxnet3_RxCompDesc::len">len</a> = <a class="local col6 ref" href="#236chunk_size" title='chunk_size' data-ref="236chunk_size">chunk_size</a>;</td></tr>
<tr><th id="1115">1115</th><td>        <a class="local col8 ref" href="#228rxcd" title='rxcd' data-ref="228rxcd">rxcd</a>.<a class="ref" href="vmxnet3.h.html#Vmxnet3_RxCompDesc::sop" title='Vmxnet3_RxCompDesc::sop' data-ref="Vmxnet3_RxCompDesc::sop">sop</a> = <a class="local col5 ref" href="#225is_head" title='is_head' data-ref="225is_head">is_head</a>;</td></tr>
<tr><th id="1116">1116</th><td>        <a class="local col8 ref" href="#228rxcd" title='rxcd' data-ref="228rxcd">rxcd</a>.<a class="ref" href="vmxnet3.h.html#Vmxnet3_RxCompDesc::gen" title='Vmxnet3_RxCompDesc::gen' data-ref="Vmxnet3_RxCompDesc::gen">gen</a> = <a class="local col9 ref" href="#229new_rxcd_gen" title='new_rxcd_gen' data-ref="229new_rxcd_gen">new_rxcd_gen</a>;</td></tr>
<tr><th id="1117">1117</th><td>        <a class="local col8 ref" href="#228rxcd" title='rxcd' data-ref="228rxcd">rxcd</a>.<a class="ref" href="vmxnet3.h.html#Vmxnet3_RxCompDesc::rqID" title='Vmxnet3_RxCompDesc::rqID' data-ref="Vmxnet3_RxCompDesc::rqID">rqID</a> = <a class="macro" href="#831" title="(0)" data-ref="_M/RXQ_IDX">RXQ_IDX</a> + <a class="local col7 ref" href="#227rx_ridx" title='rx_ridx' data-ref="227rx_ridx">rx_ridx</a> * <a class="local col2 ref" href="#222s" title='s' data-ref="222s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::rxq_num" title='(anonymous struct)::rxq_num' data-use='r' data-ref="(anonymous)::rxq_num">rxq_num</a>;</td></tr>
<tr><th id="1118">1118</th><td></td></tr>
<tr><th id="1119">1119</th><td>        <b>if</b> (<a class="local col4 ref" href="#234bytes_left" title='bytes_left' data-ref="234bytes_left">bytes_left</a> == <var>0</var>) {</td></tr>
<tr><th id="1120">1120</th><td>            <a class="tu ref" href="#vmxnet3_rx_update_descr" title='vmxnet3_rx_update_descr' data-use='c' data-ref="vmxnet3_rx_update_descr">vmxnet3_rx_update_descr</a>(<a class="local col2 ref" href="#222s" title='s' data-ref="222s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::rx_pkt" title='(anonymous struct)::rx_pkt' data-use='r' data-ref="(anonymous)::rx_pkt">rx_pkt</a>, &amp;<a class="local col8 ref" href="#228rxcd" title='rxcd' data-ref="228rxcd">rxcd</a>);</td></tr>
<tr><th id="1121">1121</th><td>        }</td></tr>
<tr><th id="1122">1122</th><td></td></tr>
<tr><th id="1123">1123</th><td>        <a class="macro" href="vmxnet_debug.h.html#137" title="do { if (0) { printf(&quot;[%s][RI][%s]: &quot; &quot;RX Completion descriptor: rxRing: %lu rxIdx %lu len %lu &quot; &quot;sop %d csum_correct %lu&quot; &quot;\n&quot;, &quot;vmxnet3&quot;, __func__, (unsigned long) rx_ridx, (unsigned long) rxcd.rxdIdx, (unsigned long) rxcd.len, (int) rxcd.sop, (unsigned long) rxcd.tuc); } } while (0)" data-ref="_M/VMW_RIPRN">VMW_RIPRN</a>(<q>"RX Completion descriptor: rxRing: %lu rxIdx %lu len %lu "</q></td></tr>
<tr><th id="1124">1124</th><td>                  <q>"sop %d csum_correct %lu"</q>,</td></tr>
<tr><th id="1125">1125</th><td>                  (<em>unsigned</em> <em>long</em>) <a class="local col7 ref" href="#227rx_ridx" title='rx_ridx' data-ref="227rx_ridx">rx_ridx</a>,</td></tr>
<tr><th id="1126">1126</th><td>                  (<em>unsigned</em> <em>long</em>) <a class="local col8 ref" href="#228rxcd" title='rxcd' data-ref="228rxcd">rxcd</a>.<a class="ref" href="vmxnet3.h.html#Vmxnet3_RxCompDesc::rxdIdx" title='Vmxnet3_RxCompDesc::rxdIdx' data-ref="Vmxnet3_RxCompDesc::rxdIdx">rxdIdx</a>,</td></tr>
<tr><th id="1127">1127</th><td>                  (<em>unsigned</em> <em>long</em>) <a class="local col8 ref" href="#228rxcd" title='rxcd' data-ref="228rxcd">rxcd</a>.<a class="ref" href="vmxnet3.h.html#Vmxnet3_RxCompDesc::len" title='Vmxnet3_RxCompDesc::len' data-ref="Vmxnet3_RxCompDesc::len">len</a>,</td></tr>
<tr><th id="1128">1128</th><td>                  (<em>int</em>) <a class="local col8 ref" href="#228rxcd" title='rxcd' data-ref="228rxcd">rxcd</a>.<a class="ref" href="vmxnet3.h.html#Vmxnet3_RxCompDesc::sop" title='Vmxnet3_RxCompDesc::sop' data-ref="Vmxnet3_RxCompDesc::sop">sop</a>,</td></tr>
<tr><th id="1129">1129</th><td>                  (<em>unsigned</em> <em>long</em>) <a class="local col8 ref" href="#228rxcd" title='rxcd' data-ref="228rxcd">rxcd</a>.<a class="ref" href="vmxnet3.h.html#Vmxnet3_RxCompDesc::tuc" title='Vmxnet3_RxCompDesc::tuc' data-ref="Vmxnet3_RxCompDesc::tuc">tuc</a>);</td></tr>
<tr><th id="1130">1130</th><td></td></tr>
<tr><th id="1131">1131</th><td>        <a class="local col5 ref" href="#225is_head" title='is_head' data-ref="225is_head">is_head</a> = <span class="macro" title="0" data-ref="_M/false">false</span>;</td></tr>
<tr><th id="1132">1132</th><td>        <a class="local col1 ref" href="#231ready_rxcd_pa" title='ready_rxcd_pa' data-ref="231ready_rxcd_pa">ready_rxcd_pa</a> = <a class="local col0 ref" href="#230new_rxcd_pa" title='new_rxcd_pa' data-ref="230new_rxcd_pa">new_rxcd_pa</a>;</td></tr>
<tr><th id="1133">1133</th><td>        <a class="local col0 ref" href="#230new_rxcd_pa" title='new_rxcd_pa' data-ref="230new_rxcd_pa">new_rxcd_pa</a> = <var>0</var>;</td></tr>
<tr><th id="1134">1134</th><td>        <a class="local col5 ref" href="#235num_frags" title='num_frags' data-ref="235num_frags">num_frags</a>++;</td></tr>
<tr><th id="1135">1135</th><td>    }</td></tr>
<tr><th id="1136">1136</th><td></td></tr>
<tr><th id="1137">1137</th><td>    <b>if</b> (<a class="local col1 ref" href="#231ready_rxcd_pa" title='ready_rxcd_pa' data-ref="231ready_rxcd_pa">ready_rxcd_pa</a> != <var>0</var>) {</td></tr>
<tr><th id="1138">1138</th><td>        <a class="local col8 ref" href="#228rxcd" title='rxcd' data-ref="228rxcd">rxcd</a>.<a class="ref" href="vmxnet3.h.html#Vmxnet3_RxCompDesc::eop" title='Vmxnet3_RxCompDesc::eop' data-ref="Vmxnet3_RxCompDesc::eop">eop</a> = <var>1</var>;</td></tr>
<tr><th id="1139">1139</th><td>        <a class="local col8 ref" href="#228rxcd" title='rxcd' data-ref="228rxcd">rxcd</a>.<a class="ref" href="vmxnet3.h.html#Vmxnet3_RxCompDesc::err" title='Vmxnet3_RxCompDesc::err' data-ref="Vmxnet3_RxCompDesc::err">err</a> = (<a class="local col4 ref" href="#234bytes_left" title='bytes_left' data-ref="234bytes_left">bytes_left</a> != <var>0</var>);</td></tr>
<tr><th id="1140">1140</th><td></td></tr>
<tr><th id="1141">1141</th><td>        <a class="ref" href="../../include/hw/pci/pci.h.html#pci_dma_write" title='pci_dma_write' data-ref="pci_dma_write">pci_dma_write</a>(<a class="local col4 ref" href="#224d" title='d' data-ref="224d">d</a>, <a class="local col1 ref" href="#231ready_rxcd_pa" title='ready_rxcd_pa' data-ref="231ready_rxcd_pa">ready_rxcd_pa</a>, &amp;<a class="local col8 ref" href="#228rxcd" title='rxcd' data-ref="228rxcd">rxcd</a>, <b>sizeof</b>(<a class="local col8 ref" href="#228rxcd" title='rxcd' data-ref="228rxcd">rxcd</a>));</td></tr>
<tr><th id="1142">1142</th><td></td></tr>
<tr><th id="1143">1143</th><td>        <i>/* Flush RX descriptor changes */</i></td></tr>
<tr><th id="1144">1144</th><td>        <a class="macro" href="../../include/qemu/atomic.h.html#412" title="({ ({ asm volatile(&quot;&quot; ::: &quot;memory&quot;); (void)0; }); __atomic_thread_fence(3); })" data-ref="_M/smp_wmb">smp_wmb</a>();</td></tr>
<tr><th id="1145">1145</th><td>    }</td></tr>
<tr><th id="1146">1146</th><td></td></tr>
<tr><th id="1147">1147</th><td>    <b>if</b> (<a class="local col0 ref" href="#230new_rxcd_pa" title='new_rxcd_pa' data-ref="230new_rxcd_pa">new_rxcd_pa</a> != <var>0</var>) {</td></tr>
<tr><th id="1148">1148</th><td>        <a class="tu ref" href="#vmxnet3_revert_rxc_descr" title='vmxnet3_revert_rxc_descr' data-use='c' data-ref="vmxnet3_revert_rxc_descr">vmxnet3_revert_rxc_descr</a>(<a class="local col2 ref" href="#222s" title='s' data-ref="222s">s</a>, <a class="macro" href="#831" title="(0)" data-ref="_M/RXQ_IDX">RXQ_IDX</a>);</td></tr>
<tr><th id="1149">1149</th><td>    }</td></tr>
<tr><th id="1150">1150</th><td></td></tr>
<tr><th id="1151">1151</th><td>    <a class="tu ref" href="#vmxnet3_trigger_interrupt" title='vmxnet3_trigger_interrupt' data-use='c' data-ref="vmxnet3_trigger_interrupt">vmxnet3_trigger_interrupt</a>(<a class="local col2 ref" href="#222s" title='s' data-ref="222s">s</a>, <a class="local col2 ref" href="#222s" title='s' data-ref="222s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::rxq_descr" title='(anonymous struct)::rxq_descr' data-use='m' data-ref="(anonymous)::rxq_descr">rxq_descr</a>[<a class="macro" href="#831" title="(0)" data-ref="_M/RXQ_IDX">RXQ_IDX</a>].<a class="tu ref" href="#(anonymous)::intr_idx" title='(anonymous struct)::intr_idx' data-use='r' data-ref="(anonymous)::intr_idx">intr_idx</a>);</td></tr>
<tr><th id="1152">1152</th><td></td></tr>
<tr><th id="1153">1153</th><td>    <b>if</b> (<a class="local col4 ref" href="#234bytes_left" title='bytes_left' data-ref="234bytes_left">bytes_left</a> == <var>0</var>) {</td></tr>
<tr><th id="1154">1154</th><td>        <a class="tu ref" href="#vmxnet3_on_rx_done_update_stats" title='vmxnet3_on_rx_done_update_stats' data-use='c' data-ref="vmxnet3_on_rx_done_update_stats">vmxnet3_on_rx_done_update_stats</a>(<a class="local col2 ref" href="#222s" title='s' data-ref="222s">s</a>, <a class="macro" href="#831" title="(0)" data-ref="_M/RXQ_IDX">RXQ_IDX</a>, <a class="enum" href="#VMXNET3_PKT_STATUS_OK" title='VMXNET3_PKT_STATUS_OK' data-ref="VMXNET3_PKT_STATUS_OK">VMXNET3_PKT_STATUS_OK</a>);</td></tr>
<tr><th id="1155">1155</th><td>        <b>return</b> <span class="macro" title="1" data-ref="_M/true">true</span>;</td></tr>
<tr><th id="1156">1156</th><td>    } <b>else</b> <b>if</b> (<a class="local col5 ref" href="#235num_frags" title='num_frags' data-ref="235num_frags">num_frags</a> == <a class="local col2 ref" href="#222s" title='s' data-ref="222s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::max_rx_frags" title='(anonymous struct)::max_rx_frags' data-use='r' data-ref="(anonymous)::max_rx_frags">max_rx_frags</a>) {</td></tr>
<tr><th id="1157">1157</th><td>        <a class="tu ref" href="#vmxnet3_on_rx_done_update_stats" title='vmxnet3_on_rx_done_update_stats' data-use='c' data-ref="vmxnet3_on_rx_done_update_stats">vmxnet3_on_rx_done_update_stats</a>(<a class="local col2 ref" href="#222s" title='s' data-ref="222s">s</a>, <a class="macro" href="#831" title="(0)" data-ref="_M/RXQ_IDX">RXQ_IDX</a>, <a class="enum" href="#VMXNET3_PKT_STATUS_ERROR" title='VMXNET3_PKT_STATUS_ERROR' data-ref="VMXNET3_PKT_STATUS_ERROR">VMXNET3_PKT_STATUS_ERROR</a>);</td></tr>
<tr><th id="1158">1158</th><td>        <b>return</b> <span class="macro" title="0" data-ref="_M/false">false</span>;</td></tr>
<tr><th id="1159">1159</th><td>    } <b>else</b> {</td></tr>
<tr><th id="1160">1160</th><td>        <a class="tu ref" href="#vmxnet3_on_rx_done_update_stats" title='vmxnet3_on_rx_done_update_stats' data-use='c' data-ref="vmxnet3_on_rx_done_update_stats">vmxnet3_on_rx_done_update_stats</a>(<a class="local col2 ref" href="#222s" title='s' data-ref="222s">s</a>, <a class="macro" href="#831" title="(0)" data-ref="_M/RXQ_IDX">RXQ_IDX</a>,</td></tr>
<tr><th id="1161">1161</th><td>                                        <a class="enum" href="#VMXNET3_PKT_STATUS_OUT_OF_BUF" title='VMXNET3_PKT_STATUS_OUT_OF_BUF' data-ref="VMXNET3_PKT_STATUS_OUT_OF_BUF">VMXNET3_PKT_STATUS_OUT_OF_BUF</a>);</td></tr>
<tr><th id="1162">1162</th><td>        <b>return</b> <span class="macro" title="0" data-ref="_M/false">false</span>;</td></tr>
<tr><th id="1163">1163</th><td>    }</td></tr>
<tr><th id="1164">1164</th><td>}</td></tr>
<tr><th id="1165">1165</th><td></td></tr>
<tr><th id="1166">1166</th><td><em>static</em> <em>void</em></td></tr>
<tr><th id="1167">1167</th><td><dfn class="tu decl def" id="vmxnet3_io_bar0_write" title='vmxnet3_io_bar0_write' data-type='void vmxnet3_io_bar0_write(void * opaque, hwaddr addr, uint64_t val, unsigned int size)' data-ref="vmxnet3_io_bar0_write">vmxnet3_io_bar0_write</dfn>(<em>void</em> *<dfn class="local col7 decl" id="237opaque" title='opaque' data-type='void *' data-ref="237opaque">opaque</dfn>, <a class="typedef" href="../../include/exec/hwaddr.h.html#hwaddr" title='hwaddr' data-type='uint64_t' data-ref="hwaddr">hwaddr</a> <dfn class="local col8 decl" id="238addr" title='addr' data-type='hwaddr' data-ref="238addr">addr</dfn>,</td></tr>
<tr><th id="1168">1168</th><td>                      <a class="typedef" href="../../../include/stdint.h.html#uint64_t" title='uint64_t' data-type='unsigned long' data-ref="uint64_t">uint64_t</a> <dfn class="local col9 decl" id="239val" title='val' data-type='uint64_t' data-ref="239val">val</dfn>, <em>unsigned</em> <dfn class="local col0 decl" id="240size" title='size' data-type='unsigned int' data-ref="240size">size</dfn>)</td></tr>
<tr><th id="1169">1169</th><td>{</td></tr>
<tr><th id="1170">1170</th><td>    <a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a> *<dfn class="local col1 decl" id="241s" title='s' data-type='VMXNET3State *' data-ref="241s">s</dfn> = <a class="local col7 ref" href="#237opaque" title='opaque' data-ref="237opaque">opaque</a>;</td></tr>
<tr><th id="1171">1171</th><td></td></tr>
<tr><th id="1172">1172</th><td>    <b>if</b> (!<a class="local col1 ref" href="#241s" title='s' data-ref="241s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::device_active" title='(anonymous struct)::device_active' data-use='r' data-ref="(anonymous)::device_active">device_active</a>) {</td></tr>
<tr><th id="1173">1173</th><td>        <b>return</b>;</td></tr>
<tr><th id="1174">1174</th><td>    }</td></tr>
<tr><th id="1175">1175</th><td></td></tr>
<tr><th id="1176">1176</th><td>    <b>if</b> (<a class="macro" href="vmware_utils.h.html#136" title="range_covers_byte(VMXNET3_REG_TXPROD, 8 * 8, addr)" data-ref="_M/VMW_IS_MULTIREG_ADDR">VMW_IS_MULTIREG_ADDR</a>(<a class="local col8 ref" href="#238addr" title='addr' data-ref="238addr">addr</a>, <a class="enum" href="vmxnet3.h.html#VMXNET3_REG_TXPROD" title='VMXNET3_REG_TXPROD' data-ref="VMXNET3_REG_TXPROD">VMXNET3_REG_TXPROD</a>,</td></tr>
<tr><th id="1177">1177</th><td>                        <a class="macro" href="vmxnet3.h.html#21" title="8" data-ref="_M/VMXNET3_DEVICE_MAX_TX_QUEUES">VMXNET3_DEVICE_MAX_TX_QUEUES</a>, <a class="macro" href="vmxnet3.h.html#168" title="8" data-ref="_M/VMXNET3_REG_ALIGN">VMXNET3_REG_ALIGN</a>)) {</td></tr>
<tr><th id="1178">1178</th><td>        <em>int</em> <dfn class="local col2 decl" id="242tx_queue_idx" title='tx_queue_idx' data-type='int' data-ref="242tx_queue_idx">tx_queue_idx</dfn> =</td></tr>
<tr><th id="1179">1179</th><td>            <a class="macro" href="vmware_utils.h.html#144" title="(((addr) - (VMXNET3_REG_TXPROD)) / (8))" data-ref="_M/VMW_MULTIREG_IDX_BY_ADDR">VMW_MULTIREG_IDX_BY_ADDR</a>(<a class="local col8 ref" href="#238addr" title='addr' data-ref="238addr">addr</a>, <a class="enum" href="vmxnet3.h.html#VMXNET3_REG_TXPROD" title='VMXNET3_REG_TXPROD' data-ref="VMXNET3_REG_TXPROD">VMXNET3_REG_TXPROD</a>,</td></tr>
<tr><th id="1180">1180</th><td>                                     <a class="macro" href="vmxnet3.h.html#168" title="8" data-ref="_M/VMXNET3_REG_ALIGN">VMXNET3_REG_ALIGN</a>);</td></tr>
<tr><th id="1181">1181</th><td>        <a class="macro" href="../../../include/assert.h.html#88" title="((tx_queue_idx &lt;= s-&gt;txq_num) ? (void) (0) : __assert_fail (&quot;tx_queue_idx &lt;= s-&gt;txq_num&quot;, &quot;/home/jon/workspace/qemu/hw/net/vmxnet3.c&quot;, 1181, __PRETTY_FUNCTION__))" data-ref="_M/assert">assert</a>(<a class="local col2 ref" href="#242tx_queue_idx" title='tx_queue_idx' data-ref="242tx_queue_idx">tx_queue_idx</a> &lt;= <a class="local col1 ref" href="#241s" title='s' data-ref="241s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::txq_num" title='(anonymous struct)::txq_num' data-use='r' data-ref="(anonymous)::txq_num">txq_num</a>);</td></tr>
<tr><th id="1182">1182</th><td>        <a class="tu ref" href="#vmxnet3_process_tx_queue" title='vmxnet3_process_tx_queue' data-use='c' data-ref="vmxnet3_process_tx_queue">vmxnet3_process_tx_queue</a>(<a class="local col1 ref" href="#241s" title='s' data-ref="241s">s</a>, <a class="local col2 ref" href="#242tx_queue_idx" title='tx_queue_idx' data-ref="242tx_queue_idx">tx_queue_idx</a>);</td></tr>
<tr><th id="1183">1183</th><td>        <b>return</b>;</td></tr>
<tr><th id="1184">1184</th><td>    }</td></tr>
<tr><th id="1185">1185</th><td></td></tr>
<tr><th id="1186">1186</th><td>    <b>if</b> (<a class="macro" href="vmware_utils.h.html#136" title="range_covers_byte(VMXNET3_REG_IMR, 25 * 8, addr)" data-ref="_M/VMW_IS_MULTIREG_ADDR">VMW_IS_MULTIREG_ADDR</a>(<a class="local col8 ref" href="#238addr" title='addr' data-ref="238addr">addr</a>, <a class="enum" href="vmxnet3.h.html#VMXNET3_REG_IMR" title='VMXNET3_REG_IMR' data-ref="VMXNET3_REG_IMR">VMXNET3_REG_IMR</a>,</td></tr>
<tr><th id="1187">1187</th><td>                        <a class="macro" href="vmxnet3.h.html#584" title="25" data-ref="_M/VMXNET3_MAX_INTRS">VMXNET3_MAX_INTRS</a>, <a class="macro" href="vmxnet3.h.html#168" title="8" data-ref="_M/VMXNET3_REG_ALIGN">VMXNET3_REG_ALIGN</a>)) {</td></tr>
<tr><th id="1188">1188</th><td>        <em>int</em> <dfn class="local col3 decl" id="243l" title='l' data-type='int' data-ref="243l">l</dfn> = <a class="macro" href="vmware_utils.h.html#144" title="(((addr) - (VMXNET3_REG_IMR)) / (8))" data-ref="_M/VMW_MULTIREG_IDX_BY_ADDR">VMW_MULTIREG_IDX_BY_ADDR</a>(<a class="local col8 ref" href="#238addr" title='addr' data-ref="238addr">addr</a>, <a class="enum" href="vmxnet3.h.html#VMXNET3_REG_IMR" title='VMXNET3_REG_IMR' data-ref="VMXNET3_REG_IMR">VMXNET3_REG_IMR</a>,</td></tr>
<tr><th id="1189">1189</th><td>                                         <a class="macro" href="vmxnet3.h.html#168" title="8" data-ref="_M/VMXNET3_REG_ALIGN">VMXNET3_REG_ALIGN</a>);</td></tr>
<tr><th id="1190">1190</th><td></td></tr>
<tr><th id="1191">1191</th><td>        <a class="macro" href="vmxnet_debug.h.html#89" title="do { if (0) { printf(&quot;[%s][CB][%s]: &quot; &quot;Interrupt mask for line %d written: 0x%&quot; &quot;l&quot; &quot;x&quot; &quot;\n&quot;, &quot;vmxnet3&quot;, __func__, l, val); } } while (0)" data-ref="_M/VMW_CBPRN">VMW_CBPRN</a>(<q>"Interrupt mask for line %d written: 0x%"</q> <a class="macro" href="../../../include/inttypes.h.html#121" title="&quot;l&quot; &quot;x&quot;" data-ref="_M/PRIx64">PRIx64</a>, <a class="local col3 ref" href="#243l" title='l' data-ref="243l">l</a>, <a class="local col9 ref" href="#239val" title='val' data-ref="239val">val</a>);</td></tr>
<tr><th id="1192">1192</th><td></td></tr>
<tr><th id="1193">1193</th><td>        <a class="tu ref" href="#vmxnet3_on_interrupt_mask_changed" title='vmxnet3_on_interrupt_mask_changed' data-use='c' data-ref="vmxnet3_on_interrupt_mask_changed">vmxnet3_on_interrupt_mask_changed</a>(<a class="local col1 ref" href="#241s" title='s' data-ref="241s">s</a>, <a class="local col3 ref" href="#243l" title='l' data-ref="243l">l</a>, <a class="local col9 ref" href="#239val" title='val' data-ref="239val">val</a>);</td></tr>
<tr><th id="1194">1194</th><td>        <b>return</b>;</td></tr>
<tr><th id="1195">1195</th><td>    }</td></tr>
<tr><th id="1196">1196</th><td></td></tr>
<tr><th id="1197">1197</th><td>    <b>if</b> (<a class="macro" href="vmware_utils.h.html#136" title="range_covers_byte(VMXNET3_REG_RXPROD, 8 * 8, addr)" data-ref="_M/VMW_IS_MULTIREG_ADDR">VMW_IS_MULTIREG_ADDR</a>(<a class="local col8 ref" href="#238addr" title='addr' data-ref="238addr">addr</a>, <a class="enum" href="vmxnet3.h.html#VMXNET3_REG_RXPROD" title='VMXNET3_REG_RXPROD' data-ref="VMXNET3_REG_RXPROD">VMXNET3_REG_RXPROD</a>,</td></tr>
<tr><th id="1198">1198</th><td>                        <a class="macro" href="vmxnet3.h.html#22" title="8" data-ref="_M/VMXNET3_DEVICE_MAX_RX_QUEUES">VMXNET3_DEVICE_MAX_RX_QUEUES</a>, <a class="macro" href="vmxnet3.h.html#168" title="8" data-ref="_M/VMXNET3_REG_ALIGN">VMXNET3_REG_ALIGN</a>) ||</td></tr>
<tr><th id="1199">1199</th><td>       <a class="macro" href="vmware_utils.h.html#136" title="range_covers_byte(VMXNET3_REG_RXPROD2, 8 * 8, addr)" data-ref="_M/VMW_IS_MULTIREG_ADDR">VMW_IS_MULTIREG_ADDR</a>(<a class="local col8 ref" href="#238addr" title='addr' data-ref="238addr">addr</a>, <a class="enum" href="vmxnet3.h.html#VMXNET3_REG_RXPROD2" title='VMXNET3_REG_RXPROD2' data-ref="VMXNET3_REG_RXPROD2">VMXNET3_REG_RXPROD2</a>,</td></tr>
<tr><th id="1200">1200</th><td>                        <a class="macro" href="vmxnet3.h.html#22" title="8" data-ref="_M/VMXNET3_DEVICE_MAX_RX_QUEUES">VMXNET3_DEVICE_MAX_RX_QUEUES</a>, <a class="macro" href="vmxnet3.h.html#168" title="8" data-ref="_M/VMXNET3_REG_ALIGN">VMXNET3_REG_ALIGN</a>)) {</td></tr>
<tr><th id="1201">1201</th><td>        <b>return</b>;</td></tr>
<tr><th id="1202">1202</th><td>    }</td></tr>
<tr><th id="1203">1203</th><td></td></tr>
<tr><th id="1204">1204</th><td>    <a class="macro" href="vmxnet_debug.h.html#105" title="do { if (1) { printf(&quot;[%s][WR][%s]: &quot; &quot;BAR0 unknown write [%&quot; &quot;l&quot; &quot;x&quot; &quot;] = %&quot; &quot;l&quot; &quot;x&quot; &quot;, size %d&quot; &quot;\n&quot;, &quot;vmxnet3&quot;, __func__, (uint64_t) addr, val, size); } } while (0)" data-ref="_M/VMW_WRPRN">VMW_WRPRN</a>(<q>"BAR0 unknown write [%"</q> <a class="macro" href="../../../include/inttypes.h.html#121" title="&quot;l&quot; &quot;x&quot;" data-ref="_M/PRIx64">PRIx64</a> <q>"] = %"</q> <a class="macro" href="../../../include/inttypes.h.html#121" title="&quot;l&quot; &quot;x&quot;" data-ref="_M/PRIx64">PRIx64</a> <q>", size %d"</q>,</td></tr>
<tr><th id="1205">1205</th><td>              (<a class="typedef" href="../../../include/stdint.h.html#uint64_t" title='uint64_t' data-type='unsigned long' data-ref="uint64_t">uint64_t</a>) <a class="local col8 ref" href="#238addr" title='addr' data-ref="238addr">addr</a>, <a class="local col9 ref" href="#239val" title='val' data-ref="239val">val</a>, <a class="local col0 ref" href="#240size" title='size' data-ref="240size">size</a>);</td></tr>
<tr><th id="1206">1206</th><td>}</td></tr>
<tr><th id="1207">1207</th><td></td></tr>
<tr><th id="1208">1208</th><td><em>static</em> <a class="typedef" href="../../../include/stdint.h.html#uint64_t" title='uint64_t' data-type='unsigned long' data-ref="uint64_t">uint64_t</a></td></tr>
<tr><th id="1209">1209</th><td><dfn class="tu decl def" id="vmxnet3_io_bar0_read" title='vmxnet3_io_bar0_read' data-type='uint64_t vmxnet3_io_bar0_read(void * opaque, hwaddr addr, unsigned int size)' data-ref="vmxnet3_io_bar0_read">vmxnet3_io_bar0_read</dfn>(<em>void</em> *<dfn class="local col4 decl" id="244opaque" title='opaque' data-type='void *' data-ref="244opaque">opaque</dfn>, <a class="typedef" href="../../include/exec/hwaddr.h.html#hwaddr" title='hwaddr' data-type='uint64_t' data-ref="hwaddr">hwaddr</a> <dfn class="local col5 decl" id="245addr" title='addr' data-type='hwaddr' data-ref="245addr">addr</dfn>, <em>unsigned</em> <dfn class="local col6 decl" id="246size" title='size' data-type='unsigned int' data-ref="246size">size</dfn>)</td></tr>
<tr><th id="1210">1210</th><td>{</td></tr>
<tr><th id="1211">1211</th><td>    <a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a> *<dfn class="local col7 decl" id="247s" title='s' data-type='VMXNET3State *' data-ref="247s">s</dfn> = <a class="local col4 ref" href="#244opaque" title='opaque' data-ref="244opaque">opaque</a>;</td></tr>
<tr><th id="1212">1212</th><td></td></tr>
<tr><th id="1213">1213</th><td>    <b>if</b> (<a class="macro" href="vmware_utils.h.html#136" title="range_covers_byte(VMXNET3_REG_IMR, 25 * 8, addr)" data-ref="_M/VMW_IS_MULTIREG_ADDR">VMW_IS_MULTIREG_ADDR</a>(<a class="local col5 ref" href="#245addr" title='addr' data-ref="245addr">addr</a>, <a class="enum" href="vmxnet3.h.html#VMXNET3_REG_IMR" title='VMXNET3_REG_IMR' data-ref="VMXNET3_REG_IMR">VMXNET3_REG_IMR</a>,</td></tr>
<tr><th id="1214">1214</th><td>                        <a class="macro" href="vmxnet3.h.html#584" title="25" data-ref="_M/VMXNET3_MAX_INTRS">VMXNET3_MAX_INTRS</a>, <a class="macro" href="vmxnet3.h.html#168" title="8" data-ref="_M/VMXNET3_REG_ALIGN">VMXNET3_REG_ALIGN</a>)) {</td></tr>
<tr><th id="1215">1215</th><td>        <em>int</em> <dfn class="local col8 decl" id="248l" title='l' data-type='int' data-ref="248l">l</dfn> = <a class="macro" href="vmware_utils.h.html#144" title="(((addr) - (VMXNET3_REG_IMR)) / (8))" data-ref="_M/VMW_MULTIREG_IDX_BY_ADDR">VMW_MULTIREG_IDX_BY_ADDR</a>(<a class="local col5 ref" href="#245addr" title='addr' data-ref="245addr">addr</a>, <a class="enum" href="vmxnet3.h.html#VMXNET3_REG_IMR" title='VMXNET3_REG_IMR' data-ref="VMXNET3_REG_IMR">VMXNET3_REG_IMR</a>,</td></tr>
<tr><th id="1216">1216</th><td>                                         <a class="macro" href="vmxnet3.h.html#168" title="8" data-ref="_M/VMXNET3_REG_ALIGN">VMXNET3_REG_ALIGN</a>);</td></tr>
<tr><th id="1217">1217</th><td>        <b>return</b> <a class="local col7 ref" href="#247s" title='s' data-ref="247s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::interrupt_states" title='(anonymous struct)::interrupt_states' data-use='m' data-ref="(anonymous)::interrupt_states">interrupt_states</a>[<a class="local col8 ref" href="#248l" title='l' data-ref="248l">l</a>].<a class="tu ref" href="#(anonymous)::is_masked" title='(anonymous struct)::is_masked' data-use='r' data-ref="(anonymous)::is_masked">is_masked</a>;</td></tr>
<tr><th id="1218">1218</th><td>    }</td></tr>
<tr><th id="1219">1219</th><td></td></tr>
<tr><th id="1220">1220</th><td>    <a class="macro" href="vmxnet_debug.h.html#89" title="do { if (0) { printf(&quot;[%s][CB][%s]: &quot; &quot;BAR0 unknown read [%&quot; &quot;l&quot; &quot;x&quot; &quot;], size %d&quot; &quot;\n&quot;, &quot;vmxnet3&quot;, __func__, addr, size); } } while (0)" data-ref="_M/VMW_CBPRN">VMW_CBPRN</a>(<q>"BAR0 unknown read [%"</q> <a class="macro" href="../../../include/inttypes.h.html#121" title="&quot;l&quot; &quot;x&quot;" data-ref="_M/PRIx64">PRIx64</a> <q>"], size %d"</q>, <a class="local col5 ref" href="#245addr" title='addr' data-ref="245addr">addr</a>, <a class="local col6 ref" href="#246size" title='size' data-ref="246size">size</a>);</td></tr>
<tr><th id="1221">1221</th><td>    <b>return</b> <var>0</var>;</td></tr>
<tr><th id="1222">1222</th><td>}</td></tr>
<tr><th id="1223">1223</th><td></td></tr>
<tr><th id="1224">1224</th><td><em>static</em> <em>void</em> <dfn class="tu decl def" id="vmxnet3_reset_interrupt_states" title='vmxnet3_reset_interrupt_states' data-type='void vmxnet3_reset_interrupt_states(VMXNET3State * s)' data-ref="vmxnet3_reset_interrupt_states">vmxnet3_reset_interrupt_states</dfn>(<a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a> *<dfn class="local col9 decl" id="249s" title='s' data-type='VMXNET3State *' data-ref="249s">s</dfn>)</td></tr>
<tr><th id="1225">1225</th><td>{</td></tr>
<tr><th id="1226">1226</th><td>    <em>int</em> <dfn class="local col0 decl" id="250i" title='i' data-type='int' data-ref="250i">i</dfn>;</td></tr>
<tr><th id="1227">1227</th><td>    <b>for</b> (<a class="local col0 ref" href="#250i" title='i' data-ref="250i">i</a> = <var>0</var>; <a class="local col0 ref" href="#250i" title='i' data-ref="250i">i</a> &lt; <a class="macro" href="../../include/qemu/osdep.h.html#208" title="((sizeof(s-&gt;interrupt_states) / sizeof((s-&gt;interrupt_states)[0])) + (sizeof(struct { int:(!(!__builtin_types_compatible_p(typeof(s-&gt;interrupt_states), typeof(&amp;(s-&gt;interrupt_states)[0])))) ? -1 : 1; }) - sizeof(struct { int:(!(!__builtin_types_compatible_p(typeof(s-&gt;interrupt_states), typeof(&amp;(s-&gt;interrupt_states)[0])))) ? -1 : 1; })))" data-ref="_M/ARRAY_SIZE">ARRAY_SIZE</a>(<a class="local col9 ref" href="#249s" title='s' data-ref="249s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::interrupt_states" title='(anonymous struct)::interrupt_states' data-use='r' data-ref="(anonymous)::interrupt_states">interrupt_states</a>); <a class="local col0 ref" href="#250i" title='i' data-ref="250i">i</a>++) {</td></tr>
<tr><th id="1228">1228</th><td>        <a class="local col9 ref" href="#249s" title='s' data-ref="249s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::interrupt_states" title='(anonymous struct)::interrupt_states' data-use='m' data-ref="(anonymous)::interrupt_states">interrupt_states</a>[<a class="local col0 ref" href="#250i" title='i' data-ref="250i">i</a>].<a class="tu ref" href="#(anonymous)::is_asserted" title='(anonymous struct)::is_asserted' data-use='w' data-ref="(anonymous)::is_asserted">is_asserted</a> = <span class="macro" title="0" data-ref="_M/false">false</span>;</td></tr>
<tr><th id="1229">1229</th><td>        <a class="local col9 ref" href="#249s" title='s' data-ref="249s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::interrupt_states" title='(anonymous struct)::interrupt_states' data-use='m' data-ref="(anonymous)::interrupt_states">interrupt_states</a>[<a class="local col0 ref" href="#250i" title='i' data-ref="250i">i</a>].<a class="tu ref" href="#(anonymous)::is_pending" title='(anonymous struct)::is_pending' data-use='w' data-ref="(anonymous)::is_pending">is_pending</a> = <span class="macro" title="0" data-ref="_M/false">false</span>;</td></tr>
<tr><th id="1230">1230</th><td>        <a class="local col9 ref" href="#249s" title='s' data-ref="249s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::interrupt_states" title='(anonymous struct)::interrupt_states' data-use='m' data-ref="(anonymous)::interrupt_states">interrupt_states</a>[<a class="local col0 ref" href="#250i" title='i' data-ref="250i">i</a>].<a class="tu ref" href="#(anonymous)::is_masked" title='(anonymous struct)::is_masked' data-use='w' data-ref="(anonymous)::is_masked">is_masked</a> = <span class="macro" title="1" data-ref="_M/true">true</span>;</td></tr>
<tr><th id="1231">1231</th><td>    }</td></tr>
<tr><th id="1232">1232</th><td>}</td></tr>
<tr><th id="1233">1233</th><td></td></tr>
<tr><th id="1234">1234</th><td><em>static</em> <em>void</em> <dfn class="tu decl def" id="vmxnet3_reset_mac" title='vmxnet3_reset_mac' data-type='void vmxnet3_reset_mac(VMXNET3State * s)' data-ref="vmxnet3_reset_mac">vmxnet3_reset_mac</dfn>(<a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a> *<dfn class="local col1 decl" id="251s" title='s' data-type='VMXNET3State *' data-ref="251s">s</dfn>)</td></tr>
<tr><th id="1235">1235</th><td>{</td></tr>
<tr><th id="1236">1236</th><td>    <a class="ref" href="../../../include/string.h.html#memcpy" title='memcpy' data-ref="memcpy">memcpy</a>(&amp;<a class="local col1 ref" href="#251s" title='s' data-ref="251s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::conf" title='(anonymous struct)::conf' data-use='m' data-ref="(anonymous)::conf">conf</a>.<a class="ref" href="../../include/net/net.h.html#NICConf::macaddr" title='NICConf::macaddr' data-ref="NICConf::macaddr">macaddr</a>.<a class="ref" href="../../include/net/net.h.html#MACAddr::a" title='MACAddr::a' data-ref="MACAddr::a">a</a>, &amp;<a class="local col1 ref" href="#251s" title='s' data-ref="251s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::perm_mac" title='(anonymous struct)::perm_mac' data-use='m' data-ref="(anonymous)::perm_mac">perm_mac</a>.<a class="ref" href="../../include/net/net.h.html#MACAddr::a" title='MACAddr::a' data-ref="MACAddr::a">a</a>, <b>sizeof</b>(<a class="local col1 ref" href="#251s" title='s' data-ref="251s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::perm_mac" title='(anonymous struct)::perm_mac' data-use='m' data-ref="(anonymous)::perm_mac">perm_mac</a>.<a class="ref" href="../../include/net/net.h.html#MACAddr::a" title='MACAddr::a' data-ref="MACAddr::a">a</a>));</td></tr>
<tr><th id="1237">1237</th><td>    <a class="macro" href="vmxnet_debug.h.html#129" title="do { if (0) { printf(&quot;[%s][CF][%s]: &quot; &quot;MAC address set to: &quot; &quot;%02X:%02X:%02X:%02X:%02X:%02X&quot; &quot;\n&quot;, &quot;vmxnet3&quot;, __func__, ((uint8_t *)(s-&gt;conf.macaddr.a))[0], ((uint8_t *)(s-&gt;conf.macaddr.a))[1], ((uint8_t *)(s-&gt;conf.macaddr.a))[2], ((uint8_t *)(s-&gt;conf.macaddr.a))[3], ((uint8_t *)(s-&gt;conf.macaddr.a))[4], ((uint8_t *)(s-&gt;conf.macaddr.a))[5]); } } while (0)" data-ref="_M/VMW_CFPRN">VMW_CFPRN</a>(<q>"MAC address set to: "</q> <a class="macro" href="../../include/net/net.h.html#12" title="&quot;%02X:%02X:%02X:%02X:%02X:%02X&quot;" data-ref="_M/MAC_FMT">MAC_FMT</a>, MAC_ARG(<a class="local col1 ref" href="#251s" title='s' data-ref="251s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::conf" title='(anonymous struct)::conf' data-use='m' data-ref="(anonymous)::conf">conf</a>.<a class="ref" href="../../include/net/net.h.html#NICConf::macaddr" title='NICConf::macaddr' data-ref="NICConf::macaddr">macaddr</a>.<a class="ref" href="../../include/net/net.h.html#MACAddr::a" title='MACAddr::a' data-ref="MACAddr::a">a</a>));</td></tr>
<tr><th id="1238">1238</th><td>}</td></tr>
<tr><th id="1239">1239</th><td></td></tr>
<tr><th id="1240">1240</th><td><em>static</em> <em>void</em> <dfn class="tu decl def" id="vmxnet3_deactivate_device" title='vmxnet3_deactivate_device' data-type='void vmxnet3_deactivate_device(VMXNET3State * s)' data-ref="vmxnet3_deactivate_device">vmxnet3_deactivate_device</dfn>(<a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a> *<dfn class="local col2 decl" id="252s" title='s' data-type='VMXNET3State *' data-ref="252s">s</dfn>)</td></tr>
<tr><th id="1241">1241</th><td>{</td></tr>
<tr><th id="1242">1242</th><td>    <b>if</b> (<a class="local col2 ref" href="#252s" title='s' data-ref="252s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::device_active" title='(anonymous struct)::device_active' data-use='r' data-ref="(anonymous)::device_active">device_active</a>) {</td></tr>
<tr><th id="1243">1243</th><td>        <a class="macro" href="vmxnet_debug.h.html#89" title="do { if (0) { printf(&quot;[%s][CB][%s]: &quot; &quot;Deactivating vmxnet3...&quot; &quot;\n&quot;, &quot;vmxnet3&quot;, __func__); } } while (0)" data-ref="_M/VMW_CBPRN">VMW_CBPRN</a>(<q>"Deactivating vmxnet3..."</q>);</td></tr>
<tr><th id="1244">1244</th><td>        <a class="ref" href="net_tx_pkt.h.html#net_tx_pkt_reset" title='net_tx_pkt_reset' data-ref="net_tx_pkt_reset">net_tx_pkt_reset</a>(<a class="local col2 ref" href="#252s" title='s' data-ref="252s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::tx_pkt" title='(anonymous struct)::tx_pkt' data-use='r' data-ref="(anonymous)::tx_pkt">tx_pkt</a>);</td></tr>
<tr><th id="1245">1245</th><td>        <a class="ref" href="net_tx_pkt.h.html#net_tx_pkt_uninit" title='net_tx_pkt_uninit' data-ref="net_tx_pkt_uninit">net_tx_pkt_uninit</a>(<a class="local col2 ref" href="#252s" title='s' data-ref="252s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::tx_pkt" title='(anonymous struct)::tx_pkt' data-use='r' data-ref="(anonymous)::tx_pkt">tx_pkt</a>);</td></tr>
<tr><th id="1246">1246</th><td>        <a class="ref" href="net_rx_pkt.h.html#net_rx_pkt_uninit" title='net_rx_pkt_uninit' data-ref="net_rx_pkt_uninit">net_rx_pkt_uninit</a>(<a class="local col2 ref" href="#252s" title='s' data-ref="252s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::rx_pkt" title='(anonymous struct)::rx_pkt' data-use='r' data-ref="(anonymous)::rx_pkt">rx_pkt</a>);</td></tr>
<tr><th id="1247">1247</th><td>        <a class="local col2 ref" href="#252s" title='s' data-ref="252s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::device_active" title='(anonymous struct)::device_active' data-use='w' data-ref="(anonymous)::device_active">device_active</a> = <span class="macro" title="0" data-ref="_M/false">false</span>;</td></tr>
<tr><th id="1248">1248</th><td>    }</td></tr>
<tr><th id="1249">1249</th><td>}</td></tr>
<tr><th id="1250">1250</th><td></td></tr>
<tr><th id="1251">1251</th><td><em>static</em> <em>void</em> <dfn class="tu decl def" id="vmxnet3_reset" title='vmxnet3_reset' data-type='void vmxnet3_reset(VMXNET3State * s)' data-ref="vmxnet3_reset">vmxnet3_reset</dfn>(<a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a> *<dfn class="local col3 decl" id="253s" title='s' data-type='VMXNET3State *' data-ref="253s">s</dfn>)</td></tr>
<tr><th id="1252">1252</th><td>{</td></tr>
<tr><th id="1253">1253</th><td>    <a class="macro" href="vmxnet_debug.h.html#89" title="do { if (0) { printf(&quot;[%s][CB][%s]: &quot; &quot;Resetting vmxnet3...&quot; &quot;\n&quot;, &quot;vmxnet3&quot;, __func__); } } while (0)" data-ref="_M/VMW_CBPRN">VMW_CBPRN</a>(<q>"Resetting vmxnet3..."</q>);</td></tr>
<tr><th id="1254">1254</th><td></td></tr>
<tr><th id="1255">1255</th><td>    <a class="tu ref" href="#vmxnet3_deactivate_device" title='vmxnet3_deactivate_device' data-use='c' data-ref="vmxnet3_deactivate_device">vmxnet3_deactivate_device</a>(<a class="local col3 ref" href="#253s" title='s' data-ref="253s">s</a>);</td></tr>
<tr><th id="1256">1256</th><td>    <a class="tu ref" href="#vmxnet3_reset_interrupt_states" title='vmxnet3_reset_interrupt_states' data-use='c' data-ref="vmxnet3_reset_interrupt_states">vmxnet3_reset_interrupt_states</a>(<a class="local col3 ref" href="#253s" title='s' data-ref="253s">s</a>);</td></tr>
<tr><th id="1257">1257</th><td>    <a class="local col3 ref" href="#253s" title='s' data-ref="253s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::drv_shmem" title='(anonymous struct)::drv_shmem' data-use='w' data-ref="(anonymous)::drv_shmem">drv_shmem</a> = <var>0</var>;</td></tr>
<tr><th id="1258">1258</th><td>    <a class="local col3 ref" href="#253s" title='s' data-ref="253s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::tx_sop" title='(anonymous struct)::tx_sop' data-use='w' data-ref="(anonymous)::tx_sop">tx_sop</a> = <span class="macro" title="1" data-ref="_M/true">true</span>;</td></tr>
<tr><th id="1259">1259</th><td>    <a class="local col3 ref" href="#253s" title='s' data-ref="253s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::skip_current_tx_pkt" title='(anonymous struct)::skip_current_tx_pkt' data-use='w' data-ref="(anonymous)::skip_current_tx_pkt">skip_current_tx_pkt</a> = <span class="macro" title="0" data-ref="_M/false">false</span>;</td></tr>
<tr><th id="1260">1260</th><td>}</td></tr>
<tr><th id="1261">1261</th><td></td></tr>
<tr><th id="1262">1262</th><td><em>static</em> <em>void</em> <dfn class="tu decl def" id="vmxnet3_update_rx_mode" title='vmxnet3_update_rx_mode' data-type='void vmxnet3_update_rx_mode(VMXNET3State * s)' data-ref="vmxnet3_update_rx_mode">vmxnet3_update_rx_mode</dfn>(<a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a> *<dfn class="local col4 decl" id="254s" title='s' data-type='VMXNET3State *' data-ref="254s">s</dfn>)</td></tr>
<tr><th id="1263">1263</th><td>{</td></tr>
<tr><th id="1264">1264</th><td>    <a class="typedef" href="../../include/qemu/typedefs.h.html#PCIDevice" title='PCIDevice' data-type='struct PCIDevice' data-ref="PCIDevice">PCIDevice</a> *<dfn class="local col5 decl" id="255d" title='d' data-type='PCIDevice *' data-ref="255d">d</dfn> = <a class="macro" href="../../include/hw/pci/pci.h.html#191" title="((PCIDevice *)object_dynamic_cast_assert(((Object *)((s))), (&quot;pci-device&quot;), &quot;/home/jon/workspace/qemu/hw/net/vmxnet3.c&quot;, 1264, __func__))" data-ref="_M/PCI_DEVICE">PCI_DEVICE</a>(<a class="local col4 ref" href="#254s" title='s' data-ref="254s">s</a>);</td></tr>
<tr><th id="1265">1265</th><td></td></tr>
<tr><th id="1266">1266</th><td>    <a class="local col4 ref" href="#254s" title='s' data-ref="254s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::rx_mode" title='(anonymous struct)::rx_mode' data-use='w' data-ref="(anonymous)::rx_mode">rx_mode</a> = <a class="macro" href="#112" title="(vmw_shmem_ld32(d, s-&gt;drv_shmem + __builtin_offsetof(struct Vmxnet3_DriverShared, devRead.rxFilterConf.rxMode)))" data-ref="_M/VMXNET3_READ_DRV_SHARED32">VMXNET3_READ_DRV_SHARED32</a>(<a class="local col5 ref" href="#255d" title='d' data-ref="255d">d</a>, <a class="local col4 ref" href="#254s" title='s' data-ref="254s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::drv_shmem" title='(anonymous struct)::drv_shmem' data-use='r' data-ref="(anonymous)::drv_shmem">drv_shmem</a>,</td></tr>
<tr><th id="1267">1267</th><td>                                           devRead.rxFilterConf.rxMode);</td></tr>
<tr><th id="1268">1268</th><td>    <a class="macro" href="vmxnet_debug.h.html#129" title="do { if (0) { printf(&quot;[%s][CF][%s]: &quot; &quot;RX mode: 0x%08X&quot; &quot;\n&quot;, &quot;vmxnet3&quot;, __func__, s-&gt;rx_mode); } } while (0)" data-ref="_M/VMW_CFPRN">VMW_CFPRN</a>(<q>"RX mode: 0x%08X"</q>, <a class="local col4 ref" href="#254s" title='s' data-ref="254s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::rx_mode" title='(anonymous struct)::rx_mode' data-use='r' data-ref="(anonymous)::rx_mode">rx_mode</a>);</td></tr>
<tr><th id="1269">1269</th><td>}</td></tr>
<tr><th id="1270">1270</th><td></td></tr>
<tr><th id="1271">1271</th><td><em>static</em> <em>void</em> <dfn class="tu decl def" id="vmxnet3_update_vlan_filters" title='vmxnet3_update_vlan_filters' data-type='void vmxnet3_update_vlan_filters(VMXNET3State * s)' data-ref="vmxnet3_update_vlan_filters">vmxnet3_update_vlan_filters</dfn>(<a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a> *<dfn class="local col6 decl" id="256s" title='s' data-type='VMXNET3State *' data-ref="256s">s</dfn>)</td></tr>
<tr><th id="1272">1272</th><td>{</td></tr>
<tr><th id="1273">1273</th><td>    <em>int</em> <dfn class="local col7 decl" id="257i" title='i' data-type='int' data-ref="257i">i</dfn>;</td></tr>
<tr><th id="1274">1274</th><td>    <a class="typedef" href="../../include/qemu/typedefs.h.html#PCIDevice" title='PCIDevice' data-type='struct PCIDevice' data-ref="PCIDevice">PCIDevice</a> *<dfn class="local col8 decl" id="258d" title='d' data-type='PCIDevice *' data-ref="258d">d</dfn> = <a class="macro" href="../../include/hw/pci/pci.h.html#191" title="((PCIDevice *)object_dynamic_cast_assert(((Object *)((s))), (&quot;pci-device&quot;), &quot;/home/jon/workspace/qemu/hw/net/vmxnet3.c&quot;, 1274, __func__))" data-ref="_M/PCI_DEVICE">PCI_DEVICE</a>(<a class="local col6 ref" href="#256s" title='s' data-ref="256s">s</a>);</td></tr>
<tr><th id="1275">1275</th><td></td></tr>
<tr><th id="1276">1276</th><td>    <i>/* Copy configuration from shared memory */</i></td></tr>
<tr><th id="1277">1277</th><td>    <a class="macro" href="#124" title="(vmw_shmem_read(d, s-&gt;drv_shmem + __builtin_offsetof(struct Vmxnet3_DriverShared, devRead.rxFilterConf.vfTable), s-&gt;vlan_table, sizeof(s-&gt;vlan_table)))" data-ref="_M/VMXNET3_READ_DRV_SHARED">VMXNET3_READ_DRV_SHARED</a>(<a class="local col8 ref" href="#258d" title='d' data-ref="258d">d</a>, <a class="local col6 ref" href="#256s" title='s' data-ref="256s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::drv_shmem" title='(anonymous struct)::drv_shmem' data-use='r' data-ref="(anonymous)::drv_shmem">drv_shmem</a>,</td></tr>
<tr><th id="1278">1278</th><td>                            devRead.rxFilterConf.vfTable,</td></tr>
<tr><th id="1279">1279</th><td>                            <a class="local col6 ref" href="#256s" title='s' data-ref="256s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::vlan_table" title='(anonymous struct)::vlan_table' data-use='r' data-ref="(anonymous)::vlan_table">vlan_table</a>,</td></tr>
<tr><th id="1280">1280</th><td>                            <b>sizeof</b>(<a class="local col6 ref" href="#256s" title='s' data-ref="256s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::vlan_table" title='(anonymous struct)::vlan_table' data-use='r' data-ref="(anonymous)::vlan_table">vlan_table</a>));</td></tr>
<tr><th id="1281">1281</th><td></td></tr>
<tr><th id="1282">1282</th><td>    <i>/* Invert byte order when needed */</i></td></tr>
<tr><th id="1283">1283</th><td>    <b>for</b> (<a class="local col7 ref" href="#257i" title='i' data-ref="257i">i</a> = <var>0</var>; <a class="local col7 ref" href="#257i" title='i' data-ref="257i">i</a> &lt; <a class="macro" href="../../include/qemu/osdep.h.html#208" title="((sizeof(s-&gt;vlan_table) / sizeof((s-&gt;vlan_table)[0])) + (sizeof(struct { int:(!(!__builtin_types_compatible_p(typeof(s-&gt;vlan_table), typeof(&amp;(s-&gt;vlan_table)[0])))) ? -1 : 1; }) - sizeof(struct { int:(!(!__builtin_types_compatible_p(typeof(s-&gt;vlan_table), typeof(&amp;(s-&gt;vlan_table)[0])))) ? -1 : 1; })))" data-ref="_M/ARRAY_SIZE">ARRAY_SIZE</a>(<a class="local col6 ref" href="#256s" title='s' data-ref="256s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::vlan_table" title='(anonymous struct)::vlan_table' data-use='r' data-ref="(anonymous)::vlan_table">vlan_table</a>); <a class="local col7 ref" href="#257i" title='i' data-ref="257i">i</a>++) {</td></tr>
<tr><th id="1284">1284</th><td>        <a class="local col6 ref" href="#256s" title='s' data-ref="256s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::vlan_table" title='(anonymous struct)::vlan_table' data-use='w' data-ref="(anonymous)::vlan_table">vlan_table</a>[<a class="local col7 ref" href="#257i" title='i' data-ref="257i">i</a>] = <a class="ref" href="../../include/qemu/bswap.h.html#167" title='le32_to_cpu' data-ref="le32_to_cpu">le32_to_cpu</a>(<a class="local col6 ref" href="#256s" title='s' data-ref="256s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::vlan_table" title='(anonymous struct)::vlan_table' data-use='r' data-ref="(anonymous)::vlan_table">vlan_table</a>[<a class="local col7 ref" href="#257i" title='i' data-ref="257i">i</a>]);</td></tr>
<tr><th id="1285">1285</th><td>    }</td></tr>
<tr><th id="1286">1286</th><td></td></tr>
<tr><th id="1287">1287</th><td>    <i>/* Dump configuration for debugging purposes */</i></td></tr>
<tr><th id="1288">1288</th><td>    <a class="macro" href="vmxnet_debug.h.html#129" title="do { if (0) { printf(&quot;[%s][CF][%s]: &quot; &quot;Configured VLANs:&quot; &quot;\n&quot;, &quot;vmxnet3&quot;, __func__); } } while (0)" data-ref="_M/VMW_CFPRN">VMW_CFPRN</a>(<q>"Configured VLANs:"</q>);</td></tr>
<tr><th id="1289">1289</th><td>    <b>for</b> (<a class="local col7 ref" href="#257i" title='i' data-ref="257i">i</a> = <var>0</var>; <a class="local col7 ref" href="#257i" title='i' data-ref="257i">i</a> &lt; <b>sizeof</b>(<a class="local col6 ref" href="#256s" title='s' data-ref="256s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::vlan_table" title='(anonymous struct)::vlan_table' data-use='r' data-ref="(anonymous)::vlan_table">vlan_table</a>) * <var>8</var>; <a class="local col7 ref" href="#257i" title='i' data-ref="257i">i</a>++) {</td></tr>
<tr><th id="1290">1290</th><td>        <b>if</b> (<a class="macro" href="vmxnet3.h.html#739" title="((s-&gt;vlan_table[i &gt;&gt; 5] &amp; (1 &lt;&lt; (i &amp; 31))) != 0)" data-ref="_M/VMXNET3_VFTABLE_ENTRY_IS_SET">VMXNET3_VFTABLE_ENTRY_IS_SET</a>(<a class="local col6 ref" href="#256s" title='s' data-ref="256s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::vlan_table" title='(anonymous struct)::vlan_table' data-use='r' data-ref="(anonymous)::vlan_table">vlan_table</a>, <a class="local col7 ref" href="#257i" title='i' data-ref="257i">i</a>)) {</td></tr>
<tr><th id="1291">1291</th><td>            <a class="macro" href="vmxnet_debug.h.html#129" title="do { if (0) { printf(&quot;[%s][CF][%s]: &quot; &quot;\tVLAN %d is present&quot; &quot;\n&quot;, &quot;vmxnet3&quot;, __func__, i); } } while (0)" data-ref="_M/VMW_CFPRN">VMW_CFPRN</a>(<q>"\tVLAN %d is present"</q>, <a class="local col7 ref" href="#257i" title='i' data-ref="257i">i</a>);</td></tr>
<tr><th id="1292">1292</th><td>        }</td></tr>
<tr><th id="1293">1293</th><td>    }</td></tr>
<tr><th id="1294">1294</th><td>}</td></tr>
<tr><th id="1295">1295</th><td></td></tr>
<tr><th id="1296">1296</th><td><em>static</em> <em>void</em> <dfn class="tu decl def" id="vmxnet3_update_mcast_filters" title='vmxnet3_update_mcast_filters' data-type='void vmxnet3_update_mcast_filters(VMXNET3State * s)' data-ref="vmxnet3_update_mcast_filters">vmxnet3_update_mcast_filters</dfn>(<a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a> *<dfn class="local col9 decl" id="259s" title='s' data-type='VMXNET3State *' data-ref="259s">s</dfn>)</td></tr>
<tr><th id="1297">1297</th><td>{</td></tr>
<tr><th id="1298">1298</th><td>    <a class="typedef" href="../../include/qemu/typedefs.h.html#PCIDevice" title='PCIDevice' data-type='struct PCIDevice' data-ref="PCIDevice">PCIDevice</a> *<dfn class="local col0 decl" id="260d" title='d' data-type='PCIDevice *' data-ref="260d">d</dfn> = <a class="macro" href="../../include/hw/pci/pci.h.html#191" title="((PCIDevice *)object_dynamic_cast_assert(((Object *)((s))), (&quot;pci-device&quot;), &quot;/home/jon/workspace/qemu/hw/net/vmxnet3.c&quot;, 1298, __func__))" data-ref="_M/PCI_DEVICE">PCI_DEVICE</a>(<a class="local col9 ref" href="#259s" title='s' data-ref="259s">s</a>);</td></tr>
<tr><th id="1299">1299</th><td></td></tr>
<tr><th id="1300">1300</th><td>    <a class="typedef" href="../../../include/stdint.h.html#uint16_t" title='uint16_t' data-type='unsigned short' data-ref="uint16_t">uint16_t</a> <dfn class="local col1 decl" id="261list_bytes" title='list_bytes' data-type='uint16_t' data-ref="261list_bytes">list_bytes</dfn> =</td></tr>
<tr><th id="1301">1301</th><td>        <a class="macro" href="#118" title="(vmw_shmem_ld16(d, s-&gt;drv_shmem + __builtin_offsetof(struct Vmxnet3_DriverShared, devRead.rxFilterConf.mfTableLen)))" data-ref="_M/VMXNET3_READ_DRV_SHARED16">VMXNET3_READ_DRV_SHARED16</a>(<a class="local col0 ref" href="#260d" title='d' data-ref="260d">d</a>, <a class="local col9 ref" href="#259s" title='s' data-ref="259s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::drv_shmem" title='(anonymous struct)::drv_shmem' data-use='r' data-ref="(anonymous)::drv_shmem">drv_shmem</a>,</td></tr>
<tr><th id="1302">1302</th><td>                                  devRead.rxFilterConf.mfTableLen);</td></tr>
<tr><th id="1303">1303</th><td></td></tr>
<tr><th id="1304">1304</th><td>    <a class="local col9 ref" href="#259s" title='s' data-ref="259s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::mcast_list_len" title='(anonymous struct)::mcast_list_len' data-use='w' data-ref="(anonymous)::mcast_list_len">mcast_list_len</a> = <a class="local col1 ref" href="#261list_bytes" title='list_bytes' data-ref="261list_bytes">list_bytes</a> / <b>sizeof</b>(<a class="local col9 ref" href="#259s" title='s' data-ref="259s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::mcast_list" title='(anonymous struct)::mcast_list' data-use='r' data-ref="(anonymous)::mcast_list">mcast_list</a>[<var>0</var>]);</td></tr>
<tr><th id="1305">1305</th><td></td></tr>
<tr><th id="1306">1306</th><td>    <a class="local col9 ref" href="#259s" title='s' data-ref="259s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::mcast_list" title='(anonymous struct)::mcast_list' data-use='w' data-ref="(anonymous)::mcast_list">mcast_list</a> = <a class="ref" href="../../../include/glib-2.0/glib/gmem.h.html#g_realloc" title='g_realloc' data-ref="g_realloc">g_realloc</a>(<a class="local col9 ref" href="#259s" title='s' data-ref="259s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::mcast_list" title='(anonymous struct)::mcast_list' data-use='r' data-ref="(anonymous)::mcast_list">mcast_list</a>, <a class="local col1 ref" href="#261list_bytes" title='list_bytes' data-ref="261list_bytes">list_bytes</a>);</td></tr>
<tr><th id="1307">1307</th><td>    <b>if</b> (!<a class="local col9 ref" href="#259s" title='s' data-ref="259s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::mcast_list" title='(anonymous struct)::mcast_list' data-use='r' data-ref="(anonymous)::mcast_list">mcast_list</a>) {</td></tr>
<tr><th id="1308">1308</th><td>        <b>if</b> (<a class="local col9 ref" href="#259s" title='s' data-ref="259s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::mcast_list_len" title='(anonymous struct)::mcast_list_len' data-use='r' data-ref="(anonymous)::mcast_list_len">mcast_list_len</a> == <var>0</var>) {</td></tr>
<tr><th id="1309">1309</th><td>            <a class="macro" href="vmxnet_debug.h.html#129" title="do { if (0) { printf(&quot;[%s][CF][%s]: &quot; &quot;Current multicast list is empty&quot; &quot;\n&quot;, &quot;vmxnet3&quot;, __func__); } } while (0)" data-ref="_M/VMW_CFPRN">VMW_CFPRN</a>(<q>"Current multicast list is empty"</q>);</td></tr>
<tr><th id="1310">1310</th><td>        } <b>else</b> {</td></tr>
<tr><th id="1311">1311</th><td>            <a class="macro" href="vmxnet_debug.h.html#113" title="do { if (1) { printf(&quot;[%s][ER][%s]: &quot; &quot;Failed to allocate multicast list of %d elements&quot; &quot;\n&quot;, &quot;vmxnet3&quot;, __func__, s-&gt;mcast_list_len); } } while (0)" data-ref="_M/VMW_ERPRN">VMW_ERPRN</a>(<q>"Failed to allocate multicast list of %d elements"</q>,</td></tr>
<tr><th id="1312">1312</th><td>                      <a class="local col9 ref" href="#259s" title='s' data-ref="259s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::mcast_list_len" title='(anonymous struct)::mcast_list_len' data-use='r' data-ref="(anonymous)::mcast_list_len">mcast_list_len</a>);</td></tr>
<tr><th id="1313">1313</th><td>        }</td></tr>
<tr><th id="1314">1314</th><td>        <a class="local col9 ref" href="#259s" title='s' data-ref="259s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::mcast_list_len" title='(anonymous struct)::mcast_list_len' data-use='w' data-ref="(anonymous)::mcast_list_len">mcast_list_len</a> = <var>0</var>;</td></tr>
<tr><th id="1315">1315</th><td>    } <b>else</b> {</td></tr>
<tr><th id="1316">1316</th><td>        <em>int</em> <dfn class="local col2 decl" id="262i" title='i' data-type='int' data-ref="262i">i</dfn>;</td></tr>
<tr><th id="1317">1317</th><td>        <a class="typedef" href="../../include/exec/hwaddr.h.html#hwaddr" title='hwaddr' data-type='uint64_t' data-ref="hwaddr">hwaddr</a> <dfn class="local col3 decl" id="263mcast_list_pa" title='mcast_list_pa' data-type='hwaddr' data-ref="263mcast_list_pa">mcast_list_pa</dfn> =</td></tr>
<tr><th id="1318">1318</th><td>            <a class="macro" href="#109" title="(vmw_shmem_ld64(d, s-&gt;drv_shmem + __builtin_offsetof(struct Vmxnet3_DriverShared, devRead.rxFilterConf.mfTablePA)))" data-ref="_M/VMXNET3_READ_DRV_SHARED64">VMXNET3_READ_DRV_SHARED64</a>(<a class="local col0 ref" href="#260d" title='d' data-ref="260d">d</a>, <a class="local col9 ref" href="#259s" title='s' data-ref="259s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::drv_shmem" title='(anonymous struct)::drv_shmem' data-use='r' data-ref="(anonymous)::drv_shmem">drv_shmem</a>,</td></tr>
<tr><th id="1319">1319</th><td>                                      devRead.rxFilterConf.mfTablePA);</td></tr>
<tr><th id="1320">1320</th><td></td></tr>
<tr><th id="1321">1321</th><td>        <a class="ref" href="../../include/hw/pci/pci.h.html#pci_dma_read" title='pci_dma_read' data-ref="pci_dma_read">pci_dma_read</a>(<a class="local col0 ref" href="#260d" title='d' data-ref="260d">d</a>, <a class="local col3 ref" href="#263mcast_list_pa" title='mcast_list_pa' data-ref="263mcast_list_pa">mcast_list_pa</a>, <a class="local col9 ref" href="#259s" title='s' data-ref="259s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::mcast_list" title='(anonymous struct)::mcast_list' data-use='r' data-ref="(anonymous)::mcast_list">mcast_list</a>, <a class="local col1 ref" href="#261list_bytes" title='list_bytes' data-ref="261list_bytes">list_bytes</a>);</td></tr>
<tr><th id="1322">1322</th><td></td></tr>
<tr><th id="1323">1323</th><td>        <a class="macro" href="vmxnet_debug.h.html#129" title="do { if (0) { printf(&quot;[%s][CF][%s]: &quot; &quot;Current multicast list len is %d:&quot; &quot;\n&quot;, &quot;vmxnet3&quot;, __func__, s-&gt;mcast_list_len); } } while (0)" data-ref="_M/VMW_CFPRN">VMW_CFPRN</a>(<q>"Current multicast list len is %d:"</q>, <a class="local col9 ref" href="#259s" title='s' data-ref="259s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::mcast_list_len" title='(anonymous struct)::mcast_list_len' data-use='r' data-ref="(anonymous)::mcast_list_len">mcast_list_len</a>);</td></tr>
<tr><th id="1324">1324</th><td>        <b>for</b> (<a class="local col2 ref" href="#262i" title='i' data-ref="262i">i</a> = <var>0</var>; <a class="local col2 ref" href="#262i" title='i' data-ref="262i">i</a> &lt; <a class="local col9 ref" href="#259s" title='s' data-ref="259s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::mcast_list_len" title='(anonymous struct)::mcast_list_len' data-use='r' data-ref="(anonymous)::mcast_list_len">mcast_list_len</a>; <a class="local col2 ref" href="#262i" title='i' data-ref="262i">i</a>++) {</td></tr>
<tr><th id="1325">1325</th><td>            <a class="macro" href="vmxnet_debug.h.html#129" title="do { if (0) { printf(&quot;[%s][CF][%s]: &quot; &quot;\t&quot; &quot;%02X:%02X:%02X:%02X:%02X:%02X&quot; &quot;\n&quot;, &quot;vmxnet3&quot;, __func__, ((uint8_t *)(s-&gt;mcast_list[i].a))[0], ((uint8_t *)(s-&gt;mcast_list[i].a))[1], ((uint8_t *)(s-&gt;mcast_list[i].a))[2], ((uint8_t *)(s-&gt;mcast_list[i].a))[3], ((uint8_t *)(s-&gt;mcast_list[i].a))[4], ((uint8_t *)(s-&gt;mcast_list[i].a))[5]); } } while (0)" data-ref="_M/VMW_CFPRN">VMW_CFPRN</a>(<q>"\t"</q> <a class="macro" href="../../include/net/net.h.html#12" title="&quot;%02X:%02X:%02X:%02X:%02X:%02X&quot;" data-ref="_M/MAC_FMT">MAC_FMT</a>, MAC_ARG(<a class="local col9 ref" href="#259s" title='s' data-ref="259s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::mcast_list" title='(anonymous struct)::mcast_list' data-use='r' data-ref="(anonymous)::mcast_list">mcast_list</a>[<a class="local col2 ref" href="#262i" title='i' data-ref="262i">i</a>].<a class="ref" href="../../include/net/net.h.html#MACAddr::a" title='MACAddr::a' data-ref="MACAddr::a">a</a>));</td></tr>
<tr><th id="1326">1326</th><td>        }</td></tr>
<tr><th id="1327">1327</th><td>    }</td></tr>
<tr><th id="1328">1328</th><td>}</td></tr>
<tr><th id="1329">1329</th><td></td></tr>
<tr><th id="1330">1330</th><td><em>static</em> <em>void</em> <dfn class="tu decl def" id="vmxnet3_setup_rx_filtering" title='vmxnet3_setup_rx_filtering' data-type='void vmxnet3_setup_rx_filtering(VMXNET3State * s)' data-ref="vmxnet3_setup_rx_filtering">vmxnet3_setup_rx_filtering</dfn>(<a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a> *<dfn class="local col4 decl" id="264s" title='s' data-type='VMXNET3State *' data-ref="264s">s</dfn>)</td></tr>
<tr><th id="1331">1331</th><td>{</td></tr>
<tr><th id="1332">1332</th><td>    <a class="tu ref" href="#vmxnet3_update_rx_mode" title='vmxnet3_update_rx_mode' data-use='c' data-ref="vmxnet3_update_rx_mode">vmxnet3_update_rx_mode</a>(<a class="local col4 ref" href="#264s" title='s' data-ref="264s">s</a>);</td></tr>
<tr><th id="1333">1333</th><td>    <a class="tu ref" href="#vmxnet3_update_vlan_filters" title='vmxnet3_update_vlan_filters' data-use='c' data-ref="vmxnet3_update_vlan_filters">vmxnet3_update_vlan_filters</a>(<a class="local col4 ref" href="#264s" title='s' data-ref="264s">s</a>);</td></tr>
<tr><th id="1334">1334</th><td>    <a class="tu ref" href="#vmxnet3_update_mcast_filters" title='vmxnet3_update_mcast_filters' data-use='c' data-ref="vmxnet3_update_mcast_filters">vmxnet3_update_mcast_filters</a>(<a class="local col4 ref" href="#264s" title='s' data-ref="264s">s</a>);</td></tr>
<tr><th id="1335">1335</th><td>}</td></tr>
<tr><th id="1336">1336</th><td></td></tr>
<tr><th id="1337">1337</th><td><em>static</em> <a class="typedef" href="../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> <dfn class="tu decl def" id="vmxnet3_get_interrupt_config" title='vmxnet3_get_interrupt_config' data-type='uint32_t vmxnet3_get_interrupt_config(VMXNET3State * s)' data-ref="vmxnet3_get_interrupt_config">vmxnet3_get_interrupt_config</dfn>(<a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a> *<dfn class="local col5 decl" id="265s" title='s' data-type='VMXNET3State *' data-ref="265s">s</dfn>)</td></tr>
<tr><th id="1338">1338</th><td>{</td></tr>
<tr><th id="1339">1339</th><td>    <a class="typedef" href="../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> <dfn class="local col6 decl" id="266interrupt_mode" title='interrupt_mode' data-type='uint32_t' data-ref="266interrupt_mode">interrupt_mode</dfn> = <a class="enum" href="vmxnet3.h.html#vmxnet3_intr_type::VMXNET3_IT_AUTO" title='vmxnet3_intr_type::VMXNET3_IT_AUTO' data-ref="vmxnet3_intr_type::VMXNET3_IT_AUTO">VMXNET3_IT_AUTO</a> | (<a class="enum" href="vmxnet3.h.html#vmxnet3_intr_mask_mode::VMXNET3_IMM_AUTO" title='vmxnet3_intr_mask_mode::VMXNET3_IMM_AUTO' data-ref="vmxnet3_intr_mask_mode::VMXNET3_IMM_AUTO">VMXNET3_IMM_AUTO</a> &lt;&lt; <var>2</var>);</td></tr>
<tr><th id="1340">1340</th><td>    <a class="macro" href="vmxnet_debug.h.html#129" title="do { if (0) { printf(&quot;[%s][CF][%s]: &quot; &quot;Interrupt config is 0x%X&quot; &quot;\n&quot;, &quot;vmxnet3&quot;, __func__, interrupt_mode); } } while (0)" data-ref="_M/VMW_CFPRN">VMW_CFPRN</a>(<q>"Interrupt config is 0x%X"</q>, <a class="local col6 ref" href="#266interrupt_mode" title='interrupt_mode' data-ref="266interrupt_mode">interrupt_mode</a>);</td></tr>
<tr><th id="1341">1341</th><td>    <b>return</b> <a class="local col6 ref" href="#266interrupt_mode" title='interrupt_mode' data-ref="266interrupt_mode">interrupt_mode</a>;</td></tr>
<tr><th id="1342">1342</th><td>}</td></tr>
<tr><th id="1343">1343</th><td></td></tr>
<tr><th id="1344">1344</th><td><em>static</em> <em>void</em> <dfn class="tu decl def" id="vmxnet3_fill_stats" title='vmxnet3_fill_stats' data-type='void vmxnet3_fill_stats(VMXNET3State * s)' data-ref="vmxnet3_fill_stats">vmxnet3_fill_stats</dfn>(<a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a> *<dfn class="local col7 decl" id="267s" title='s' data-type='VMXNET3State *' data-ref="267s">s</dfn>)</td></tr>
<tr><th id="1345">1345</th><td>{</td></tr>
<tr><th id="1346">1346</th><td>    <em>int</em> <dfn class="local col8 decl" id="268i" title='i' data-type='int' data-ref="268i">i</dfn>;</td></tr>
<tr><th id="1347">1347</th><td>    <a class="typedef" href="../../include/qemu/typedefs.h.html#PCIDevice" title='PCIDevice' data-type='struct PCIDevice' data-ref="PCIDevice">PCIDevice</a> *<dfn class="local col9 decl" id="269d" title='d' data-type='PCIDevice *' data-ref="269d">d</dfn> = <a class="macro" href="../../include/hw/pci/pci.h.html#191" title="((PCIDevice *)object_dynamic_cast_assert(((Object *)((s))), (&quot;pci-device&quot;), &quot;/home/jon/workspace/qemu/hw/net/vmxnet3.c&quot;, 1347, __func__))" data-ref="_M/PCI_DEVICE">PCI_DEVICE</a>(<a class="local col7 ref" href="#267s" title='s' data-ref="267s">s</a>);</td></tr>
<tr><th id="1348">1348</th><td></td></tr>
<tr><th id="1349">1349</th><td>    <b>if</b> (!<a class="local col7 ref" href="#267s" title='s' data-ref="267s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::device_active" title='(anonymous struct)::device_active' data-use='r' data-ref="(anonymous)::device_active">device_active</a>)</td></tr>
<tr><th id="1350">1350</th><td>        <b>return</b>;</td></tr>
<tr><th id="1351">1351</th><td></td></tr>
<tr><th id="1352">1352</th><td>    <b>for</b> (<a class="local col8 ref" href="#268i" title='i' data-ref="268i">i</a> = <var>0</var>; <a class="local col8 ref" href="#268i" title='i' data-ref="268i">i</a> &lt; <a class="local col7 ref" href="#267s" title='s' data-ref="267s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::txq_num" title='(anonymous struct)::txq_num' data-use='r' data-ref="(anonymous)::txq_num">txq_num</a>; <a class="local col8 ref" href="#268i" title='i' data-ref="268i">i</a>++) {</td></tr>
<tr><th id="1353">1353</th><td>        <a class="ref" href="../../include/hw/pci/pci.h.html#pci_dma_write" title='pci_dma_write' data-ref="pci_dma_write">pci_dma_write</a>(<a class="local col9 ref" href="#269d" title='d' data-ref="269d">d</a>,</td></tr>
<tr><th id="1354">1354</th><td>                      <a class="local col7 ref" href="#267s" title='s' data-ref="267s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::txq_descr" title='(anonymous struct)::txq_descr' data-use='m' data-ref="(anonymous)::txq_descr">txq_descr</a>[<a class="local col8 ref" href="#268i" title='i' data-ref="268i">i</a>].<a class="tu ref" href="#(anonymous)::tx_stats_pa" title='(anonymous struct)::tx_stats_pa' data-use='r' data-ref="(anonymous)::tx_stats_pa">tx_stats_pa</a>,</td></tr>
<tr><th id="1355">1355</th><td>                      &amp;<a class="local col7 ref" href="#267s" title='s' data-ref="267s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::txq_descr" title='(anonymous struct)::txq_descr' data-use='m' data-ref="(anonymous)::txq_descr">txq_descr</a>[<a class="local col8 ref" href="#268i" title='i' data-ref="268i">i</a>].<a class="tu ref" href="#(anonymous)::txq_stats" title='(anonymous struct)::txq_stats' data-use='a' data-ref="(anonymous)::txq_stats">txq_stats</a>,</td></tr>
<tr><th id="1356">1356</th><td>                      <b>sizeof</b>(<a class="local col7 ref" href="#267s" title='s' data-ref="267s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::txq_descr" title='(anonymous struct)::txq_descr' data-use='m' data-ref="(anonymous)::txq_descr">txq_descr</a>[<a class="local col8 ref" href="#268i" title='i' data-ref="268i">i</a>].<a class="tu ref" href="#(anonymous)::txq_stats" title='(anonymous struct)::txq_stats' data-use='r' data-ref="(anonymous)::txq_stats">txq_stats</a>));</td></tr>
<tr><th id="1357">1357</th><td>    }</td></tr>
<tr><th id="1358">1358</th><td></td></tr>
<tr><th id="1359">1359</th><td>    <b>for</b> (<a class="local col8 ref" href="#268i" title='i' data-ref="268i">i</a> = <var>0</var>; <a class="local col8 ref" href="#268i" title='i' data-ref="268i">i</a> &lt; <a class="local col7 ref" href="#267s" title='s' data-ref="267s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::rxq_num" title='(anonymous struct)::rxq_num' data-use='r' data-ref="(anonymous)::rxq_num">rxq_num</a>; <a class="local col8 ref" href="#268i" title='i' data-ref="268i">i</a>++) {</td></tr>
<tr><th id="1360">1360</th><td>        <a class="ref" href="../../include/hw/pci/pci.h.html#pci_dma_write" title='pci_dma_write' data-ref="pci_dma_write">pci_dma_write</a>(<a class="local col9 ref" href="#269d" title='d' data-ref="269d">d</a>,</td></tr>
<tr><th id="1361">1361</th><td>                      <a class="local col7 ref" href="#267s" title='s' data-ref="267s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::rxq_descr" title='(anonymous struct)::rxq_descr' data-use='m' data-ref="(anonymous)::rxq_descr">rxq_descr</a>[<a class="local col8 ref" href="#268i" title='i' data-ref="268i">i</a>].<a class="tu ref" href="#(anonymous)::rx_stats_pa" title='(anonymous struct)::rx_stats_pa' data-use='r' data-ref="(anonymous)::rx_stats_pa">rx_stats_pa</a>,</td></tr>
<tr><th id="1362">1362</th><td>                      &amp;<a class="local col7 ref" href="#267s" title='s' data-ref="267s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::rxq_descr" title='(anonymous struct)::rxq_descr' data-use='m' data-ref="(anonymous)::rxq_descr">rxq_descr</a>[<a class="local col8 ref" href="#268i" title='i' data-ref="268i">i</a>].<a class="tu ref" href="#(anonymous)::rxq_stats" title='(anonymous struct)::rxq_stats' data-use='a' data-ref="(anonymous)::rxq_stats">rxq_stats</a>,</td></tr>
<tr><th id="1363">1363</th><td>                      <b>sizeof</b>(<a class="local col7 ref" href="#267s" title='s' data-ref="267s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::rxq_descr" title='(anonymous struct)::rxq_descr' data-use='m' data-ref="(anonymous)::rxq_descr">rxq_descr</a>[<a class="local col8 ref" href="#268i" title='i' data-ref="268i">i</a>].<a class="tu ref" href="#(anonymous)::rxq_stats" title='(anonymous struct)::rxq_stats' data-use='r' data-ref="(anonymous)::rxq_stats">rxq_stats</a>));</td></tr>
<tr><th id="1364">1364</th><td>    }</td></tr>
<tr><th id="1365">1365</th><td>}</td></tr>
<tr><th id="1366">1366</th><td></td></tr>
<tr><th id="1367">1367</th><td><em>static</em> <em>void</em> <dfn class="tu decl def" id="vmxnet3_adjust_by_guest_type" title='vmxnet3_adjust_by_guest_type' data-type='void vmxnet3_adjust_by_guest_type(VMXNET3State * s)' data-ref="vmxnet3_adjust_by_guest_type">vmxnet3_adjust_by_guest_type</dfn>(<a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a> *<dfn class="local col0 decl" id="270s" title='s' data-type='VMXNET3State *' data-ref="270s">s</dfn>)</td></tr>
<tr><th id="1368">1368</th><td>{</td></tr>
<tr><th id="1369">1369</th><td>    <b>struct</b> <a class="type" href="vmxnet3.h.html#Vmxnet3_GOSInfo" title='Vmxnet3_GOSInfo' data-ref="Vmxnet3_GOSInfo">Vmxnet3_GOSInfo</a> <dfn class="local col1 decl" id="271gos" title='gos' data-type='struct Vmxnet3_GOSInfo' data-ref="271gos">gos</dfn>;</td></tr>
<tr><th id="1370">1370</th><td>    <a class="typedef" href="../../include/qemu/typedefs.h.html#PCIDevice" title='PCIDevice' data-type='struct PCIDevice' data-ref="PCIDevice">PCIDevice</a> *<dfn class="local col2 decl" id="272d" title='d' data-type='PCIDevice *' data-ref="272d">d</dfn> = <a class="macro" href="../../include/hw/pci/pci.h.html#191" title="((PCIDevice *)object_dynamic_cast_assert(((Object *)((s))), (&quot;pci-device&quot;), &quot;/home/jon/workspace/qemu/hw/net/vmxnet3.c&quot;, 1370, __func__))" data-ref="_M/PCI_DEVICE">PCI_DEVICE</a>(<a class="local col0 ref" href="#270s" title='s' data-ref="270s">s</a>);</td></tr>
<tr><th id="1371">1371</th><td></td></tr>
<tr><th id="1372">1372</th><td>    <a class="macro" href="#124" title="(vmw_shmem_read(d, s-&gt;drv_shmem + __builtin_offsetof(struct Vmxnet3_DriverShared, devRead.misc.driverInfo.gos), &amp;gos, sizeof(gos)))" data-ref="_M/VMXNET3_READ_DRV_SHARED">VMXNET3_READ_DRV_SHARED</a>(<a class="local col2 ref" href="#272d" title='d' data-ref="272d">d</a>, <a class="local col0 ref" href="#270s" title='s' data-ref="270s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::drv_shmem" title='(anonymous struct)::drv_shmem' data-use='r' data-ref="(anonymous)::drv_shmem">drv_shmem</a>, devRead.misc.driverInfo.gos,</td></tr>
<tr><th id="1373">1373</th><td>                            &amp;<a class="local col1 ref" href="#271gos" title='gos' data-ref="271gos">gos</a>, <b>sizeof</b>(<a class="local col1 ref" href="#271gos" title='gos' data-ref="271gos">gos</a>));</td></tr>
<tr><th id="1374">1374</th><td>    <a class="local col0 ref" href="#270s" title='s' data-ref="270s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::rx_packets_compound" title='(anonymous struct)::rx_packets_compound' data-use='w' data-ref="(anonymous)::rx_packets_compound">rx_packets_compound</a> =</td></tr>
<tr><th id="1375">1375</th><td>        (<a class="local col1 ref" href="#271gos" title='gos' data-ref="271gos">gos</a>.<a class="ref" href="vmxnet3.h.html#Vmxnet3_GOSInfo::gosType" title='Vmxnet3_GOSInfo::gosType' data-ref="Vmxnet3_GOSInfo::gosType">gosType</a> == <a class="macro" href="vmxnet3.h.html#487" title="2" data-ref="_M/VMXNET3_GOS_TYPE_WIN">VMXNET3_GOS_TYPE_WIN</a>) ? <span class="macro" title="0" data-ref="_M/false">false</span> : <span class="macro" title="1" data-ref="_M/true">true</span>;</td></tr>
<tr><th id="1376">1376</th><td></td></tr>
<tr><th id="1377">1377</th><td>    <a class="macro" href="vmxnet_debug.h.html#129" title="do { if (0) { printf(&quot;[%s][CF][%s]: &quot; &quot;Guest type specifics: RXCOMPOUND: %d&quot; &quot;\n&quot;, &quot;vmxnet3&quot;, __func__, s-&gt;rx_packets_compound); } } while (0)" data-ref="_M/VMW_CFPRN">VMW_CFPRN</a>(<q>"Guest type specifics: RXCOMPOUND: %d"</q>, <a class="local col0 ref" href="#270s" title='s' data-ref="270s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::rx_packets_compound" title='(anonymous struct)::rx_packets_compound' data-use='r' data-ref="(anonymous)::rx_packets_compound">rx_packets_compound</a>);</td></tr>
<tr><th id="1378">1378</th><td>}</td></tr>
<tr><th id="1379">1379</th><td></td></tr>
<tr><th id="1380">1380</th><td><em>static</em> <em>void</em></td></tr>
<tr><th id="1381">1381</th><td><dfn class="tu decl def" id="vmxnet3_dump_conf_descr" title='vmxnet3_dump_conf_descr' data-type='void vmxnet3_dump_conf_descr(const char * name, struct Vmxnet3_VariableLenConfDesc * pm_descr)' data-ref="vmxnet3_dump_conf_descr">vmxnet3_dump_conf_descr</dfn>(<em>const</em> <em>char</em> *<dfn class="local col3 decl" id="273name" title='name' data-type='const char *' data-ref="273name">name</dfn>,</td></tr>
<tr><th id="1382">1382</th><td>                        <b>struct</b> <a class="type" href="vmxnet3.h.html#Vmxnet3_VariableLenConfDesc" title='Vmxnet3_VariableLenConfDesc' data-ref="Vmxnet3_VariableLenConfDesc">Vmxnet3_VariableLenConfDesc</a> *<dfn class="local col4 decl" id="274pm_descr" title='pm_descr' data-type='struct Vmxnet3_VariableLenConfDesc *' data-ref="274pm_descr">pm_descr</dfn>)</td></tr>
<tr><th id="1383">1383</th><td>{</td></tr>
<tr><th id="1384">1384</th><td>    <a class="macro" href="vmxnet_debug.h.html#129" title="do { if (0) { printf(&quot;[%s][CF][%s]: &quot; &quot;%s descriptor dump: Version %u, Length %u&quot; &quot;\n&quot;, &quot;vmxnet3&quot;, __func__, name, pm_descr-&gt;confVer, pm_descr-&gt;confLen); } } while (0)" data-ref="_M/VMW_CFPRN">VMW_CFPRN</a>(<q>"%s descriptor dump: Version %u, Length %u"</q>,</td></tr>
<tr><th id="1385">1385</th><td>              <a class="local col3 ref" href="#273name" title='name' data-ref="273name">name</a>, <a class="local col4 ref" href="#274pm_descr" title='pm_descr' data-ref="274pm_descr">pm_descr</a>-&gt;<a class="ref" href="vmxnet3.h.html#Vmxnet3_VariableLenConfDesc::confVer" title='Vmxnet3_VariableLenConfDesc::confVer' data-ref="Vmxnet3_VariableLenConfDesc::confVer">confVer</a>, <a class="local col4 ref" href="#274pm_descr" title='pm_descr' data-ref="274pm_descr">pm_descr</a>-&gt;<a class="ref" href="vmxnet3.h.html#Vmxnet3_VariableLenConfDesc::confLen" title='Vmxnet3_VariableLenConfDesc::confLen' data-ref="Vmxnet3_VariableLenConfDesc::confLen">confLen</a>);</td></tr>
<tr><th id="1386">1386</th><td></td></tr>
<tr><th id="1387">1387</th><td>};</td></tr>
<tr><th id="1388">1388</th><td></td></tr>
<tr><th id="1389">1389</th><td><em>static</em> <em>void</em> <dfn class="tu decl def" id="vmxnet3_update_pm_state" title='vmxnet3_update_pm_state' data-type='void vmxnet3_update_pm_state(VMXNET3State * s)' data-ref="vmxnet3_update_pm_state">vmxnet3_update_pm_state</dfn>(<a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a> *<dfn class="local col5 decl" id="275s" title='s' data-type='VMXNET3State *' data-ref="275s">s</dfn>)</td></tr>
<tr><th id="1390">1390</th><td>{</td></tr>
<tr><th id="1391">1391</th><td>    <b>struct</b> <a class="type" href="vmxnet3.h.html#Vmxnet3_VariableLenConfDesc" title='Vmxnet3_VariableLenConfDesc' data-ref="Vmxnet3_VariableLenConfDesc">Vmxnet3_VariableLenConfDesc</a> <dfn class="local col6 decl" id="276pm_descr" title='pm_descr' data-type='struct Vmxnet3_VariableLenConfDesc' data-ref="276pm_descr">pm_descr</dfn>;</td></tr>
<tr><th id="1392">1392</th><td>    <a class="typedef" href="../../include/qemu/typedefs.h.html#PCIDevice" title='PCIDevice' data-type='struct PCIDevice' data-ref="PCIDevice">PCIDevice</a> *<dfn class="local col7 decl" id="277d" title='d' data-type='PCIDevice *' data-ref="277d">d</dfn> = <a class="macro" href="../../include/hw/pci/pci.h.html#191" title="((PCIDevice *)object_dynamic_cast_assert(((Object *)((s))), (&quot;pci-device&quot;), &quot;/home/jon/workspace/qemu/hw/net/vmxnet3.c&quot;, 1392, __func__))" data-ref="_M/PCI_DEVICE">PCI_DEVICE</a>(<a class="local col5 ref" href="#275s" title='s' data-ref="275s">s</a>);</td></tr>
<tr><th id="1393">1393</th><td></td></tr>
<tr><th id="1394">1394</th><td>    <a class="local col6 ref" href="#276pm_descr" title='pm_descr' data-ref="276pm_descr">pm_descr</a>.<a class="ref" href="vmxnet3.h.html#Vmxnet3_VariableLenConfDesc::confLen" title='Vmxnet3_VariableLenConfDesc::confLen' data-ref="Vmxnet3_VariableLenConfDesc::confLen">confLen</a> =</td></tr>
<tr><th id="1395">1395</th><td>        <a class="macro" href="#112" title="(vmw_shmem_ld32(d, s-&gt;drv_shmem + __builtin_offsetof(struct Vmxnet3_DriverShared, devRead.pmConfDesc.confLen)))" data-ref="_M/VMXNET3_READ_DRV_SHARED32">VMXNET3_READ_DRV_SHARED32</a>(<a class="local col7 ref" href="#277d" title='d' data-ref="277d">d</a>, <a class="local col5 ref" href="#275s" title='s' data-ref="275s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::drv_shmem" title='(anonymous struct)::drv_shmem' data-use='r' data-ref="(anonymous)::drv_shmem">drv_shmem</a>, devRead.pmConfDesc.confLen);</td></tr>
<tr><th id="1396">1396</th><td>    <a class="local col6 ref" href="#276pm_descr" title='pm_descr' data-ref="276pm_descr">pm_descr</a>.<a class="ref" href="vmxnet3.h.html#Vmxnet3_VariableLenConfDesc::confVer" title='Vmxnet3_VariableLenConfDesc::confVer' data-ref="Vmxnet3_VariableLenConfDesc::confVer">confVer</a> =</td></tr>
<tr><th id="1397">1397</th><td>        <a class="macro" href="#112" title="(vmw_shmem_ld32(d, s-&gt;drv_shmem + __builtin_offsetof(struct Vmxnet3_DriverShared, devRead.pmConfDesc.confVer)))" data-ref="_M/VMXNET3_READ_DRV_SHARED32">VMXNET3_READ_DRV_SHARED32</a>(<a class="local col7 ref" href="#277d" title='d' data-ref="277d">d</a>, <a class="local col5 ref" href="#275s" title='s' data-ref="275s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::drv_shmem" title='(anonymous struct)::drv_shmem' data-use='r' data-ref="(anonymous)::drv_shmem">drv_shmem</a>, devRead.pmConfDesc.confVer);</td></tr>
<tr><th id="1398">1398</th><td>    <a class="local col6 ref" href="#276pm_descr" title='pm_descr' data-ref="276pm_descr">pm_descr</a>.<a class="ref" href="vmxnet3.h.html#Vmxnet3_VariableLenConfDesc::confPA" title='Vmxnet3_VariableLenConfDesc::confPA' data-ref="Vmxnet3_VariableLenConfDesc::confPA">confPA</a> =</td></tr>
<tr><th id="1399">1399</th><td>        <a class="macro" href="#109" title="(vmw_shmem_ld64(d, s-&gt;drv_shmem + __builtin_offsetof(struct Vmxnet3_DriverShared, devRead.pmConfDesc.confPA)))" data-ref="_M/VMXNET3_READ_DRV_SHARED64">VMXNET3_READ_DRV_SHARED64</a>(<a class="local col7 ref" href="#277d" title='d' data-ref="277d">d</a>, <a class="local col5 ref" href="#275s" title='s' data-ref="275s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::drv_shmem" title='(anonymous struct)::drv_shmem' data-use='r' data-ref="(anonymous)::drv_shmem">drv_shmem</a>, devRead.pmConfDesc.confPA);</td></tr>
<tr><th id="1400">1400</th><td></td></tr>
<tr><th id="1401">1401</th><td>    <a class="tu ref" href="#vmxnet3_dump_conf_descr" title='vmxnet3_dump_conf_descr' data-use='c' data-ref="vmxnet3_dump_conf_descr">vmxnet3_dump_conf_descr</a>(<q>"PM State"</q>, &amp;<a class="local col6 ref" href="#276pm_descr" title='pm_descr' data-ref="276pm_descr">pm_descr</a>);</td></tr>
<tr><th id="1402">1402</th><td>}</td></tr>
<tr><th id="1403">1403</th><td></td></tr>
<tr><th id="1404">1404</th><td><em>static</em> <em>void</em> <dfn class="tu decl def" id="vmxnet3_update_features" title='vmxnet3_update_features' data-type='void vmxnet3_update_features(VMXNET3State * s)' data-ref="vmxnet3_update_features">vmxnet3_update_features</dfn>(<a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a> *<dfn class="local col8 decl" id="278s" title='s' data-type='VMXNET3State *' data-ref="278s">s</dfn>)</td></tr>
<tr><th id="1405">1405</th><td>{</td></tr>
<tr><th id="1406">1406</th><td>    <a class="typedef" href="../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> <dfn class="local col9 decl" id="279guest_features" title='guest_features' data-type='uint32_t' data-ref="279guest_features">guest_features</dfn>;</td></tr>
<tr><th id="1407">1407</th><td>    <em>int</em> <dfn class="local col0 decl" id="280rxcso_supported" title='rxcso_supported' data-type='int' data-ref="280rxcso_supported">rxcso_supported</dfn>;</td></tr>
<tr><th id="1408">1408</th><td>    <a class="typedef" href="../../include/qemu/typedefs.h.html#PCIDevice" title='PCIDevice' data-type='struct PCIDevice' data-ref="PCIDevice">PCIDevice</a> *<dfn class="local col1 decl" id="281d" title='d' data-type='PCIDevice *' data-ref="281d">d</dfn> = <a class="macro" href="../../include/hw/pci/pci.h.html#191" title="((PCIDevice *)object_dynamic_cast_assert(((Object *)((s))), (&quot;pci-device&quot;), &quot;/home/jon/workspace/qemu/hw/net/vmxnet3.c&quot;, 1408, __func__))" data-ref="_M/PCI_DEVICE">PCI_DEVICE</a>(<a class="local col8 ref" href="#278s" title='s' data-ref="278s">s</a>);</td></tr>
<tr><th id="1409">1409</th><td></td></tr>
<tr><th id="1410">1410</th><td>    <a class="local col9 ref" href="#279guest_features" title='guest_features' data-ref="279guest_features">guest_features</a> = <a class="macro" href="#112" title="(vmw_shmem_ld32(d, s-&gt;drv_shmem + __builtin_offsetof(struct Vmxnet3_DriverShared, devRead.misc.uptFeatures)))" data-ref="_M/VMXNET3_READ_DRV_SHARED32">VMXNET3_READ_DRV_SHARED32</a>(<a class="local col1 ref" href="#281d" title='d' data-ref="281d">d</a>, <a class="local col8 ref" href="#278s" title='s' data-ref="278s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::drv_shmem" title='(anonymous struct)::drv_shmem' data-use='r' data-ref="(anonymous)::drv_shmem">drv_shmem</a>,</td></tr>
<tr><th id="1411">1411</th><td>                                               devRead.misc.uptFeatures);</td></tr>
<tr><th id="1412">1412</th><td></td></tr>
<tr><th id="1413">1413</th><td>    <a class="local col0 ref" href="#280rxcso_supported" title='rxcso_supported' data-ref="280rxcso_supported">rxcso_supported</a> = <a class="macro" href="#127" title="(((guest_features) &amp; (UPT1_F_RXCSUM)) == (UPT1_F_RXCSUM))" data-ref="_M/VMXNET_FLAG_IS_SET">VMXNET_FLAG_IS_SET</a>(<a class="local col9 ref" href="#279guest_features" title='guest_features' data-ref="279guest_features">guest_features</a>, <a class="enum" href="vmxnet3.h.html#UPT1_F_RXCSUM" title='UPT1_F_RXCSUM' data-ref="UPT1_F_RXCSUM">UPT1_F_RXCSUM</a>);</td></tr>
<tr><th id="1414">1414</th><td>    <a class="local col8 ref" href="#278s" title='s' data-ref="278s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::rx_vlan_stripping" title='(anonymous struct)::rx_vlan_stripping' data-use='w' data-ref="(anonymous)::rx_vlan_stripping">rx_vlan_stripping</a> = <a class="macro" href="#127" title="(((guest_features) &amp; (UPT1_F_RXVLAN)) == (UPT1_F_RXVLAN))" data-ref="_M/VMXNET_FLAG_IS_SET">VMXNET_FLAG_IS_SET</a>(<a class="local col9 ref" href="#279guest_features" title='guest_features' data-ref="279guest_features">guest_features</a>, <a class="enum" href="vmxnet3.h.html#UPT1_F_RXVLAN" title='UPT1_F_RXVLAN' data-ref="UPT1_F_RXVLAN">UPT1_F_RXVLAN</a>);</td></tr>
<tr><th id="1415">1415</th><td>    <a class="local col8 ref" href="#278s" title='s' data-ref="278s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::lro_supported" title='(anonymous struct)::lro_supported' data-use='w' data-ref="(anonymous)::lro_supported">lro_supported</a> = <a class="macro" href="#127" title="(((guest_features) &amp; (UPT1_F_LRO)) == (UPT1_F_LRO))" data-ref="_M/VMXNET_FLAG_IS_SET">VMXNET_FLAG_IS_SET</a>(<a class="local col9 ref" href="#279guest_features" title='guest_features' data-ref="279guest_features">guest_features</a>, <a class="enum" href="vmxnet3.h.html#UPT1_F_LRO" title='UPT1_F_LRO' data-ref="UPT1_F_LRO">UPT1_F_LRO</a>);</td></tr>
<tr><th id="1416">1416</th><td></td></tr>
<tr><th id="1417">1417</th><td>    <a class="macro" href="vmxnet_debug.h.html#129" title="do { if (0) { printf(&quot;[%s][CF][%s]: &quot; &quot;Features configuration: LRO: %d, RXCSUM: %d, VLANSTRIP: %d&quot; &quot;\n&quot;, &quot;vmxnet3&quot;, __func__, s-&gt;lro_supported, rxcso_supported, s-&gt;rx_vlan_stripping); } } while (0)" data-ref="_M/VMW_CFPRN">VMW_CFPRN</a>(<q>"Features configuration: LRO: %d, RXCSUM: %d, VLANSTRIP: %d"</q>,</td></tr>
<tr><th id="1418">1418</th><td>              <a class="local col8 ref" href="#278s" title='s' data-ref="278s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::lro_supported" title='(anonymous struct)::lro_supported' data-use='r' data-ref="(anonymous)::lro_supported">lro_supported</a>, <a class="local col0 ref" href="#280rxcso_supported" title='rxcso_supported' data-ref="280rxcso_supported">rxcso_supported</a>,</td></tr>
<tr><th id="1419">1419</th><td>              <a class="local col8 ref" href="#278s" title='s' data-ref="278s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::rx_vlan_stripping" title='(anonymous struct)::rx_vlan_stripping' data-use='r' data-ref="(anonymous)::rx_vlan_stripping">rx_vlan_stripping</a>);</td></tr>
<tr><th id="1420">1420</th><td>    <b>if</b> (<a class="local col8 ref" href="#278s" title='s' data-ref="278s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::peer_has_vhdr" title='(anonymous struct)::peer_has_vhdr' data-use='r' data-ref="(anonymous)::peer_has_vhdr">peer_has_vhdr</a>) {</td></tr>
<tr><th id="1421">1421</th><td>        <a class="ref" href="../../include/net/net.h.html#qemu_set_offload" title='qemu_set_offload' data-ref="qemu_set_offload">qemu_set_offload</a>(<a class="ref" href="../../include/net/net.h.html#qemu_get_queue" title='qemu_get_queue' data-ref="qemu_get_queue">qemu_get_queue</a>(<a class="local col8 ref" href="#278s" title='s' data-ref="278s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::nic" title='(anonymous struct)::nic' data-use='r' data-ref="(anonymous)::nic">nic</a>)-&gt;<a class="ref" href="../../include/net/net.h.html#NetClientState::peer" title='NetClientState::peer' data-ref="NetClientState::peer">peer</a>,</td></tr>
<tr><th id="1422">1422</th><td>                         <a class="local col0 ref" href="#280rxcso_supported" title='rxcso_supported' data-ref="280rxcso_supported">rxcso_supported</a>,</td></tr>
<tr><th id="1423">1423</th><td>                         <a class="local col8 ref" href="#278s" title='s' data-ref="278s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::lro_supported" title='(anonymous struct)::lro_supported' data-use='r' data-ref="(anonymous)::lro_supported">lro_supported</a>,</td></tr>
<tr><th id="1424">1424</th><td>                         <a class="local col8 ref" href="#278s" title='s' data-ref="278s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::lro_supported" title='(anonymous struct)::lro_supported' data-use='r' data-ref="(anonymous)::lro_supported">lro_supported</a>,</td></tr>
<tr><th id="1425">1425</th><td>                         <var>0</var>,</td></tr>
<tr><th id="1426">1426</th><td>                         <var>0</var>);</td></tr>
<tr><th id="1427">1427</th><td>    }</td></tr>
<tr><th id="1428">1428</th><td>}</td></tr>
<tr><th id="1429">1429</th><td></td></tr>
<tr><th id="1430">1430</th><td><em>static</em> <span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="tu decl def" id="vmxnet3_verify_intx" title='vmxnet3_verify_intx' data-type='_Bool vmxnet3_verify_intx(VMXNET3State * s, int intx)' data-ref="vmxnet3_verify_intx">vmxnet3_verify_intx</dfn>(<a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a> *<dfn class="local col2 decl" id="282s" title='s' data-type='VMXNET3State *' data-ref="282s">s</dfn>, <em>int</em> <dfn class="local col3 decl" id="283intx" title='intx' data-type='int' data-ref="283intx">intx</dfn>)</td></tr>
<tr><th id="1431">1431</th><td>{</td></tr>
<tr><th id="1432">1432</th><td>    <b>return</b> <a class="local col2 ref" href="#282s" title='s' data-ref="282s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::msix_used" title='(anonymous struct)::msix_used' data-use='r' data-ref="(anonymous)::msix_used">msix_used</a> || <a class="ref" href="../../include/hw/pci/msi.h.html#msi_enabled" title='msi_enabled' data-ref="msi_enabled">msi_enabled</a>(<a class="macro" href="../../include/hw/pci/pci.h.html#191" title="((PCIDevice *)object_dynamic_cast_assert(((Object *)((s))), (&quot;pci-device&quot;), &quot;/home/jon/workspace/qemu/hw/net/vmxnet3.c&quot;, 1432, __func__))" data-ref="_M/PCI_DEVICE">PCI_DEVICE</a>(<a class="local col2 ref" href="#282s" title='s' data-ref="282s">s</a>))</td></tr>
<tr><th id="1433">1433</th><td>        || <a class="local col3 ref" href="#283intx" title='intx' data-ref="283intx">intx</a> == <a class="ref" href="../../include/hw/pci/pci.h.html#pci_get_byte" title='pci_get_byte' data-ref="pci_get_byte">pci_get_byte</a>(<a class="local col2 ref" href="#282s" title='s' data-ref="282s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::parent_obj" title='(anonymous struct)::parent_obj' data-use='m' data-ref="(anonymous)::parent_obj">parent_obj</a>.<a class="ref" href="../../include/hw/pci/pci.h.html#PCIDevice::config" title='PCIDevice::config' data-ref="PCIDevice::config">config</a> + <a class="macro" href="../../include/standard-headers/linux/pci_regs.h.html#123" title="0x3d" data-ref="_M/PCI_INTERRUPT_PIN">PCI_INTERRUPT_PIN</a>) - <var>1</var>;</td></tr>
<tr><th id="1434">1434</th><td>}</td></tr>
<tr><th id="1435">1435</th><td></td></tr>
<tr><th id="1436">1436</th><td><em>static</em> <em>void</em> <dfn class="tu decl def" id="vmxnet3_validate_interrupt_idx" title='vmxnet3_validate_interrupt_idx' data-type='void vmxnet3_validate_interrupt_idx(_Bool is_msix, int idx)' data-ref="vmxnet3_validate_interrupt_idx">vmxnet3_validate_interrupt_idx</dfn>(<span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="local col4 decl" id="284is_msix" title='is_msix' data-type='_Bool' data-ref="284is_msix">is_msix</dfn>, <em>int</em> <dfn class="local col5 decl" id="285idx" title='idx' data-type='int' data-ref="285idx">idx</dfn>)</td></tr>
<tr><th id="1437">1437</th><td>{</td></tr>
<tr><th id="1438">1438</th><td>    <em>int</em> <dfn class="local col6 decl" id="286max_ints" title='max_ints' data-type='int' data-ref="286max_ints">max_ints</dfn> = <a class="local col4 ref" href="#284is_msix" title='is_msix' data-ref="284is_msix">is_msix</a> ? <a class="macro" href="vmxnet3.h.html#584" title="25" data-ref="_M/VMXNET3_MAX_INTRS">VMXNET3_MAX_INTRS</a> : <a class="macro" href="#75" title="(1)" data-ref="_M/VMXNET3_MAX_NMSIX_INTRS">VMXNET3_MAX_NMSIX_INTRS</a>;</td></tr>
<tr><th id="1439">1439</th><td>    <b>if</b> (<a class="local col5 ref" href="#285idx" title='idx' data-ref="285idx">idx</a> &gt;= <a class="local col6 ref" href="#286max_ints" title='max_ints' data-ref="286max_ints">max_ints</a>) {</td></tr>
<tr><th id="1440">1440</th><td>        <a class="ref" href="../../include/hw/hw.h.html#hw_error" title='hw_error' data-ref="hw_error">hw_error</a>(<q>"Bad interrupt index: %d\n"</q>, <a class="local col5 ref" href="#285idx" title='idx' data-ref="285idx">idx</a>);</td></tr>
<tr><th id="1441">1441</th><td>    }</td></tr>
<tr><th id="1442">1442</th><td>}</td></tr>
<tr><th id="1443">1443</th><td></td></tr>
<tr><th id="1444">1444</th><td><em>static</em> <em>void</em> <dfn class="tu decl def" id="vmxnet3_validate_interrupts" title='vmxnet3_validate_interrupts' data-type='void vmxnet3_validate_interrupts(VMXNET3State * s)' data-ref="vmxnet3_validate_interrupts">vmxnet3_validate_interrupts</dfn>(<a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a> *<dfn class="local col7 decl" id="287s" title='s' data-type='VMXNET3State *' data-ref="287s">s</dfn>)</td></tr>
<tr><th id="1445">1445</th><td>{</td></tr>
<tr><th id="1446">1446</th><td>    <em>int</em> <dfn class="local col8 decl" id="288i" title='i' data-type='int' data-ref="288i">i</dfn>;</td></tr>
<tr><th id="1447">1447</th><td></td></tr>
<tr><th id="1448">1448</th><td>    <a class="macro" href="vmxnet_debug.h.html#129" title="do { if (0) { printf(&quot;[%s][CF][%s]: &quot; &quot;Verifying event interrupt index (%d)&quot; &quot;\n&quot;, &quot;vmxnet3&quot;, __func__, s-&gt;event_int_idx); } } while (0)" data-ref="_M/VMW_CFPRN">VMW_CFPRN</a>(<q>"Verifying event interrupt index (%d)"</q>, <a class="local col7 ref" href="#287s" title='s' data-ref="287s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::event_int_idx" title='(anonymous struct)::event_int_idx' data-use='r' data-ref="(anonymous)::event_int_idx">event_int_idx</a>);</td></tr>
<tr><th id="1449">1449</th><td>    <a class="tu ref" href="#vmxnet3_validate_interrupt_idx" title='vmxnet3_validate_interrupt_idx' data-use='c' data-ref="vmxnet3_validate_interrupt_idx">vmxnet3_validate_interrupt_idx</a>(<a class="local col7 ref" href="#287s" title='s' data-ref="287s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::msix_used" title='(anonymous struct)::msix_used' data-use='r' data-ref="(anonymous)::msix_used">msix_used</a>, <a class="local col7 ref" href="#287s" title='s' data-ref="287s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::event_int_idx" title='(anonymous struct)::event_int_idx' data-use='r' data-ref="(anonymous)::event_int_idx">event_int_idx</a>);</td></tr>
<tr><th id="1450">1450</th><td></td></tr>
<tr><th id="1451">1451</th><td>    <b>for</b> (<a class="local col8 ref" href="#288i" title='i' data-ref="288i">i</a> = <var>0</var>; <a class="local col8 ref" href="#288i" title='i' data-ref="288i">i</a> &lt; <a class="local col7 ref" href="#287s" title='s' data-ref="287s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::txq_num" title='(anonymous struct)::txq_num' data-use='r' data-ref="(anonymous)::txq_num">txq_num</a>; <a class="local col8 ref" href="#288i" title='i' data-ref="288i">i</a>++) {</td></tr>
<tr><th id="1452">1452</th><td>        <em>int</em> <dfn class="local col9 decl" id="289idx" title='idx' data-type='int' data-ref="289idx">idx</dfn> = <a class="local col7 ref" href="#287s" title='s' data-ref="287s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::txq_descr" title='(anonymous struct)::txq_descr' data-use='m' data-ref="(anonymous)::txq_descr">txq_descr</a>[<a class="local col8 ref" href="#288i" title='i' data-ref="288i">i</a>].<a class="tu ref" href="#(anonymous)::intr_idx" title='(anonymous struct)::intr_idx' data-use='r' data-ref="(anonymous)::intr_idx">intr_idx</a>;</td></tr>
<tr><th id="1453">1453</th><td>        <a class="macro" href="vmxnet_debug.h.html#129" title="do { if (0) { printf(&quot;[%s][CF][%s]: &quot; &quot;Verifying TX queue %d interrupt index (%d)&quot; &quot;\n&quot;, &quot;vmxnet3&quot;, __func__, i, idx); } } while (0)" data-ref="_M/VMW_CFPRN">VMW_CFPRN</a>(<q>"Verifying TX queue %d interrupt index (%d)"</q>, <a class="local col8 ref" href="#288i" title='i' data-ref="288i">i</a>, <a class="local col9 ref" href="#289idx" title='idx' data-ref="289idx">idx</a>);</td></tr>
<tr><th id="1454">1454</th><td>        <a class="tu ref" href="#vmxnet3_validate_interrupt_idx" title='vmxnet3_validate_interrupt_idx' data-use='c' data-ref="vmxnet3_validate_interrupt_idx">vmxnet3_validate_interrupt_idx</a>(<a class="local col7 ref" href="#287s" title='s' data-ref="287s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::msix_used" title='(anonymous struct)::msix_used' data-use='r' data-ref="(anonymous)::msix_used">msix_used</a>, <a class="local col9 ref" href="#289idx" title='idx' data-ref="289idx">idx</a>);</td></tr>
<tr><th id="1455">1455</th><td>    }</td></tr>
<tr><th id="1456">1456</th><td></td></tr>
<tr><th id="1457">1457</th><td>    <b>for</b> (<a class="local col8 ref" href="#288i" title='i' data-ref="288i">i</a> = <var>0</var>; <a class="local col8 ref" href="#288i" title='i' data-ref="288i">i</a> &lt; <a class="local col7 ref" href="#287s" title='s' data-ref="287s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::rxq_num" title='(anonymous struct)::rxq_num' data-use='r' data-ref="(anonymous)::rxq_num">rxq_num</a>; <a class="local col8 ref" href="#288i" title='i' data-ref="288i">i</a>++) {</td></tr>
<tr><th id="1458">1458</th><td>        <em>int</em> <dfn class="local col0 decl" id="290idx" title='idx' data-type='int' data-ref="290idx">idx</dfn> = <a class="local col7 ref" href="#287s" title='s' data-ref="287s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::rxq_descr" title='(anonymous struct)::rxq_descr' data-use='m' data-ref="(anonymous)::rxq_descr">rxq_descr</a>[<a class="local col8 ref" href="#288i" title='i' data-ref="288i">i</a>].<a class="tu ref" href="#(anonymous)::intr_idx" title='(anonymous struct)::intr_idx' data-use='r' data-ref="(anonymous)::intr_idx">intr_idx</a>;</td></tr>
<tr><th id="1459">1459</th><td>        <a class="macro" href="vmxnet_debug.h.html#129" title="do { if (0) { printf(&quot;[%s][CF][%s]: &quot; &quot;Verifying RX queue %d interrupt index (%d)&quot; &quot;\n&quot;, &quot;vmxnet3&quot;, __func__, i, idx); } } while (0)" data-ref="_M/VMW_CFPRN">VMW_CFPRN</a>(<q>"Verifying RX queue %d interrupt index (%d)"</q>, <a class="local col8 ref" href="#288i" title='i' data-ref="288i">i</a>, <a class="local col0 ref" href="#290idx" title='idx' data-ref="290idx">idx</a>);</td></tr>
<tr><th id="1460">1460</th><td>        <a class="tu ref" href="#vmxnet3_validate_interrupt_idx" title='vmxnet3_validate_interrupt_idx' data-use='c' data-ref="vmxnet3_validate_interrupt_idx">vmxnet3_validate_interrupt_idx</a>(<a class="local col7 ref" href="#287s" title='s' data-ref="287s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::msix_used" title='(anonymous struct)::msix_used' data-use='r' data-ref="(anonymous)::msix_used">msix_used</a>, <a class="local col0 ref" href="#290idx" title='idx' data-ref="290idx">idx</a>);</td></tr>
<tr><th id="1461">1461</th><td>    }</td></tr>
<tr><th id="1462">1462</th><td>}</td></tr>
<tr><th id="1463">1463</th><td></td></tr>
<tr><th id="1464">1464</th><td><em>static</em> <em>void</em> <dfn class="tu decl def" id="vmxnet3_validate_queues" title='vmxnet3_validate_queues' data-type='void vmxnet3_validate_queues(VMXNET3State * s)' data-ref="vmxnet3_validate_queues">vmxnet3_validate_queues</dfn>(<a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a> *<dfn class="local col1 decl" id="291s" title='s' data-type='VMXNET3State *' data-ref="291s">s</dfn>)</td></tr>
<tr><th id="1465">1465</th><td>{</td></tr>
<tr><th id="1466">1466</th><td>    <i>/*</i></td></tr>
<tr><th id="1467">1467</th><td><i>    * txq_num and rxq_num are total number of queues</i></td></tr>
<tr><th id="1468">1468</th><td><i>    * configured by guest. These numbers must not</i></td></tr>
<tr><th id="1469">1469</th><td><i>    * exceed corresponding maximal values.</i></td></tr>
<tr><th id="1470">1470</th><td><i>    */</i></td></tr>
<tr><th id="1471">1471</th><td></td></tr>
<tr><th id="1472">1472</th><td>    <b>if</b> (<a class="local col1 ref" href="#291s" title='s' data-ref="291s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::txq_num" title='(anonymous struct)::txq_num' data-use='r' data-ref="(anonymous)::txq_num">txq_num</a> &gt; <a class="macro" href="vmxnet3.h.html#21" title="8" data-ref="_M/VMXNET3_DEVICE_MAX_TX_QUEUES">VMXNET3_DEVICE_MAX_TX_QUEUES</a>) {</td></tr>
<tr><th id="1473">1473</th><td>        <a class="ref" href="../../include/hw/hw.h.html#hw_error" title='hw_error' data-ref="hw_error">hw_error</a>(<q>"Bad TX queues number: %d\n"</q>, <a class="local col1 ref" href="#291s" title='s' data-ref="291s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::txq_num" title='(anonymous struct)::txq_num' data-use='r' data-ref="(anonymous)::txq_num">txq_num</a>);</td></tr>
<tr><th id="1474">1474</th><td>    }</td></tr>
<tr><th id="1475">1475</th><td></td></tr>
<tr><th id="1476">1476</th><td>    <b>if</b> (<a class="local col1 ref" href="#291s" title='s' data-ref="291s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::rxq_num" title='(anonymous struct)::rxq_num' data-use='r' data-ref="(anonymous)::rxq_num">rxq_num</a> &gt; <a class="macro" href="vmxnet3.h.html#22" title="8" data-ref="_M/VMXNET3_DEVICE_MAX_RX_QUEUES">VMXNET3_DEVICE_MAX_RX_QUEUES</a>) {</td></tr>
<tr><th id="1477">1477</th><td>        <a class="ref" href="../../include/hw/hw.h.html#hw_error" title='hw_error' data-ref="hw_error">hw_error</a>(<q>"Bad RX queues number: %d\n"</q>, <a class="local col1 ref" href="#291s" title='s' data-ref="291s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::rxq_num" title='(anonymous struct)::rxq_num' data-use='r' data-ref="(anonymous)::rxq_num">rxq_num</a>);</td></tr>
<tr><th id="1478">1478</th><td>    }</td></tr>
<tr><th id="1479">1479</th><td>}</td></tr>
<tr><th id="1480">1480</th><td></td></tr>
<tr><th id="1481">1481</th><td><em>static</em> <em>void</em> <dfn class="tu decl def" id="vmxnet3_activate_device" title='vmxnet3_activate_device' data-type='void vmxnet3_activate_device(VMXNET3State * s)' data-ref="vmxnet3_activate_device">vmxnet3_activate_device</dfn>(<a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a> *<dfn class="local col2 decl" id="292s" title='s' data-type='VMXNET3State *' data-ref="292s">s</dfn>)</td></tr>
<tr><th id="1482">1482</th><td>{</td></tr>
<tr><th id="1483">1483</th><td>    <em>int</em> <dfn class="local col3 decl" id="293i" title='i' data-type='int' data-ref="293i">i</dfn>;</td></tr>
<tr><th id="1484">1484</th><td>    <em>static</em> <em>const</em> <a class="typedef" href="../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> <dfn class="local col4 decl" id="294VMXNET3_DEF_TX_THRESHOLD" title='VMXNET3_DEF_TX_THRESHOLD' data-type='const uint32_t' data-ref="294VMXNET3_DEF_TX_THRESHOLD">VMXNET3_DEF_TX_THRESHOLD</dfn> = <var>1</var>;</td></tr>
<tr><th id="1485">1485</th><td>    <a class="typedef" href="../../include/qemu/typedefs.h.html#PCIDevice" title='PCIDevice' data-type='struct PCIDevice' data-ref="PCIDevice">PCIDevice</a> *<dfn class="local col5 decl" id="295d" title='d' data-type='PCIDevice *' data-ref="295d">d</dfn> = <a class="macro" href="../../include/hw/pci/pci.h.html#191" title="((PCIDevice *)object_dynamic_cast_assert(((Object *)((s))), (&quot;pci-device&quot;), &quot;/home/jon/workspace/qemu/hw/net/vmxnet3.c&quot;, 1485, __func__))" data-ref="_M/PCI_DEVICE">PCI_DEVICE</a>(<a class="local col2 ref" href="#292s" title='s' data-ref="292s">s</a>);</td></tr>
<tr><th id="1486">1486</th><td>    <a class="typedef" href="../../include/exec/hwaddr.h.html#hwaddr" title='hwaddr' data-type='uint64_t' data-ref="hwaddr">hwaddr</a> <dfn class="local col6 decl" id="296qdescr_table_pa" title='qdescr_table_pa' data-type='hwaddr' data-ref="296qdescr_table_pa">qdescr_table_pa</dfn>;</td></tr>
<tr><th id="1487">1487</th><td>    <a class="typedef" href="../../../include/stdint.h.html#uint64_t" title='uint64_t' data-type='unsigned long' data-ref="uint64_t">uint64_t</a> <dfn class="local col7 decl" id="297pa" title='pa' data-type='uint64_t' data-ref="297pa">pa</dfn>;</td></tr>
<tr><th id="1488">1488</th><td>    <a class="typedef" href="../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> <dfn class="local col8 decl" id="298size" title='size' data-type='uint32_t' data-ref="298size">size</dfn>;</td></tr>
<tr><th id="1489">1489</th><td></td></tr>
<tr><th id="1490">1490</th><td>    <i>/* Verify configuration consistency */</i></td></tr>
<tr><th id="1491">1491</th><td>    <b>if</b> (!<a class="tu ref" href="#vmxnet3_verify_driver_magic" title='vmxnet3_verify_driver_magic' data-use='c' data-ref="vmxnet3_verify_driver_magic">vmxnet3_verify_driver_magic</a>(<a class="local col5 ref" href="#295d" title='d' data-ref="295d">d</a>, <a class="local col2 ref" href="#292s" title='s' data-ref="292s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::drv_shmem" title='(anonymous struct)::drv_shmem' data-use='r' data-ref="(anonymous)::drv_shmem">drv_shmem</a>)) {</td></tr>
<tr><th id="1492">1492</th><td>        <a class="macro" href="vmxnet_debug.h.html#113" title="do { if (1) { printf(&quot;[%s][ER][%s]: &quot; &quot;Device configuration received from driver is invalid&quot; &quot;\n&quot;, &quot;vmxnet3&quot;, __func__); } } while (0)" data-ref="_M/VMW_ERPRN">VMW_ERPRN</a>(<q>"Device configuration received from driver is invalid"</q>);</td></tr>
<tr><th id="1493">1493</th><td>        <b>return</b>;</td></tr>
<tr><th id="1494">1494</th><td>    }</td></tr>
<tr><th id="1495">1495</th><td></td></tr>
<tr><th id="1496">1496</th><td>    <i>/* Verify if device is active */</i></td></tr>
<tr><th id="1497">1497</th><td>    <b>if</b> (<a class="local col2 ref" href="#292s" title='s' data-ref="292s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::device_active" title='(anonymous struct)::device_active' data-use='r' data-ref="(anonymous)::device_active">device_active</a>) {</td></tr>
<tr><th id="1498">1498</th><td>        <a class="macro" href="vmxnet_debug.h.html#129" title="do { if (0) { printf(&quot;[%s][CF][%s]: &quot; &quot;Vmxnet3 device is active&quot; &quot;\n&quot;, &quot;vmxnet3&quot;, __func__); } } while (0)" data-ref="_M/VMW_CFPRN">VMW_CFPRN</a>(<q>"Vmxnet3 device is active"</q>);</td></tr>
<tr><th id="1499">1499</th><td>        <b>return</b>;</td></tr>
<tr><th id="1500">1500</th><td>    }</td></tr>
<tr><th id="1501">1501</th><td></td></tr>
<tr><th id="1502">1502</th><td>    <a class="tu ref" href="#vmxnet3_adjust_by_guest_type" title='vmxnet3_adjust_by_guest_type' data-use='c' data-ref="vmxnet3_adjust_by_guest_type">vmxnet3_adjust_by_guest_type</a>(<a class="local col2 ref" href="#292s" title='s' data-ref="292s">s</a>);</td></tr>
<tr><th id="1503">1503</th><td>    <a class="tu ref" href="#vmxnet3_update_features" title='vmxnet3_update_features' data-use='c' data-ref="vmxnet3_update_features">vmxnet3_update_features</a>(<a class="local col2 ref" href="#292s" title='s' data-ref="292s">s</a>);</td></tr>
<tr><th id="1504">1504</th><td>    <a class="tu ref" href="#vmxnet3_update_pm_state" title='vmxnet3_update_pm_state' data-use='c' data-ref="vmxnet3_update_pm_state">vmxnet3_update_pm_state</a>(<a class="local col2 ref" href="#292s" title='s' data-ref="292s">s</a>);</td></tr>
<tr><th id="1505">1505</th><td>    <a class="tu ref" href="#vmxnet3_setup_rx_filtering" title='vmxnet3_setup_rx_filtering' data-use='c' data-ref="vmxnet3_setup_rx_filtering">vmxnet3_setup_rx_filtering</a>(<a class="local col2 ref" href="#292s" title='s' data-ref="292s">s</a>);</td></tr>
<tr><th id="1506">1506</th><td>    <i>/* Cache fields from shared memory */</i></td></tr>
<tr><th id="1507">1507</th><td>    <a class="local col2 ref" href="#292s" title='s' data-ref="292s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::mtu" title='(anonymous struct)::mtu' data-use='w' data-ref="(anonymous)::mtu">mtu</a> = <a class="macro" href="#112" title="(vmw_shmem_ld32(d, s-&gt;drv_shmem + __builtin_offsetof(struct Vmxnet3_DriverShared, devRead.misc.mtu)))" data-ref="_M/VMXNET3_READ_DRV_SHARED32">VMXNET3_READ_DRV_SHARED32</a>(<a class="local col5 ref" href="#295d" title='d' data-ref="295d">d</a>, <a class="local col2 ref" href="#292s" title='s' data-ref="292s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::drv_shmem" title='(anonymous struct)::drv_shmem' data-use='r' data-ref="(anonymous)::drv_shmem">drv_shmem</a>, devRead.misc.mtu);</td></tr>
<tr><th id="1508">1508</th><td>    <a class="macro" href="vmxnet_debug.h.html#129" title="do { if (0) { printf(&quot;[%s][CF][%s]: &quot; &quot;MTU is %u&quot; &quot;\n&quot;, &quot;vmxnet3&quot;, __func__, s-&gt;mtu); } } while (0)" data-ref="_M/VMW_CFPRN">VMW_CFPRN</a>(<q>"MTU is %u"</q>, <a class="local col2 ref" href="#292s" title='s' data-ref="292s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::mtu" title='(anonymous struct)::mtu' data-use='r' data-ref="(anonymous)::mtu">mtu</a>);</td></tr>
<tr><th id="1509">1509</th><td></td></tr>
<tr><th id="1510">1510</th><td>    <a class="local col2 ref" href="#292s" title='s' data-ref="292s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::max_rx_frags" title='(anonymous struct)::max_rx_frags' data-use='w' data-ref="(anonymous)::max_rx_frags">max_rx_frags</a> =</td></tr>
<tr><th id="1511">1511</th><td>        <a class="macro" href="#118" title="(vmw_shmem_ld16(d, s-&gt;drv_shmem + __builtin_offsetof(struct Vmxnet3_DriverShared, devRead.misc.maxNumRxSG)))" data-ref="_M/VMXNET3_READ_DRV_SHARED16">VMXNET3_READ_DRV_SHARED16</a>(<a class="local col5 ref" href="#295d" title='d' data-ref="295d">d</a>, <a class="local col2 ref" href="#292s" title='s' data-ref="292s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::drv_shmem" title='(anonymous struct)::drv_shmem' data-use='r' data-ref="(anonymous)::drv_shmem">drv_shmem</a>, devRead.misc.maxNumRxSG);</td></tr>
<tr><th id="1512">1512</th><td></td></tr>
<tr><th id="1513">1513</th><td>    <b>if</b> (<a class="local col2 ref" href="#292s" title='s' data-ref="292s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::max_rx_frags" title='(anonymous struct)::max_rx_frags' data-use='r' data-ref="(anonymous)::max_rx_frags">max_rx_frags</a> == <var>0</var>) {</td></tr>
<tr><th id="1514">1514</th><td>        <a class="local col2 ref" href="#292s" title='s' data-ref="292s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::max_rx_frags" title='(anonymous struct)::max_rx_frags' data-use='w' data-ref="(anonymous)::max_rx_frags">max_rx_frags</a> = <var>1</var>;</td></tr>
<tr><th id="1515">1515</th><td>    }</td></tr>
<tr><th id="1516">1516</th><td></td></tr>
<tr><th id="1517">1517</th><td>    <a class="macro" href="vmxnet_debug.h.html#129" title="do { if (0) { printf(&quot;[%s][CF][%s]: &quot; &quot;Max RX fragments is %u&quot; &quot;\n&quot;, &quot;vmxnet3&quot;, __func__, s-&gt;max_rx_frags); } } while (0)" data-ref="_M/VMW_CFPRN">VMW_CFPRN</a>(<q>"Max RX fragments is %u"</q>, <a class="local col2 ref" href="#292s" title='s' data-ref="292s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::max_rx_frags" title='(anonymous struct)::max_rx_frags' data-use='r' data-ref="(anonymous)::max_rx_frags">max_rx_frags</a>);</td></tr>
<tr><th id="1518">1518</th><td></td></tr>
<tr><th id="1519">1519</th><td>    <a class="local col2 ref" href="#292s" title='s' data-ref="292s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::event_int_idx" title='(anonymous struct)::event_int_idx' data-use='w' data-ref="(anonymous)::event_int_idx">event_int_idx</a> =</td></tr>
<tr><th id="1520">1520</th><td>        <a class="macro" href="#121" title="(vmw_shmem_ld8(d, s-&gt;drv_shmem + __builtin_offsetof(struct Vmxnet3_DriverShared, devRead.intrConf.eventIntrIdx)))" data-ref="_M/VMXNET3_READ_DRV_SHARED8">VMXNET3_READ_DRV_SHARED8</a>(<a class="local col5 ref" href="#295d" title='d' data-ref="295d">d</a>, <a class="local col2 ref" href="#292s" title='s' data-ref="292s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::drv_shmem" title='(anonymous struct)::drv_shmem' data-use='r' data-ref="(anonymous)::drv_shmem">drv_shmem</a>, devRead.intrConf.eventIntrIdx);</td></tr>
<tr><th id="1521">1521</th><td>    <a class="macro" href="../../../include/assert.h.html#88" title="((vmxnet3_verify_intx(s, s-&gt;event_int_idx)) ? (void) (0) : __assert_fail (&quot;vmxnet3_verify_intx(s, s-&gt;event_int_idx)&quot;, &quot;/home/jon/workspace/qemu/hw/net/vmxnet3.c&quot;, 1521, __PRETTY_FUNCTION__))" data-ref="_M/assert">assert</a>(<a class="tu ref" href="#vmxnet3_verify_intx" title='vmxnet3_verify_intx' data-use='c' data-ref="vmxnet3_verify_intx">vmxnet3_verify_intx</a>(<a class="local col2 ref" href="#292s" title='s' data-ref="292s">s</a>, <a class="local col2 ref" href="#292s" title='s' data-ref="292s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::event_int_idx" title='(anonymous struct)::event_int_idx' data-use='r' data-ref="(anonymous)::event_int_idx">event_int_idx</a>));</td></tr>
<tr><th id="1522">1522</th><td>    <a class="macro" href="vmxnet_debug.h.html#129" title="do { if (0) { printf(&quot;[%s][CF][%s]: &quot; &quot;Events interrupt line is %u&quot; &quot;\n&quot;, &quot;vmxnet3&quot;, __func__, s-&gt;event_int_idx); } } while (0)" data-ref="_M/VMW_CFPRN">VMW_CFPRN</a>(<q>"Events interrupt line is %u"</q>, <a class="local col2 ref" href="#292s" title='s' data-ref="292s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::event_int_idx" title='(anonymous struct)::event_int_idx' data-use='r' data-ref="(anonymous)::event_int_idx">event_int_idx</a>);</td></tr>
<tr><th id="1523">1523</th><td></td></tr>
<tr><th id="1524">1524</th><td>    <a class="local col2 ref" href="#292s" title='s' data-ref="292s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::auto_int_masking" title='(anonymous struct)::auto_int_masking' data-use='w' data-ref="(anonymous)::auto_int_masking">auto_int_masking</a> =</td></tr>
<tr><th id="1525">1525</th><td>        <a class="macro" href="#121" title="(vmw_shmem_ld8(d, s-&gt;drv_shmem + __builtin_offsetof(struct Vmxnet3_DriverShared, devRead.intrConf.autoMask)))" data-ref="_M/VMXNET3_READ_DRV_SHARED8">VMXNET3_READ_DRV_SHARED8</a>(<a class="local col5 ref" href="#295d" title='d' data-ref="295d">d</a>, <a class="local col2 ref" href="#292s" title='s' data-ref="292s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::drv_shmem" title='(anonymous struct)::drv_shmem' data-use='r' data-ref="(anonymous)::drv_shmem">drv_shmem</a>, devRead.intrConf.autoMask);</td></tr>
<tr><th id="1526">1526</th><td>    <a class="macro" href="vmxnet_debug.h.html#129" title="do { if (0) { printf(&quot;[%s][CF][%s]: &quot; &quot;Automatic interrupt masking is %d&quot; &quot;\n&quot;, &quot;vmxnet3&quot;, __func__, (int)s-&gt;auto_int_masking); } } while (0)" data-ref="_M/VMW_CFPRN">VMW_CFPRN</a>(<q>"Automatic interrupt masking is %d"</q>, (<em>int</em>)<a class="local col2 ref" href="#292s" title='s' data-ref="292s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::auto_int_masking" title='(anonymous struct)::auto_int_masking' data-use='r' data-ref="(anonymous)::auto_int_masking">auto_int_masking</a>);</td></tr>
<tr><th id="1527">1527</th><td></td></tr>
<tr><th id="1528">1528</th><td>    <a class="local col2 ref" href="#292s" title='s' data-ref="292s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::txq_num" title='(anonymous struct)::txq_num' data-use='w' data-ref="(anonymous)::txq_num">txq_num</a> =</td></tr>
<tr><th id="1529">1529</th><td>        <a class="macro" href="#121" title="(vmw_shmem_ld8(d, s-&gt;drv_shmem + __builtin_offsetof(struct Vmxnet3_DriverShared, devRead.misc.numTxQueues)))" data-ref="_M/VMXNET3_READ_DRV_SHARED8">VMXNET3_READ_DRV_SHARED8</a>(<a class="local col5 ref" href="#295d" title='d' data-ref="295d">d</a>, <a class="local col2 ref" href="#292s" title='s' data-ref="292s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::drv_shmem" title='(anonymous struct)::drv_shmem' data-use='r' data-ref="(anonymous)::drv_shmem">drv_shmem</a>, devRead.misc.numTxQueues);</td></tr>
<tr><th id="1530">1530</th><td>    <a class="local col2 ref" href="#292s" title='s' data-ref="292s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::rxq_num" title='(anonymous struct)::rxq_num' data-use='w' data-ref="(anonymous)::rxq_num">rxq_num</a> =</td></tr>
<tr><th id="1531">1531</th><td>        <a class="macro" href="#121" title="(vmw_shmem_ld8(d, s-&gt;drv_shmem + __builtin_offsetof(struct Vmxnet3_DriverShared, devRead.misc.numRxQueues)))" data-ref="_M/VMXNET3_READ_DRV_SHARED8">VMXNET3_READ_DRV_SHARED8</a>(<a class="local col5 ref" href="#295d" title='d' data-ref="295d">d</a>, <a class="local col2 ref" href="#292s" title='s' data-ref="292s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::drv_shmem" title='(anonymous struct)::drv_shmem' data-use='r' data-ref="(anonymous)::drv_shmem">drv_shmem</a>, devRead.misc.numRxQueues);</td></tr>
<tr><th id="1532">1532</th><td></td></tr>
<tr><th id="1533">1533</th><td>    <a class="macro" href="vmxnet_debug.h.html#129" title="do { if (0) { printf(&quot;[%s][CF][%s]: &quot; &quot;Number of TX/RX queues %u/%u&quot; &quot;\n&quot;, &quot;vmxnet3&quot;, __func__, s-&gt;txq_num, s-&gt;rxq_num); } } while (0)" data-ref="_M/VMW_CFPRN">VMW_CFPRN</a>(<q>"Number of TX/RX queues %u/%u"</q>, <a class="local col2 ref" href="#292s" title='s' data-ref="292s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::txq_num" title='(anonymous struct)::txq_num' data-use='r' data-ref="(anonymous)::txq_num">txq_num</a>, <a class="local col2 ref" href="#292s" title='s' data-ref="292s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::rxq_num" title='(anonymous struct)::rxq_num' data-use='r' data-ref="(anonymous)::rxq_num">rxq_num</a>);</td></tr>
<tr><th id="1534">1534</th><td>    <a class="tu ref" href="#vmxnet3_validate_queues" title='vmxnet3_validate_queues' data-use='c' data-ref="vmxnet3_validate_queues">vmxnet3_validate_queues</a>(<a class="local col2 ref" href="#292s" title='s' data-ref="292s">s</a>);</td></tr>
<tr><th id="1535">1535</th><td></td></tr>
<tr><th id="1536">1536</th><td>    <a class="local col6 ref" href="#296qdescr_table_pa" title='qdescr_table_pa' data-ref="296qdescr_table_pa">qdescr_table_pa</a> =</td></tr>
<tr><th id="1537">1537</th><td>        <a class="macro" href="#109" title="(vmw_shmem_ld64(d, s-&gt;drv_shmem + __builtin_offsetof(struct Vmxnet3_DriverShared, devRead.misc.queueDescPA)))" data-ref="_M/VMXNET3_READ_DRV_SHARED64">VMXNET3_READ_DRV_SHARED64</a>(<a class="local col5 ref" href="#295d" title='d' data-ref="295d">d</a>, <a class="local col2 ref" href="#292s" title='s' data-ref="292s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::drv_shmem" title='(anonymous struct)::drv_shmem' data-use='r' data-ref="(anonymous)::drv_shmem">drv_shmem</a>, devRead.misc.queueDescPA);</td></tr>
<tr><th id="1538">1538</th><td>    <a class="macro" href="vmxnet_debug.h.html#129" title="do { if (0) { printf(&quot;[%s][CF][%s]: &quot; &quot;TX queues descriptors table is at 0x%&quot; &quot;l&quot; &quot;x&quot; &quot;\n&quot;, &quot;vmxnet3&quot;, __func__, qdescr_table_pa); } } while (0)" data-ref="_M/VMW_CFPRN">VMW_CFPRN</a>(<q>"TX queues descriptors table is at 0x%"</q> <a class="macro" href="../../../include/inttypes.h.html#121" title="&quot;l&quot; &quot;x&quot;" data-ref="_M/PRIx64">PRIx64</a>, <a class="local col6 ref" href="#296qdescr_table_pa" title='qdescr_table_pa' data-ref="296qdescr_table_pa">qdescr_table_pa</a>);</td></tr>
<tr><th id="1539">1539</th><td></td></tr>
<tr><th id="1540">1540</th><td>    <i>/*</i></td></tr>
<tr><th id="1541">1541</th><td><i>     * Worst-case scenario is a packet that holds all TX rings space so</i></td></tr>
<tr><th id="1542">1542</th><td><i>     * we calculate total size of all TX rings for max TX fragments number</i></td></tr>
<tr><th id="1543">1543</th><td><i>     */</i></td></tr>
<tr><th id="1544">1544</th><td>    <a class="local col2 ref" href="#292s" title='s' data-ref="292s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::max_tx_frags" title='(anonymous struct)::max_tx_frags' data-use='w' data-ref="(anonymous)::max_tx_frags">max_tx_frags</a> = <var>0</var>;</td></tr>
<tr><th id="1545">1545</th><td></td></tr>
<tr><th id="1546">1546</th><td>    <i>/* TX queues */</i></td></tr>
<tr><th id="1547">1547</th><td>    <b>for</b> (<a class="local col3 ref" href="#293i" title='i' data-ref="293i">i</a> = <var>0</var>; <a class="local col3 ref" href="#293i" title='i' data-ref="293i">i</a> &lt; <a class="local col2 ref" href="#292s" title='s' data-ref="292s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::txq_num" title='(anonymous struct)::txq_num' data-use='r' data-ref="(anonymous)::txq_num">txq_num</a>; <a class="local col3 ref" href="#293i" title='i' data-ref="293i">i</a>++) {</td></tr>
<tr><th id="1548">1548</th><td>        <a class="typedef" href="../../include/exec/hwaddr.h.html#hwaddr" title='hwaddr' data-type='uint64_t' data-ref="hwaddr">hwaddr</a> <dfn class="local col9 decl" id="299qdescr_pa" title='qdescr_pa' data-type='hwaddr' data-ref="299qdescr_pa">qdescr_pa</dfn> =</td></tr>
<tr><th id="1549">1549</th><td>            <a class="local col6 ref" href="#296qdescr_table_pa" title='qdescr_table_pa' data-ref="296qdescr_table_pa">qdescr_table_pa</a> + <a class="local col3 ref" href="#293i" title='i' data-ref="293i">i</a> * <b>sizeof</b>(<b>struct</b> <a class="type" href="vmxnet3.h.html#Vmxnet3_TxQueueDesc" title='Vmxnet3_TxQueueDesc' data-ref="Vmxnet3_TxQueueDesc">Vmxnet3_TxQueueDesc</a>);</td></tr>
<tr><th id="1550">1550</th><td></td></tr>
<tr><th id="1551">1551</th><td>        <i>/* Read interrupt number for this TX queue */</i></td></tr>
<tr><th id="1552">1552</th><td>        <a class="local col2 ref" href="#292s" title='s' data-ref="292s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::txq_descr" title='(anonymous struct)::txq_descr' data-use='m' data-ref="(anonymous)::txq_descr">txq_descr</a>[<a class="local col3 ref" href="#293i" title='i' data-ref="293i">i</a>].<a class="tu ref" href="#(anonymous)::intr_idx" title='(anonymous struct)::intr_idx' data-use='w' data-ref="(anonymous)::intr_idx">intr_idx</a> =</td></tr>
<tr><th id="1553">1553</th><td>            <a class="macro" href="#78" title="(vmw_shmem_ld8(d, qdescr_pa + __builtin_offsetof(struct Vmxnet3_TxQueueDesc, conf.intrIdx)))" data-ref="_M/VMXNET3_READ_TX_QUEUE_DESCR8">VMXNET3_READ_TX_QUEUE_DESCR8</a>(<a class="local col5 ref" href="#295d" title='d' data-ref="295d">d</a>, <a class="local col9 ref" href="#299qdescr_pa" title='qdescr_pa' data-ref="299qdescr_pa">qdescr_pa</a>, conf.intrIdx);</td></tr>
<tr><th id="1554">1554</th><td>        <a class="macro" href="../../../include/assert.h.html#88" title="((vmxnet3_verify_intx(s, s-&gt;txq_descr[i].intr_idx)) ? (void) (0) : __assert_fail (&quot;vmxnet3_verify_intx(s, s-&gt;txq_descr[i].intr_idx)&quot;, &quot;/home/jon/workspace/qemu/hw/net/vmxnet3.c&quot;, 1554, __PRETTY_FUNCTION__))" data-ref="_M/assert">assert</a>(<a class="tu ref" href="#vmxnet3_verify_intx" title='vmxnet3_verify_intx' data-use='c' data-ref="vmxnet3_verify_intx">vmxnet3_verify_intx</a>(<a class="local col2 ref" href="#292s" title='s' data-ref="292s">s</a>, <a class="local col2 ref" href="#292s" title='s' data-ref="292s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::txq_descr" title='(anonymous struct)::txq_descr' data-use='m' data-ref="(anonymous)::txq_descr">txq_descr</a>[<a class="local col3 ref" href="#293i" title='i' data-ref="293i">i</a>].<a class="tu ref" href="#(anonymous)::intr_idx" title='(anonymous struct)::intr_idx' data-use='r' data-ref="(anonymous)::intr_idx">intr_idx</a>));</td></tr>
<tr><th id="1555">1555</th><td></td></tr>
<tr><th id="1556">1556</th><td>        <a class="macro" href="vmxnet_debug.h.html#129" title="do { if (0) { printf(&quot;[%s][CF][%s]: &quot; &quot;TX Queue %d interrupt: %d&quot; &quot;\n&quot;, &quot;vmxnet3&quot;, __func__, i, s-&gt;txq_descr[i].intr_idx); } } while (0)" data-ref="_M/VMW_CFPRN">VMW_CFPRN</a>(<q>"TX Queue %d interrupt: %d"</q>, <a class="local col3 ref" href="#293i" title='i' data-ref="293i">i</a>, <a class="local col2 ref" href="#292s" title='s' data-ref="292s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::txq_descr" title='(anonymous struct)::txq_descr' data-use='m' data-ref="(anonymous)::txq_descr">txq_descr</a>[<a class="local col3 ref" href="#293i" title='i' data-ref="293i">i</a>].<a class="tu ref" href="#(anonymous)::intr_idx" title='(anonymous struct)::intr_idx' data-use='r' data-ref="(anonymous)::intr_idx">intr_idx</a>);</td></tr>
<tr><th id="1557">1557</th><td></td></tr>
<tr><th id="1558">1558</th><td>        <i>/* Read rings memory locations for TX queues */</i></td></tr>
<tr><th id="1559">1559</th><td>        <a class="local col7 ref" href="#297pa" title='pa' data-ref="297pa">pa</a> = <a class="macro" href="#90" title="(vmw_shmem_ld64(d, qdescr_pa + __builtin_offsetof(struct Vmxnet3_TxQueueDesc, conf.txRingBasePA)))" data-ref="_M/VMXNET3_READ_TX_QUEUE_DESCR64">VMXNET3_READ_TX_QUEUE_DESCR64</a>(<a class="local col5 ref" href="#295d" title='d' data-ref="295d">d</a>, <a class="local col9 ref" href="#299qdescr_pa" title='qdescr_pa' data-ref="299qdescr_pa">qdescr_pa</a>, conf.txRingBasePA);</td></tr>
<tr><th id="1560">1560</th><td>        <a class="local col8 ref" href="#298size" title='size' data-ref="298size">size</a> = <a class="macro" href="#84" title="(vmw_shmem_ld32(d, qdescr_pa + __builtin_offsetof(struct Vmxnet3_TxQueueDesc, conf.txRingSize)))" data-ref="_M/VMXNET3_READ_TX_QUEUE_DESCR32">VMXNET3_READ_TX_QUEUE_DESCR32</a>(<a class="local col5 ref" href="#295d" title='d' data-ref="295d">d</a>, <a class="local col9 ref" href="#299qdescr_pa" title='qdescr_pa' data-ref="299qdescr_pa">qdescr_pa</a>, conf.txRingSize);</td></tr>
<tr><th id="1561">1561</th><td></td></tr>
<tr><th id="1562">1562</th><td>        <a class="tu ref" href="#vmxnet3_ring_init" title='vmxnet3_ring_init' data-use='c' data-ref="vmxnet3_ring_init">vmxnet3_ring_init</a>(<a class="local col5 ref" href="#295d" title='d' data-ref="295d">d</a>, &amp;<a class="local col2 ref" href="#292s" title='s' data-ref="292s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::txq_descr" title='(anonymous struct)::txq_descr' data-use='m' data-ref="(anonymous)::txq_descr">txq_descr</a>[<a class="local col3 ref" href="#293i" title='i' data-ref="293i">i</a>].<a class="tu ref" href="#(anonymous)::tx_ring" title='(anonymous struct)::tx_ring' data-use='a' data-ref="(anonymous)::tx_ring">tx_ring</a>, <a class="local col7 ref" href="#297pa" title='pa' data-ref="297pa">pa</a>, <a class="local col8 ref" href="#298size" title='size' data-ref="298size">size</a>,</td></tr>
<tr><th id="1563">1563</th><td>                          <b>sizeof</b>(<b>struct</b> <a class="type" href="vmxnet3.h.html#Vmxnet3_TxDesc" title='Vmxnet3_TxDesc' data-ref="Vmxnet3_TxDesc">Vmxnet3_TxDesc</a>), <span class="macro" title="0" data-ref="_M/false">false</span>);</td></tr>
<tr><th id="1564">1564</th><td>        <a class="macro" href="#169" title="do { if (0) { printf(&quot;[%s][CF][%s]: &quot; &quot;%s#%d: base %&quot; &quot;l&quot; &quot;x&quot; &quot; size %u cell_size %u gen %d next %u&quot; &quot;\n&quot;, &quot;vmxnet3&quot;, __func__, (&quot;TX&quot;), (i), (&amp;s-&gt;txq_descr[i].tx_ring)-&gt;pa, (&amp;s-&gt;txq_descr[i].tx_ring)-&gt;size, (&amp;s-&gt;txq_descr[i].tx_ring)-&gt;cell_size, (&amp;s-&gt;txq_descr[i].tx_ring)-&gt;gen, (&amp;s-&gt;txq_descr[i].tx_ring)-&gt;next); } } while (0)" data-ref="_M/VMXNET3_RING_DUMP">VMXNET3_RING_DUMP</a>(VMW_CFPRN, <q>"TX"</q>, <a class="local col3 ref" href="#293i" title='i' data-ref="293i">i</a>, &amp;<a class="local col2 ref" href="#292s" title='s' data-ref="292s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::txq_descr" title='(anonymous struct)::txq_descr' data-use='m' data-ref="(anonymous)::txq_descr">txq_descr</a>[<a class="local col3 ref" href="#293i" title='i' data-ref="293i">i</a>].<a class="tu ref" href="#(anonymous)::tx_ring" title='(anonymous struct)::tx_ring' data-use='a' data-ref="(anonymous)::tx_ring">tx_ring</a>);</td></tr>
<tr><th id="1565">1565</th><td></td></tr>
<tr><th id="1566">1566</th><td>        <a class="local col2 ref" href="#292s" title='s' data-ref="292s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::max_tx_frags" title='(anonymous struct)::max_tx_frags' data-use='w' data-ref="(anonymous)::max_tx_frags">max_tx_frags</a> += <a class="local col8 ref" href="#298size" title='size' data-ref="298size">size</a>;</td></tr>
<tr><th id="1567">1567</th><td></td></tr>
<tr><th id="1568">1568</th><td>        <i>/* TXC ring */</i></td></tr>
<tr><th id="1569">1569</th><td>        <a class="local col7 ref" href="#297pa" title='pa' data-ref="297pa">pa</a> = <a class="macro" href="#90" title="(vmw_shmem_ld64(d, qdescr_pa + __builtin_offsetof(struct Vmxnet3_TxQueueDesc, conf.compRingBasePA)))" data-ref="_M/VMXNET3_READ_TX_QUEUE_DESCR64">VMXNET3_READ_TX_QUEUE_DESCR64</a>(<a class="local col5 ref" href="#295d" title='d' data-ref="295d">d</a>, <a class="local col9 ref" href="#299qdescr_pa" title='qdescr_pa' data-ref="299qdescr_pa">qdescr_pa</a>, conf.compRingBasePA);</td></tr>
<tr><th id="1570">1570</th><td>        <a class="local col8 ref" href="#298size" title='size' data-ref="298size">size</a> = <a class="macro" href="#84" title="(vmw_shmem_ld32(d, qdescr_pa + __builtin_offsetof(struct Vmxnet3_TxQueueDesc, conf.compRingSize)))" data-ref="_M/VMXNET3_READ_TX_QUEUE_DESCR32">VMXNET3_READ_TX_QUEUE_DESCR32</a>(<a class="local col5 ref" href="#295d" title='d' data-ref="295d">d</a>, <a class="local col9 ref" href="#299qdescr_pa" title='qdescr_pa' data-ref="299qdescr_pa">qdescr_pa</a>, conf.compRingSize);</td></tr>
<tr><th id="1571">1571</th><td>        <a class="tu ref" href="#vmxnet3_ring_init" title='vmxnet3_ring_init' data-use='c' data-ref="vmxnet3_ring_init">vmxnet3_ring_init</a>(<a class="local col5 ref" href="#295d" title='d' data-ref="295d">d</a>, &amp;<a class="local col2 ref" href="#292s" title='s' data-ref="292s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::txq_descr" title='(anonymous struct)::txq_descr' data-use='m' data-ref="(anonymous)::txq_descr">txq_descr</a>[<a class="local col3 ref" href="#293i" title='i' data-ref="293i">i</a>].<a class="tu ref" href="#(anonymous)::comp_ring" title='(anonymous struct)::comp_ring' data-use='a' data-ref="(anonymous)::comp_ring">comp_ring</a>, <a class="local col7 ref" href="#297pa" title='pa' data-ref="297pa">pa</a>, <a class="local col8 ref" href="#298size" title='size' data-ref="298size">size</a>,</td></tr>
<tr><th id="1572">1572</th><td>                          <b>sizeof</b>(<b>struct</b> <a class="type" href="vmxnet3.h.html#Vmxnet3_TxCompDesc" title='Vmxnet3_TxCompDesc' data-ref="Vmxnet3_TxCompDesc">Vmxnet3_TxCompDesc</a>), <span class="macro" title="1" data-ref="_M/true">true</span>);</td></tr>
<tr><th id="1573">1573</th><td>        <a class="macro" href="#169" title="do { if (0) { printf(&quot;[%s][CF][%s]: &quot; &quot;%s#%d: base %&quot; &quot;l&quot; &quot;x&quot; &quot; size %u cell_size %u gen %d next %u&quot; &quot;\n&quot;, &quot;vmxnet3&quot;, __func__, (&quot;TXC&quot;), (i), (&amp;s-&gt;txq_descr[i].comp_ring)-&gt;pa, (&amp;s-&gt;txq_descr[i].comp_ring)-&gt;size, (&amp;s-&gt;txq_descr[i].comp_ring)-&gt;cell_size, (&amp;s-&gt;txq_descr[i].comp_ring)-&gt;gen, (&amp;s-&gt;txq_descr[i].comp_ring)-&gt;next); } } while (0)" data-ref="_M/VMXNET3_RING_DUMP">VMXNET3_RING_DUMP</a>(VMW_CFPRN, <q>"TXC"</q>, <a class="local col3 ref" href="#293i" title='i' data-ref="293i">i</a>, &amp;<a class="local col2 ref" href="#292s" title='s' data-ref="292s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::txq_descr" title='(anonymous struct)::txq_descr' data-use='m' data-ref="(anonymous)::txq_descr">txq_descr</a>[<a class="local col3 ref" href="#293i" title='i' data-ref="293i">i</a>].<a class="tu ref" href="#(anonymous)::comp_ring" title='(anonymous struct)::comp_ring' data-use='a' data-ref="(anonymous)::comp_ring">comp_ring</a>);</td></tr>
<tr><th id="1574">1574</th><td></td></tr>
<tr><th id="1575">1575</th><td>        <a class="local col2 ref" href="#292s" title='s' data-ref="292s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::txq_descr" title='(anonymous struct)::txq_descr' data-use='m' data-ref="(anonymous)::txq_descr">txq_descr</a>[<a class="local col3 ref" href="#293i" title='i' data-ref="293i">i</a>].<a class="tu ref" href="#(anonymous)::tx_stats_pa" title='(anonymous struct)::tx_stats_pa' data-use='w' data-ref="(anonymous)::tx_stats_pa">tx_stats_pa</a> =</td></tr>
<tr><th id="1576">1576</th><td>            <a class="local col9 ref" href="#299qdescr_pa" title='qdescr_pa' data-ref="299qdescr_pa">qdescr_pa</a> + <span class="macro" title="__builtin_offsetof(struct Vmxnet3_TxQueueDesc, stats)" data-ref="_M/offsetof">offsetof</span>(<b>struct</b> <a class="type" href="vmxnet3.h.html#Vmxnet3_TxQueueDesc" title='Vmxnet3_TxQueueDesc' data-ref="Vmxnet3_TxQueueDesc">Vmxnet3_TxQueueDesc</a>, stats);</td></tr>
<tr><th id="1577">1577</th><td></td></tr>
<tr><th id="1578">1578</th><td>        <a class="ref" href="../../../include/string.h.html#memset" title='memset' data-ref="memset">memset</a>(&amp;<a class="local col2 ref" href="#292s" title='s' data-ref="292s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::txq_descr" title='(anonymous struct)::txq_descr' data-use='m' data-ref="(anonymous)::txq_descr">txq_descr</a>[<a class="local col3 ref" href="#293i" title='i' data-ref="293i">i</a>].<a class="tu ref" href="#(anonymous)::txq_stats" title='(anonymous struct)::txq_stats' data-use='a' data-ref="(anonymous)::txq_stats">txq_stats</a>, <var>0</var>,</td></tr>
<tr><th id="1579">1579</th><td>               <b>sizeof</b>(<a class="local col2 ref" href="#292s" title='s' data-ref="292s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::txq_descr" title='(anonymous struct)::txq_descr' data-use='m' data-ref="(anonymous)::txq_descr">txq_descr</a>[<a class="local col3 ref" href="#293i" title='i' data-ref="293i">i</a>].<a class="tu ref" href="#(anonymous)::txq_stats" title='(anonymous struct)::txq_stats' data-use='r' data-ref="(anonymous)::txq_stats">txq_stats</a>));</td></tr>
<tr><th id="1580">1580</th><td></td></tr>
<tr><th id="1581">1581</th><td>        <i>/* Fill device-managed parameters for queues */</i></td></tr>
<tr><th id="1582">1582</th><td>        <a class="macro" href="#87" title="(vmw_shmem_st32(d, qdescr_pa + __builtin_offsetof(struct Vmxnet3_TxQueueDesc, ctrl.txThreshold), VMXNET3_DEF_TX_THRESHOLD))" data-ref="_M/VMXNET3_WRITE_TX_QUEUE_DESCR32">VMXNET3_WRITE_TX_QUEUE_DESCR32</a>(<a class="local col5 ref" href="#295d" title='d' data-ref="295d">d</a>, <a class="local col9 ref" href="#299qdescr_pa" title='qdescr_pa' data-ref="299qdescr_pa">qdescr_pa</a>,</td></tr>
<tr><th id="1583">1583</th><td>                                       ctrl.txThreshold,</td></tr>
<tr><th id="1584">1584</th><td>                                       <a class="local col4 ref" href="#294VMXNET3_DEF_TX_THRESHOLD" title='VMXNET3_DEF_TX_THRESHOLD' data-ref="294VMXNET3_DEF_TX_THRESHOLD">VMXNET3_DEF_TX_THRESHOLD</a>);</td></tr>
<tr><th id="1585">1585</th><td>    }</td></tr>
<tr><th id="1586">1586</th><td></td></tr>
<tr><th id="1587">1587</th><td>    <i>/* Preallocate TX packet wrapper */</i></td></tr>
<tr><th id="1588">1588</th><td>    <a class="macro" href="vmxnet_debug.h.html#129" title="do { if (0) { printf(&quot;[%s][CF][%s]: &quot; &quot;Max TX fragments is %u&quot; &quot;\n&quot;, &quot;vmxnet3&quot;, __func__, s-&gt;max_tx_frags); } } while (0)" data-ref="_M/VMW_CFPRN">VMW_CFPRN</a>(<q>"Max TX fragments is %u"</q>, <a class="local col2 ref" href="#292s" title='s' data-ref="292s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::max_tx_frags" title='(anonymous struct)::max_tx_frags' data-use='r' data-ref="(anonymous)::max_tx_frags">max_tx_frags</a>);</td></tr>
<tr><th id="1589">1589</th><td>    <a class="ref" href="net_tx_pkt.h.html#net_tx_pkt_init" title='net_tx_pkt_init' data-ref="net_tx_pkt_init">net_tx_pkt_init</a>(&amp;<a class="local col2 ref" href="#292s" title='s' data-ref="292s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::tx_pkt" title='(anonymous struct)::tx_pkt' data-use='a' data-ref="(anonymous)::tx_pkt">tx_pkt</a>, <a class="macro" href="../../include/hw/pci/pci.h.html#191" title="((PCIDevice *)object_dynamic_cast_assert(((Object *)((s))), (&quot;pci-device&quot;), &quot;/home/jon/workspace/qemu/hw/net/vmxnet3.c&quot;, 1589, __func__))" data-ref="_M/PCI_DEVICE">PCI_DEVICE</a>(<a class="local col2 ref" href="#292s" title='s' data-ref="292s">s</a>),</td></tr>
<tr><th id="1590">1590</th><td>                    <a class="local col2 ref" href="#292s" title='s' data-ref="292s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::max_tx_frags" title='(anonymous struct)::max_tx_frags' data-use='r' data-ref="(anonymous)::max_tx_frags">max_tx_frags</a>, <a class="local col2 ref" href="#292s" title='s' data-ref="292s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::peer_has_vhdr" title='(anonymous struct)::peer_has_vhdr' data-use='r' data-ref="(anonymous)::peer_has_vhdr">peer_has_vhdr</a>);</td></tr>
<tr><th id="1591">1591</th><td>    <a class="ref" href="net_rx_pkt.h.html#net_rx_pkt_init" title='net_rx_pkt_init' data-ref="net_rx_pkt_init">net_rx_pkt_init</a>(&amp;<a class="local col2 ref" href="#292s" title='s' data-ref="292s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::rx_pkt" title='(anonymous struct)::rx_pkt' data-use='a' data-ref="(anonymous)::rx_pkt">rx_pkt</a>, <a class="local col2 ref" href="#292s" title='s' data-ref="292s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::peer_has_vhdr" title='(anonymous struct)::peer_has_vhdr' data-use='r' data-ref="(anonymous)::peer_has_vhdr">peer_has_vhdr</a>);</td></tr>
<tr><th id="1592">1592</th><td></td></tr>
<tr><th id="1593">1593</th><td>    <i>/* Read rings memory locations for RX queues */</i></td></tr>
<tr><th id="1594">1594</th><td>    <b>for</b> (<a class="local col3 ref" href="#293i" title='i' data-ref="293i">i</a> = <var>0</var>; <a class="local col3 ref" href="#293i" title='i' data-ref="293i">i</a> &lt; <a class="local col2 ref" href="#292s" title='s' data-ref="292s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::rxq_num" title='(anonymous struct)::rxq_num' data-use='r' data-ref="(anonymous)::rxq_num">rxq_num</a>; <a class="local col3 ref" href="#293i" title='i' data-ref="293i">i</a>++) {</td></tr>
<tr><th id="1595">1595</th><td>        <em>int</em> <dfn class="local col0 decl" id="300j" title='j' data-type='int' data-ref="300j">j</dfn>;</td></tr>
<tr><th id="1596">1596</th><td>        <a class="typedef" href="../../include/exec/hwaddr.h.html#hwaddr" title='hwaddr' data-type='uint64_t' data-ref="hwaddr">hwaddr</a> <dfn class="local col1 decl" id="301qd_pa" title='qd_pa' data-type='hwaddr' data-ref="301qd_pa">qd_pa</dfn> =</td></tr>
<tr><th id="1597">1597</th><td>            <a class="local col6 ref" href="#296qdescr_table_pa" title='qdescr_table_pa' data-ref="296qdescr_table_pa">qdescr_table_pa</a> + <a class="local col2 ref" href="#292s" title='s' data-ref="292s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::txq_num" title='(anonymous struct)::txq_num' data-use='r' data-ref="(anonymous)::txq_num">txq_num</a> * <b>sizeof</b>(<b>struct</b> <a class="type" href="vmxnet3.h.html#Vmxnet3_TxQueueDesc" title='Vmxnet3_TxQueueDesc' data-ref="Vmxnet3_TxQueueDesc">Vmxnet3_TxQueueDesc</a>) +</td></tr>
<tr><th id="1598">1598</th><td>            <a class="local col3 ref" href="#293i" title='i' data-ref="293i">i</a> * <b>sizeof</b>(<b>struct</b> <a class="type" href="vmxnet3.h.html#Vmxnet3_RxQueueDesc" title='Vmxnet3_RxQueueDesc' data-ref="Vmxnet3_RxQueueDesc">Vmxnet3_RxQueueDesc</a>);</td></tr>
<tr><th id="1599">1599</th><td></td></tr>
<tr><th id="1600">1600</th><td>        <i>/* Read interrupt number for this RX queue */</i></td></tr>
<tr><th id="1601">1601</th><td>        <a class="local col2 ref" href="#292s" title='s' data-ref="292s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::rxq_descr" title='(anonymous struct)::rxq_descr' data-use='m' data-ref="(anonymous)::rxq_descr">rxq_descr</a>[<a class="local col3 ref" href="#293i" title='i' data-ref="293i">i</a>].<a class="tu ref" href="#(anonymous)::intr_idx" title='(anonymous struct)::intr_idx' data-use='w' data-ref="(anonymous)::intr_idx">intr_idx</a> =</td></tr>
<tr><th id="1602">1602</th><td>            <a class="macro" href="#78" title="(vmw_shmem_ld8(d, qd_pa + __builtin_offsetof(struct Vmxnet3_TxQueueDesc, conf.intrIdx)))" data-ref="_M/VMXNET3_READ_TX_QUEUE_DESCR8">VMXNET3_READ_TX_QUEUE_DESCR8</a>(<a class="local col5 ref" href="#295d" title='d' data-ref="295d">d</a>, <a class="local col1 ref" href="#301qd_pa" title='qd_pa' data-ref="301qd_pa">qd_pa</a>, conf.intrIdx);</td></tr>
<tr><th id="1603">1603</th><td>        <a class="macro" href="../../../include/assert.h.html#88" title="((vmxnet3_verify_intx(s, s-&gt;rxq_descr[i].intr_idx)) ? (void) (0) : __assert_fail (&quot;vmxnet3_verify_intx(s, s-&gt;rxq_descr[i].intr_idx)&quot;, &quot;/home/jon/workspace/qemu/hw/net/vmxnet3.c&quot;, 1603, __PRETTY_FUNCTION__))" data-ref="_M/assert">assert</a>(<a class="tu ref" href="#vmxnet3_verify_intx" title='vmxnet3_verify_intx' data-use='c' data-ref="vmxnet3_verify_intx">vmxnet3_verify_intx</a>(<a class="local col2 ref" href="#292s" title='s' data-ref="292s">s</a>, <a class="local col2 ref" href="#292s" title='s' data-ref="292s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::rxq_descr" title='(anonymous struct)::rxq_descr' data-use='m' data-ref="(anonymous)::rxq_descr">rxq_descr</a>[<a class="local col3 ref" href="#293i" title='i' data-ref="293i">i</a>].<a class="tu ref" href="#(anonymous)::intr_idx" title='(anonymous struct)::intr_idx' data-use='r' data-ref="(anonymous)::intr_idx">intr_idx</a>));</td></tr>
<tr><th id="1604">1604</th><td></td></tr>
<tr><th id="1605">1605</th><td>        <a class="macro" href="vmxnet_debug.h.html#129" title="do { if (0) { printf(&quot;[%s][CF][%s]: &quot; &quot;RX Queue %d interrupt: %d&quot; &quot;\n&quot;, &quot;vmxnet3&quot;, __func__, i, s-&gt;rxq_descr[i].intr_idx); } } while (0)" data-ref="_M/VMW_CFPRN">VMW_CFPRN</a>(<q>"RX Queue %d interrupt: %d"</q>, <a class="local col3 ref" href="#293i" title='i' data-ref="293i">i</a>, <a class="local col2 ref" href="#292s" title='s' data-ref="292s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::rxq_descr" title='(anonymous struct)::rxq_descr' data-use='m' data-ref="(anonymous)::rxq_descr">rxq_descr</a>[<a class="local col3 ref" href="#293i" title='i' data-ref="293i">i</a>].<a class="tu ref" href="#(anonymous)::intr_idx" title='(anonymous struct)::intr_idx' data-use='r' data-ref="(anonymous)::intr_idx">intr_idx</a>);</td></tr>
<tr><th id="1606">1606</th><td></td></tr>
<tr><th id="1607">1607</th><td>        <i>/* Read rings memory locations */</i></td></tr>
<tr><th id="1608">1608</th><td>        <b>for</b> (<a class="local col0 ref" href="#300j" title='j' data-ref="300j">j</a> = <var>0</var>; <a class="local col0 ref" href="#300j" title='j' data-ref="300j">j</a> &lt; <a class="macro" href="#249" title="(2)" data-ref="_M/VMXNET3_RX_RINGS_PER_QUEUE">VMXNET3_RX_RINGS_PER_QUEUE</a>; <a class="local col0 ref" href="#300j" title='j' data-ref="300j">j</a>++) {</td></tr>
<tr><th id="1609">1609</th><td>            <i>/* RX rings */</i></td></tr>
<tr><th id="1610">1610</th><td>            <a class="local col7 ref" href="#297pa" title='pa' data-ref="297pa">pa</a> = <a class="macro" href="#96" title="(vmw_shmem_ld64(d, qd_pa + __builtin_offsetof(struct Vmxnet3_RxQueueDesc, conf.rxRingBasePA[j])))" data-ref="_M/VMXNET3_READ_RX_QUEUE_DESCR64">VMXNET3_READ_RX_QUEUE_DESCR64</a>(<a class="local col5 ref" href="#295d" title='d' data-ref="295d">d</a>, <a class="local col1 ref" href="#301qd_pa" title='qd_pa' data-ref="301qd_pa">qd_pa</a>, conf.rxRingBasePA[<a class="local col0 ref" href="#300j" title='j' data-ref="300j">j</a>]);</td></tr>
<tr><th id="1611">1611</th><td>            <a class="local col8 ref" href="#298size" title='size' data-ref="298size">size</a> = <a class="macro" href="#99" title="(vmw_shmem_ld32(d, qd_pa + __builtin_offsetof(struct Vmxnet3_RxQueueDesc, conf.rxRingSize[j])))" data-ref="_M/VMXNET3_READ_RX_QUEUE_DESCR32">VMXNET3_READ_RX_QUEUE_DESCR32</a>(<a class="local col5 ref" href="#295d" title='d' data-ref="295d">d</a>, <a class="local col1 ref" href="#301qd_pa" title='qd_pa' data-ref="301qd_pa">qd_pa</a>, conf.rxRingSize[<a class="local col0 ref" href="#300j" title='j' data-ref="300j">j</a>]);</td></tr>
<tr><th id="1612">1612</th><td>            <a class="tu ref" href="#vmxnet3_ring_init" title='vmxnet3_ring_init' data-use='c' data-ref="vmxnet3_ring_init">vmxnet3_ring_init</a>(<a class="local col5 ref" href="#295d" title='d' data-ref="295d">d</a>, &amp;<a class="local col2 ref" href="#292s" title='s' data-ref="292s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::rxq_descr" title='(anonymous struct)::rxq_descr' data-use='m' data-ref="(anonymous)::rxq_descr">rxq_descr</a>[<a class="local col3 ref" href="#293i" title='i' data-ref="293i">i</a>].<a class="tu ref" href="#(anonymous)::rx_ring" title='(anonymous struct)::rx_ring' data-use='a' data-ref="(anonymous)::rx_ring">rx_ring</a>[<a class="local col0 ref" href="#300j" title='j' data-ref="300j">j</a>], <a class="local col7 ref" href="#297pa" title='pa' data-ref="297pa">pa</a>, <a class="local col8 ref" href="#298size" title='size' data-ref="298size">size</a>,</td></tr>
<tr><th id="1613">1613</th><td>                              <b>sizeof</b>(<b>struct</b> <a class="type" href="vmxnet3.h.html#Vmxnet3_RxDesc" title='Vmxnet3_RxDesc' data-ref="Vmxnet3_RxDesc">Vmxnet3_RxDesc</a>), <span class="macro" title="0" data-ref="_M/false">false</span>);</td></tr>
<tr><th id="1614">1614</th><td>            <a class="macro" href="vmxnet_debug.h.html#129" title="do { if (0) { printf(&quot;[%s][CF][%s]: &quot; &quot;RX queue %d:%d: Base: %&quot; &quot;l&quot; &quot;x&quot; &quot;, Size: %d&quot; &quot;\n&quot;, &quot;vmxnet3&quot;, __func__, i, j, pa, size); } } while (0)" data-ref="_M/VMW_CFPRN">VMW_CFPRN</a>(<q>"RX queue %d:%d: Base: %"</q> <a class="macro" href="../../../include/inttypes.h.html#121" title="&quot;l&quot; &quot;x&quot;" data-ref="_M/PRIx64">PRIx64</a> <q>", Size: %d"</q>,</td></tr>
<tr><th id="1615">1615</th><td>                      <a class="local col3 ref" href="#293i" title='i' data-ref="293i">i</a>, <a class="local col0 ref" href="#300j" title='j' data-ref="300j">j</a>, <a class="local col7 ref" href="#297pa" title='pa' data-ref="297pa">pa</a>, <a class="local col8 ref" href="#298size" title='size' data-ref="298size">size</a>);</td></tr>
<tr><th id="1616">1616</th><td>        }</td></tr>
<tr><th id="1617">1617</th><td></td></tr>
<tr><th id="1618">1618</th><td>        <i>/* RXC ring */</i></td></tr>
<tr><th id="1619">1619</th><td>        <a class="local col7 ref" href="#297pa" title='pa' data-ref="297pa">pa</a> = <a class="macro" href="#96" title="(vmw_shmem_ld64(d, qd_pa + __builtin_offsetof(struct Vmxnet3_RxQueueDesc, conf.compRingBasePA)))" data-ref="_M/VMXNET3_READ_RX_QUEUE_DESCR64">VMXNET3_READ_RX_QUEUE_DESCR64</a>(<a class="local col5 ref" href="#295d" title='d' data-ref="295d">d</a>, <a class="local col1 ref" href="#301qd_pa" title='qd_pa' data-ref="301qd_pa">qd_pa</a>, conf.compRingBasePA);</td></tr>
<tr><th id="1620">1620</th><td>        <a class="local col8 ref" href="#298size" title='size' data-ref="298size">size</a> = <a class="macro" href="#99" title="(vmw_shmem_ld32(d, qd_pa + __builtin_offsetof(struct Vmxnet3_RxQueueDesc, conf.compRingSize)))" data-ref="_M/VMXNET3_READ_RX_QUEUE_DESCR32">VMXNET3_READ_RX_QUEUE_DESCR32</a>(<a class="local col5 ref" href="#295d" title='d' data-ref="295d">d</a>, <a class="local col1 ref" href="#301qd_pa" title='qd_pa' data-ref="301qd_pa">qd_pa</a>, conf.compRingSize);</td></tr>
<tr><th id="1621">1621</th><td>        <a class="tu ref" href="#vmxnet3_ring_init" title='vmxnet3_ring_init' data-use='c' data-ref="vmxnet3_ring_init">vmxnet3_ring_init</a>(<a class="local col5 ref" href="#295d" title='d' data-ref="295d">d</a>, &amp;<a class="local col2 ref" href="#292s" title='s' data-ref="292s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::rxq_descr" title='(anonymous struct)::rxq_descr' data-use='m' data-ref="(anonymous)::rxq_descr">rxq_descr</a>[<a class="local col3 ref" href="#293i" title='i' data-ref="293i">i</a>].<a class="tu ref" href="#(anonymous)::comp_ring" title='(anonymous struct)::comp_ring' data-use='a' data-ref="(anonymous)::comp_ring">comp_ring</a>, <a class="local col7 ref" href="#297pa" title='pa' data-ref="297pa">pa</a>, <a class="local col8 ref" href="#298size" title='size' data-ref="298size">size</a>,</td></tr>
<tr><th id="1622">1622</th><td>                          <b>sizeof</b>(<b>struct</b> <a class="type" href="vmxnet3.h.html#Vmxnet3_RxCompDesc" title='Vmxnet3_RxCompDesc' data-ref="Vmxnet3_RxCompDesc">Vmxnet3_RxCompDesc</a>), <span class="macro" title="1" data-ref="_M/true">true</span>);</td></tr>
<tr><th id="1623">1623</th><td>        <a class="macro" href="vmxnet_debug.h.html#129" title="do { if (0) { printf(&quot;[%s][CF][%s]: &quot; &quot;RXC queue %d: Base: %&quot; &quot;l&quot; &quot;x&quot; &quot;, Size: %d&quot; &quot;\n&quot;, &quot;vmxnet3&quot;, __func__, i, pa, size); } } while (0)" data-ref="_M/VMW_CFPRN">VMW_CFPRN</a>(<q>"RXC queue %d: Base: %"</q> <a class="macro" href="../../../include/inttypes.h.html#121" title="&quot;l&quot; &quot;x&quot;" data-ref="_M/PRIx64">PRIx64</a> <q>", Size: %d"</q>, <a class="local col3 ref" href="#293i" title='i' data-ref="293i">i</a>, <a class="local col7 ref" href="#297pa" title='pa' data-ref="297pa">pa</a>, <a class="local col8 ref" href="#298size" title='size' data-ref="298size">size</a>);</td></tr>
<tr><th id="1624">1624</th><td></td></tr>
<tr><th id="1625">1625</th><td>        <a class="local col2 ref" href="#292s" title='s' data-ref="292s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::rxq_descr" title='(anonymous struct)::rxq_descr' data-use='m' data-ref="(anonymous)::rxq_descr">rxq_descr</a>[<a class="local col3 ref" href="#293i" title='i' data-ref="293i">i</a>].<a class="tu ref" href="#(anonymous)::rx_stats_pa" title='(anonymous struct)::rx_stats_pa' data-use='w' data-ref="(anonymous)::rx_stats_pa">rx_stats_pa</a> =</td></tr>
<tr><th id="1626">1626</th><td>            <a class="local col1 ref" href="#301qd_pa" title='qd_pa' data-ref="301qd_pa">qd_pa</a> + <span class="macro" title="__builtin_offsetof(struct Vmxnet3_RxQueueDesc, stats)" data-ref="_M/offsetof">offsetof</span>(<b>struct</b> <a class="type" href="vmxnet3.h.html#Vmxnet3_RxQueueDesc" title='Vmxnet3_RxQueueDesc' data-ref="Vmxnet3_RxQueueDesc">Vmxnet3_RxQueueDesc</a>, stats);</td></tr>
<tr><th id="1627">1627</th><td>        <a class="ref" href="../../../include/string.h.html#memset" title='memset' data-ref="memset">memset</a>(&amp;<a class="local col2 ref" href="#292s" title='s' data-ref="292s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::rxq_descr" title='(anonymous struct)::rxq_descr' data-use='m' data-ref="(anonymous)::rxq_descr">rxq_descr</a>[<a class="local col3 ref" href="#293i" title='i' data-ref="293i">i</a>].<a class="tu ref" href="#(anonymous)::rxq_stats" title='(anonymous struct)::rxq_stats' data-use='a' data-ref="(anonymous)::rxq_stats">rxq_stats</a>, <var>0</var>,</td></tr>
<tr><th id="1628">1628</th><td>               <b>sizeof</b>(<a class="local col2 ref" href="#292s" title='s' data-ref="292s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::rxq_descr" title='(anonymous struct)::rxq_descr' data-use='m' data-ref="(anonymous)::rxq_descr">rxq_descr</a>[<a class="local col3 ref" href="#293i" title='i' data-ref="293i">i</a>].<a class="tu ref" href="#(anonymous)::rxq_stats" title='(anonymous struct)::rxq_stats' data-use='r' data-ref="(anonymous)::rxq_stats">rxq_stats</a>));</td></tr>
<tr><th id="1629">1629</th><td>    }</td></tr>
<tr><th id="1630">1630</th><td></td></tr>
<tr><th id="1631">1631</th><td>    <a class="tu ref" href="#vmxnet3_validate_interrupts" title='vmxnet3_validate_interrupts' data-use='c' data-ref="vmxnet3_validate_interrupts">vmxnet3_validate_interrupts</a>(<a class="local col2 ref" href="#292s" title='s' data-ref="292s">s</a>);</td></tr>
<tr><th id="1632">1632</th><td></td></tr>
<tr><th id="1633">1633</th><td>    <i>/* Make sure everything is in place before device activation */</i></td></tr>
<tr><th id="1634">1634</th><td>    <a class="macro" href="../../include/qemu/atomic.h.html#412" title="({ ({ asm volatile(&quot;&quot; ::: &quot;memory&quot;); (void)0; }); __atomic_thread_fence(3); })" data-ref="_M/smp_wmb">smp_wmb</a>();</td></tr>
<tr><th id="1635">1635</th><td></td></tr>
<tr><th id="1636">1636</th><td>    <a class="tu ref" href="#vmxnet3_reset_mac" title='vmxnet3_reset_mac' data-use='c' data-ref="vmxnet3_reset_mac">vmxnet3_reset_mac</a>(<a class="local col2 ref" href="#292s" title='s' data-ref="292s">s</a>);</td></tr>
<tr><th id="1637">1637</th><td></td></tr>
<tr><th id="1638">1638</th><td>    <a class="local col2 ref" href="#292s" title='s' data-ref="292s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::device_active" title='(anonymous struct)::device_active' data-use='w' data-ref="(anonymous)::device_active">device_active</a> = <span class="macro" title="1" data-ref="_M/true">true</span>;</td></tr>
<tr><th id="1639">1639</th><td>}</td></tr>
<tr><th id="1640">1640</th><td></td></tr>
<tr><th id="1641">1641</th><td><em>static</em> <em>void</em> <dfn class="tu decl def" id="vmxnet3_handle_command" title='vmxnet3_handle_command' data-type='void vmxnet3_handle_command(VMXNET3State * s, uint64_t cmd)' data-ref="vmxnet3_handle_command">vmxnet3_handle_command</dfn>(<a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a> *<dfn class="local col2 decl" id="302s" title='s' data-type='VMXNET3State *' data-ref="302s">s</dfn>, <a class="typedef" href="../../../include/stdint.h.html#uint64_t" title='uint64_t' data-type='unsigned long' data-ref="uint64_t">uint64_t</a> <dfn class="local col3 decl" id="303cmd" title='cmd' data-type='uint64_t' data-ref="303cmd">cmd</dfn>)</td></tr>
<tr><th id="1642">1642</th><td>{</td></tr>
<tr><th id="1643">1643</th><td>    <a class="local col2 ref" href="#302s" title='s' data-ref="302s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::last_command" title='(anonymous struct)::last_command' data-use='w' data-ref="(anonymous)::last_command">last_command</a> = <a class="local col3 ref" href="#303cmd" title='cmd' data-ref="303cmd">cmd</a>;</td></tr>
<tr><th id="1644">1644</th><td></td></tr>
<tr><th id="1645">1645</th><td>    <b>switch</b> (<a class="local col3 ref" href="#303cmd" title='cmd' data-ref="303cmd">cmd</a>) {</td></tr>
<tr><th id="1646">1646</th><td>    <b>case</b> <a class="enum" href="vmxnet3.h.html#VMXNET3_CMD_GET_PERM_MAC_HI" title='VMXNET3_CMD_GET_PERM_MAC_HI' data-ref="VMXNET3_CMD_GET_PERM_MAC_HI">VMXNET3_CMD_GET_PERM_MAC_HI</a>:</td></tr>
<tr><th id="1647">1647</th><td>        <a class="macro" href="vmxnet_debug.h.html#89" title="do { if (0) { printf(&quot;[%s][CB][%s]: &quot; &quot;Set: Get upper part of permanent MAC&quot; &quot;\n&quot;, &quot;vmxnet3&quot;, __func__); } } while (0)" data-ref="_M/VMW_CBPRN">VMW_CBPRN</a>(<q>"Set: Get upper part of permanent MAC"</q>);</td></tr>
<tr><th id="1648">1648</th><td>        <b>break</b>;</td></tr>
<tr><th id="1649">1649</th><td></td></tr>
<tr><th id="1650">1650</th><td>    <b>case</b> <a class="enum" href="vmxnet3.h.html#VMXNET3_CMD_GET_PERM_MAC_LO" title='VMXNET3_CMD_GET_PERM_MAC_LO' data-ref="VMXNET3_CMD_GET_PERM_MAC_LO">VMXNET3_CMD_GET_PERM_MAC_LO</a>:</td></tr>
<tr><th id="1651">1651</th><td>        <a class="macro" href="vmxnet_debug.h.html#89" title="do { if (0) { printf(&quot;[%s][CB][%s]: &quot; &quot;Set: Get lower part of permanent MAC&quot; &quot;\n&quot;, &quot;vmxnet3&quot;, __func__); } } while (0)" data-ref="_M/VMW_CBPRN">VMW_CBPRN</a>(<q>"Set: Get lower part of permanent MAC"</q>);</td></tr>
<tr><th id="1652">1652</th><td>        <b>break</b>;</td></tr>
<tr><th id="1653">1653</th><td></td></tr>
<tr><th id="1654">1654</th><td>    <b>case</b> <a class="enum" href="vmxnet3.h.html#VMXNET3_CMD_GET_STATS" title='VMXNET3_CMD_GET_STATS' data-ref="VMXNET3_CMD_GET_STATS">VMXNET3_CMD_GET_STATS</a>:</td></tr>
<tr><th id="1655">1655</th><td>        <a class="macro" href="vmxnet_debug.h.html#89" title="do { if (0) { printf(&quot;[%s][CB][%s]: &quot; &quot;Set: Get device statistics&quot; &quot;\n&quot;, &quot;vmxnet3&quot;, __func__); } } while (0)" data-ref="_M/VMW_CBPRN">VMW_CBPRN</a>(<q>"Set: Get device statistics"</q>);</td></tr>
<tr><th id="1656">1656</th><td>        <a class="tu ref" href="#vmxnet3_fill_stats" title='vmxnet3_fill_stats' data-use='c' data-ref="vmxnet3_fill_stats">vmxnet3_fill_stats</a>(<a class="local col2 ref" href="#302s" title='s' data-ref="302s">s</a>);</td></tr>
<tr><th id="1657">1657</th><td>        <b>break</b>;</td></tr>
<tr><th id="1658">1658</th><td></td></tr>
<tr><th id="1659">1659</th><td>    <b>case</b> <a class="enum" href="vmxnet3.h.html#VMXNET3_CMD_ACTIVATE_DEV" title='VMXNET3_CMD_ACTIVATE_DEV' data-ref="VMXNET3_CMD_ACTIVATE_DEV">VMXNET3_CMD_ACTIVATE_DEV</a>:</td></tr>
<tr><th id="1660">1660</th><td>        <a class="macro" href="vmxnet_debug.h.html#89" title="do { if (0) { printf(&quot;[%s][CB][%s]: &quot; &quot;Set: Activating vmxnet3 device&quot; &quot;\n&quot;, &quot;vmxnet3&quot;, __func__); } } while (0)" data-ref="_M/VMW_CBPRN">VMW_CBPRN</a>(<q>"Set: Activating vmxnet3 device"</q>);</td></tr>
<tr><th id="1661">1661</th><td>        <a class="tu ref" href="#vmxnet3_activate_device" title='vmxnet3_activate_device' data-use='c' data-ref="vmxnet3_activate_device">vmxnet3_activate_device</a>(<a class="local col2 ref" href="#302s" title='s' data-ref="302s">s</a>);</td></tr>
<tr><th id="1662">1662</th><td>        <b>break</b>;</td></tr>
<tr><th id="1663">1663</th><td></td></tr>
<tr><th id="1664">1664</th><td>    <b>case</b> <a class="enum" href="vmxnet3.h.html#VMXNET3_CMD_UPDATE_RX_MODE" title='VMXNET3_CMD_UPDATE_RX_MODE' data-ref="VMXNET3_CMD_UPDATE_RX_MODE">VMXNET3_CMD_UPDATE_RX_MODE</a>:</td></tr>
<tr><th id="1665">1665</th><td>        <a class="macro" href="vmxnet_debug.h.html#89" title="do { if (0) { printf(&quot;[%s][CB][%s]: &quot; &quot;Set: Update rx mode&quot; &quot;\n&quot;, &quot;vmxnet3&quot;, __func__); } } while (0)" data-ref="_M/VMW_CBPRN">VMW_CBPRN</a>(<q>"Set: Update rx mode"</q>);</td></tr>
<tr><th id="1666">1666</th><td>        <a class="tu ref" href="#vmxnet3_update_rx_mode" title='vmxnet3_update_rx_mode' data-use='c' data-ref="vmxnet3_update_rx_mode">vmxnet3_update_rx_mode</a>(<a class="local col2 ref" href="#302s" title='s' data-ref="302s">s</a>);</td></tr>
<tr><th id="1667">1667</th><td>        <b>break</b>;</td></tr>
<tr><th id="1668">1668</th><td></td></tr>
<tr><th id="1669">1669</th><td>    <b>case</b> <a class="enum" href="vmxnet3.h.html#VMXNET3_CMD_UPDATE_VLAN_FILTERS" title='VMXNET3_CMD_UPDATE_VLAN_FILTERS' data-ref="VMXNET3_CMD_UPDATE_VLAN_FILTERS">VMXNET3_CMD_UPDATE_VLAN_FILTERS</a>:</td></tr>
<tr><th id="1670">1670</th><td>        <a class="macro" href="vmxnet_debug.h.html#89" title="do { if (0) { printf(&quot;[%s][CB][%s]: &quot; &quot;Set: Update VLAN filters&quot; &quot;\n&quot;, &quot;vmxnet3&quot;, __func__); } } while (0)" data-ref="_M/VMW_CBPRN">VMW_CBPRN</a>(<q>"Set: Update VLAN filters"</q>);</td></tr>
<tr><th id="1671">1671</th><td>        <a class="tu ref" href="#vmxnet3_update_vlan_filters" title='vmxnet3_update_vlan_filters' data-use='c' data-ref="vmxnet3_update_vlan_filters">vmxnet3_update_vlan_filters</a>(<a class="local col2 ref" href="#302s" title='s' data-ref="302s">s</a>);</td></tr>
<tr><th id="1672">1672</th><td>        <b>break</b>;</td></tr>
<tr><th id="1673">1673</th><td></td></tr>
<tr><th id="1674">1674</th><td>    <b>case</b> <a class="enum" href="vmxnet3.h.html#VMXNET3_CMD_UPDATE_MAC_FILTERS" title='VMXNET3_CMD_UPDATE_MAC_FILTERS' data-ref="VMXNET3_CMD_UPDATE_MAC_FILTERS">VMXNET3_CMD_UPDATE_MAC_FILTERS</a>:</td></tr>
<tr><th id="1675">1675</th><td>        <a class="macro" href="vmxnet_debug.h.html#89" title="do { if (0) { printf(&quot;[%s][CB][%s]: &quot; &quot;Set: Update MAC filters&quot; &quot;\n&quot;, &quot;vmxnet3&quot;, __func__); } } while (0)" data-ref="_M/VMW_CBPRN">VMW_CBPRN</a>(<q>"Set: Update MAC filters"</q>);</td></tr>
<tr><th id="1676">1676</th><td>        <a class="tu ref" href="#vmxnet3_update_mcast_filters" title='vmxnet3_update_mcast_filters' data-use='c' data-ref="vmxnet3_update_mcast_filters">vmxnet3_update_mcast_filters</a>(<a class="local col2 ref" href="#302s" title='s' data-ref="302s">s</a>);</td></tr>
<tr><th id="1677">1677</th><td>        <b>break</b>;</td></tr>
<tr><th id="1678">1678</th><td></td></tr>
<tr><th id="1679">1679</th><td>    <b>case</b> <a class="enum" href="vmxnet3.h.html#VMXNET3_CMD_UPDATE_FEATURE" title='VMXNET3_CMD_UPDATE_FEATURE' data-ref="VMXNET3_CMD_UPDATE_FEATURE">VMXNET3_CMD_UPDATE_FEATURE</a>:</td></tr>
<tr><th id="1680">1680</th><td>        <a class="macro" href="vmxnet_debug.h.html#89" title="do { if (0) { printf(&quot;[%s][CB][%s]: &quot; &quot;Set: Update features&quot; &quot;\n&quot;, &quot;vmxnet3&quot;, __func__); } } while (0)" data-ref="_M/VMW_CBPRN">VMW_CBPRN</a>(<q>"Set: Update features"</q>);</td></tr>
<tr><th id="1681">1681</th><td>        <a class="tu ref" href="#vmxnet3_update_features" title='vmxnet3_update_features' data-use='c' data-ref="vmxnet3_update_features">vmxnet3_update_features</a>(<a class="local col2 ref" href="#302s" title='s' data-ref="302s">s</a>);</td></tr>
<tr><th id="1682">1682</th><td>        <b>break</b>;</td></tr>
<tr><th id="1683">1683</th><td></td></tr>
<tr><th id="1684">1684</th><td>    <b>case</b> <a class="enum" href="vmxnet3.h.html#VMXNET3_CMD_UPDATE_PMCFG" title='VMXNET3_CMD_UPDATE_PMCFG' data-ref="VMXNET3_CMD_UPDATE_PMCFG">VMXNET3_CMD_UPDATE_PMCFG</a>:</td></tr>
<tr><th id="1685">1685</th><td>        <a class="macro" href="vmxnet_debug.h.html#89" title="do { if (0) { printf(&quot;[%s][CB][%s]: &quot; &quot;Set: Update power management config&quot; &quot;\n&quot;, &quot;vmxnet3&quot;, __func__); } } while (0)" data-ref="_M/VMW_CBPRN">VMW_CBPRN</a>(<q>"Set: Update power management config"</q>);</td></tr>
<tr><th id="1686">1686</th><td>        <a class="tu ref" href="#vmxnet3_update_pm_state" title='vmxnet3_update_pm_state' data-use='c' data-ref="vmxnet3_update_pm_state">vmxnet3_update_pm_state</a>(<a class="local col2 ref" href="#302s" title='s' data-ref="302s">s</a>);</td></tr>
<tr><th id="1687">1687</th><td>        <b>break</b>;</td></tr>
<tr><th id="1688">1688</th><td></td></tr>
<tr><th id="1689">1689</th><td>    <b>case</b> <a class="enum" href="vmxnet3.h.html#VMXNET3_CMD_GET_LINK" title='VMXNET3_CMD_GET_LINK' data-ref="VMXNET3_CMD_GET_LINK">VMXNET3_CMD_GET_LINK</a>:</td></tr>
<tr><th id="1690">1690</th><td>        <a class="macro" href="vmxnet_debug.h.html#89" title="do { if (0) { printf(&quot;[%s][CB][%s]: &quot; &quot;Set: Get link&quot; &quot;\n&quot;, &quot;vmxnet3&quot;, __func__); } } while (0)" data-ref="_M/VMW_CBPRN">VMW_CBPRN</a>(<q>"Set: Get link"</q>);</td></tr>
<tr><th id="1691">1691</th><td>        <b>break</b>;</td></tr>
<tr><th id="1692">1692</th><td></td></tr>
<tr><th id="1693">1693</th><td>    <b>case</b> <a class="enum" href="vmxnet3.h.html#VMXNET3_CMD_RESET_DEV" title='VMXNET3_CMD_RESET_DEV' data-ref="VMXNET3_CMD_RESET_DEV">VMXNET3_CMD_RESET_DEV</a>:</td></tr>
<tr><th id="1694">1694</th><td>        <a class="macro" href="vmxnet_debug.h.html#89" title="do { if (0) { printf(&quot;[%s][CB][%s]: &quot; &quot;Set: Reset device&quot; &quot;\n&quot;, &quot;vmxnet3&quot;, __func__); } } while (0)" data-ref="_M/VMW_CBPRN">VMW_CBPRN</a>(<q>"Set: Reset device"</q>);</td></tr>
<tr><th id="1695">1695</th><td>        <a class="tu ref" href="#vmxnet3_reset" title='vmxnet3_reset' data-use='c' data-ref="vmxnet3_reset">vmxnet3_reset</a>(<a class="local col2 ref" href="#302s" title='s' data-ref="302s">s</a>);</td></tr>
<tr><th id="1696">1696</th><td>        <b>break</b>;</td></tr>
<tr><th id="1697">1697</th><td></td></tr>
<tr><th id="1698">1698</th><td>    <b>case</b> <a class="enum" href="vmxnet3.h.html#VMXNET3_CMD_QUIESCE_DEV" title='VMXNET3_CMD_QUIESCE_DEV' data-ref="VMXNET3_CMD_QUIESCE_DEV">VMXNET3_CMD_QUIESCE_DEV</a>:</td></tr>
<tr><th id="1699">1699</th><td>        <a class="macro" href="vmxnet_debug.h.html#89" title="do { if (0) { printf(&quot;[%s][CB][%s]: &quot; &quot;Set: VMXNET3_CMD_QUIESCE_DEV - deactivate the device&quot; &quot;\n&quot;, &quot;vmxnet3&quot;, __func__); } } while (0)" data-ref="_M/VMW_CBPRN">VMW_CBPRN</a>(<q>"Set: VMXNET3_CMD_QUIESCE_DEV - deactivate the device"</q>);</td></tr>
<tr><th id="1700">1700</th><td>        <a class="tu ref" href="#vmxnet3_deactivate_device" title='vmxnet3_deactivate_device' data-use='c' data-ref="vmxnet3_deactivate_device">vmxnet3_deactivate_device</a>(<a class="local col2 ref" href="#302s" title='s' data-ref="302s">s</a>);</td></tr>
<tr><th id="1701">1701</th><td>        <b>break</b>;</td></tr>
<tr><th id="1702">1702</th><td></td></tr>
<tr><th id="1703">1703</th><td>    <b>case</b> <a class="enum" href="vmxnet3.h.html#VMXNET3_CMD_GET_CONF_INTR" title='VMXNET3_CMD_GET_CONF_INTR' data-ref="VMXNET3_CMD_GET_CONF_INTR">VMXNET3_CMD_GET_CONF_INTR</a>:</td></tr>
<tr><th id="1704">1704</th><td>        <a class="macro" href="vmxnet_debug.h.html#89" title="do { if (0) { printf(&quot;[%s][CB][%s]: &quot; &quot;Set: VMXNET3_CMD_GET_CONF_INTR - interrupt configuration&quot; &quot;\n&quot;, &quot;vmxnet3&quot;, __func__); } } while (0)" data-ref="_M/VMW_CBPRN">VMW_CBPRN</a>(<q>"Set: VMXNET3_CMD_GET_CONF_INTR - interrupt configuration"</q>);</td></tr>
<tr><th id="1705">1705</th><td>        <b>break</b>;</td></tr>
<tr><th id="1706">1706</th><td></td></tr>
<tr><th id="1707">1707</th><td>    <b>case</b> <a class="enum" href="vmxnet3.h.html#VMXNET3_CMD_GET_ADAPTIVE_RING_INFO" title='VMXNET3_CMD_GET_ADAPTIVE_RING_INFO' data-ref="VMXNET3_CMD_GET_ADAPTIVE_RING_INFO">VMXNET3_CMD_GET_ADAPTIVE_RING_INFO</a>:</td></tr>
<tr><th id="1708">1708</th><td>        <a class="macro" href="vmxnet_debug.h.html#89" title="do { if (0) { printf(&quot;[%s][CB][%s]: &quot; &quot;Set: VMXNET3_CMD_GET_ADAPTIVE_RING_INFO - &quot; &quot;adaptive ring info flags&quot; &quot;\n&quot;, &quot;vmxnet3&quot;, __func__); } } while (0)" data-ref="_M/VMW_CBPRN">VMW_CBPRN</a>(<q>"Set: VMXNET3_CMD_GET_ADAPTIVE_RING_INFO - "</q></td></tr>
<tr><th id="1709">1709</th><td>                  <q>"adaptive ring info flags"</q>);</td></tr>
<tr><th id="1710">1710</th><td>        <b>break</b>;</td></tr>
<tr><th id="1711">1711</th><td></td></tr>
<tr><th id="1712">1712</th><td>    <b>case</b> <a class="enum" href="vmxnet3.h.html#VMXNET3_CMD_GET_DID_LO" title='VMXNET3_CMD_GET_DID_LO' data-ref="VMXNET3_CMD_GET_DID_LO">VMXNET3_CMD_GET_DID_LO</a>:</td></tr>
<tr><th id="1713">1713</th><td>        <a class="macro" href="vmxnet_debug.h.html#89" title="do { if (0) { printf(&quot;[%s][CB][%s]: &quot; &quot;Set: Get lower part of device ID&quot; &quot;\n&quot;, &quot;vmxnet3&quot;, __func__); } } while (0)" data-ref="_M/VMW_CBPRN">VMW_CBPRN</a>(<q>"Set: Get lower part of device ID"</q>);</td></tr>
<tr><th id="1714">1714</th><td>        <b>break</b>;</td></tr>
<tr><th id="1715">1715</th><td></td></tr>
<tr><th id="1716">1716</th><td>    <b>case</b> <a class="enum" href="vmxnet3.h.html#VMXNET3_CMD_GET_DID_HI" title='VMXNET3_CMD_GET_DID_HI' data-ref="VMXNET3_CMD_GET_DID_HI">VMXNET3_CMD_GET_DID_HI</a>:</td></tr>
<tr><th id="1717">1717</th><td>        <a class="macro" href="vmxnet_debug.h.html#89" title="do { if (0) { printf(&quot;[%s][CB][%s]: &quot; &quot;Set: Get upper part of device ID&quot; &quot;\n&quot;, &quot;vmxnet3&quot;, __func__); } } while (0)" data-ref="_M/VMW_CBPRN">VMW_CBPRN</a>(<q>"Set: Get upper part of device ID"</q>);</td></tr>
<tr><th id="1718">1718</th><td>        <b>break</b>;</td></tr>
<tr><th id="1719">1719</th><td></td></tr>
<tr><th id="1720">1720</th><td>    <b>case</b> <a class="enum" href="vmxnet3.h.html#VMXNET3_CMD_GET_DEV_EXTRA_INFO" title='VMXNET3_CMD_GET_DEV_EXTRA_INFO' data-ref="VMXNET3_CMD_GET_DEV_EXTRA_INFO">VMXNET3_CMD_GET_DEV_EXTRA_INFO</a>:</td></tr>
<tr><th id="1721">1721</th><td>        <a class="macro" href="vmxnet_debug.h.html#89" title="do { if (0) { printf(&quot;[%s][CB][%s]: &quot; &quot;Set: Get device extra info&quot; &quot;\n&quot;, &quot;vmxnet3&quot;, __func__); } } while (0)" data-ref="_M/VMW_CBPRN">VMW_CBPRN</a>(<q>"Set: Get device extra info"</q>);</td></tr>
<tr><th id="1722">1722</th><td>        <b>break</b>;</td></tr>
<tr><th id="1723">1723</th><td></td></tr>
<tr><th id="1724">1724</th><td>    <b>default</b>:</td></tr>
<tr><th id="1725">1725</th><td>        <a class="macro" href="vmxnet_debug.h.html#89" title="do { if (0) { printf(&quot;[%s][CB][%s]: &quot; &quot;Received unknown command: %&quot; &quot;l&quot; &quot;x&quot; &quot;\n&quot;, &quot;vmxnet3&quot;, __func__, cmd); } } while (0)" data-ref="_M/VMW_CBPRN">VMW_CBPRN</a>(<q>"Received unknown command: %"</q> <a class="macro" href="../../../include/inttypes.h.html#121" title="&quot;l&quot; &quot;x&quot;" data-ref="_M/PRIx64">PRIx64</a>, <a class="local col3 ref" href="#303cmd" title='cmd' data-ref="303cmd">cmd</a>);</td></tr>
<tr><th id="1726">1726</th><td>        <b>break</b>;</td></tr>
<tr><th id="1727">1727</th><td>    }</td></tr>
<tr><th id="1728">1728</th><td>}</td></tr>
<tr><th id="1729">1729</th><td></td></tr>
<tr><th id="1730">1730</th><td><em>static</em> <a class="typedef" href="../../../include/stdint.h.html#uint64_t" title='uint64_t' data-type='unsigned long' data-ref="uint64_t">uint64_t</a> <dfn class="tu decl def" id="vmxnet3_get_command_status" title='vmxnet3_get_command_status' data-type='uint64_t vmxnet3_get_command_status(VMXNET3State * s)' data-ref="vmxnet3_get_command_status">vmxnet3_get_command_status</dfn>(<a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a> *<dfn class="local col4 decl" id="304s" title='s' data-type='VMXNET3State *' data-ref="304s">s</dfn>)</td></tr>
<tr><th id="1731">1731</th><td>{</td></tr>
<tr><th id="1732">1732</th><td>    <a class="typedef" href="../../../include/stdint.h.html#uint64_t" title='uint64_t' data-type='unsigned long' data-ref="uint64_t">uint64_t</a> <dfn class="local col5 decl" id="305ret" title='ret' data-type='uint64_t' data-ref="305ret">ret</dfn>;</td></tr>
<tr><th id="1733">1733</th><td></td></tr>
<tr><th id="1734">1734</th><td>    <b>switch</b> (<a class="local col4 ref" href="#304s" title='s' data-ref="304s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::last_command" title='(anonymous struct)::last_command' data-use='r' data-ref="(anonymous)::last_command">last_command</a>) {</td></tr>
<tr><th id="1735">1735</th><td>    <b>case</b> <a class="enum" href="vmxnet3.h.html#VMXNET3_CMD_ACTIVATE_DEV" title='VMXNET3_CMD_ACTIVATE_DEV' data-ref="VMXNET3_CMD_ACTIVATE_DEV">VMXNET3_CMD_ACTIVATE_DEV</a>:</td></tr>
<tr><th id="1736">1736</th><td>        <a class="local col5 ref" href="#305ret" title='ret' data-ref="305ret">ret</a> = (<a class="local col4 ref" href="#304s" title='s' data-ref="304s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::device_active" title='(anonymous struct)::device_active' data-use='r' data-ref="(anonymous)::device_active">device_active</a>) ? <var>0</var> : <var>1</var>;</td></tr>
<tr><th id="1737">1737</th><td>        <a class="macro" href="vmxnet_debug.h.html#129" title="do { if (0) { printf(&quot;[%s][CF][%s]: &quot; &quot;Device active: %&quot; &quot;l&quot; &quot;x&quot; &quot;\n&quot;, &quot;vmxnet3&quot;, __func__, ret); } } while (0)" data-ref="_M/VMW_CFPRN">VMW_CFPRN</a>(<q>"Device active: %"</q> <a class="macro" href="../../../include/inttypes.h.html#121" title="&quot;l&quot; &quot;x&quot;" data-ref="_M/PRIx64">PRIx64</a>, <a class="local col5 ref" href="#305ret" title='ret' data-ref="305ret">ret</a>);</td></tr>
<tr><th id="1738">1738</th><td>        <b>break</b>;</td></tr>
<tr><th id="1739">1739</th><td></td></tr>
<tr><th id="1740">1740</th><td>    <b>case</b> <a class="enum" href="vmxnet3.h.html#VMXNET3_CMD_RESET_DEV" title='VMXNET3_CMD_RESET_DEV' data-ref="VMXNET3_CMD_RESET_DEV">VMXNET3_CMD_RESET_DEV</a>:</td></tr>
<tr><th id="1741">1741</th><td>    <b>case</b> <a class="enum" href="vmxnet3.h.html#VMXNET3_CMD_QUIESCE_DEV" title='VMXNET3_CMD_QUIESCE_DEV' data-ref="VMXNET3_CMD_QUIESCE_DEV">VMXNET3_CMD_QUIESCE_DEV</a>:</td></tr>
<tr><th id="1742">1742</th><td>    <b>case</b> <a class="enum" href="vmxnet3.h.html#VMXNET3_CMD_GET_QUEUE_STATUS" title='VMXNET3_CMD_GET_QUEUE_STATUS' data-ref="VMXNET3_CMD_GET_QUEUE_STATUS">VMXNET3_CMD_GET_QUEUE_STATUS</a>:</td></tr>
<tr><th id="1743">1743</th><td>    <b>case</b> <a class="enum" href="vmxnet3.h.html#VMXNET3_CMD_GET_DEV_EXTRA_INFO" title='VMXNET3_CMD_GET_DEV_EXTRA_INFO' data-ref="VMXNET3_CMD_GET_DEV_EXTRA_INFO">VMXNET3_CMD_GET_DEV_EXTRA_INFO</a>:</td></tr>
<tr><th id="1744">1744</th><td>        <a class="local col5 ref" href="#305ret" title='ret' data-ref="305ret">ret</a> = <var>0</var>;</td></tr>
<tr><th id="1745">1745</th><td>        <b>break</b>;</td></tr>
<tr><th id="1746">1746</th><td></td></tr>
<tr><th id="1747">1747</th><td>    <b>case</b> <a class="enum" href="vmxnet3.h.html#VMXNET3_CMD_GET_LINK" title='VMXNET3_CMD_GET_LINK' data-ref="VMXNET3_CMD_GET_LINK">VMXNET3_CMD_GET_LINK</a>:</td></tr>
<tr><th id="1748">1748</th><td>        <a class="local col5 ref" href="#305ret" title='ret' data-ref="305ret">ret</a> = <a class="local col4 ref" href="#304s" title='s' data-ref="304s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::link_status_and_speed" title='(anonymous struct)::link_status_and_speed' data-use='r' data-ref="(anonymous)::link_status_and_speed">link_status_and_speed</a>;</td></tr>
<tr><th id="1749">1749</th><td>        <a class="macro" href="vmxnet_debug.h.html#129" title="do { if (0) { printf(&quot;[%s][CF][%s]: &quot; &quot;Link and speed: %&quot; &quot;l&quot; &quot;x&quot; &quot;\n&quot;, &quot;vmxnet3&quot;, __func__, ret); } } while (0)" data-ref="_M/VMW_CFPRN">VMW_CFPRN</a>(<q>"Link and speed: %"</q> <a class="macro" href="../../../include/inttypes.h.html#121" title="&quot;l&quot; &quot;x&quot;" data-ref="_M/PRIx64">PRIx64</a>, <a class="local col5 ref" href="#305ret" title='ret' data-ref="305ret">ret</a>);</td></tr>
<tr><th id="1750">1750</th><td>        <b>break</b>;</td></tr>
<tr><th id="1751">1751</th><td></td></tr>
<tr><th id="1752">1752</th><td>    <b>case</b> <a class="enum" href="vmxnet3.h.html#VMXNET3_CMD_GET_PERM_MAC_LO" title='VMXNET3_CMD_GET_PERM_MAC_LO' data-ref="VMXNET3_CMD_GET_PERM_MAC_LO">VMXNET3_CMD_GET_PERM_MAC_LO</a>:</td></tr>
<tr><th id="1753">1753</th><td>        <a class="local col5 ref" href="#305ret" title='ret' data-ref="305ret">ret</a> = <a class="tu ref" href="#vmxnet3_get_mac_low" title='vmxnet3_get_mac_low' data-use='c' data-ref="vmxnet3_get_mac_low">vmxnet3_get_mac_low</a>(&amp;<a class="local col4 ref" href="#304s" title='s' data-ref="304s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::perm_mac" title='(anonymous struct)::perm_mac' data-use='a' data-ref="(anonymous)::perm_mac">perm_mac</a>);</td></tr>
<tr><th id="1754">1754</th><td>        <b>break</b>;</td></tr>
<tr><th id="1755">1755</th><td></td></tr>
<tr><th id="1756">1756</th><td>    <b>case</b> <a class="enum" href="vmxnet3.h.html#VMXNET3_CMD_GET_PERM_MAC_HI" title='VMXNET3_CMD_GET_PERM_MAC_HI' data-ref="VMXNET3_CMD_GET_PERM_MAC_HI">VMXNET3_CMD_GET_PERM_MAC_HI</a>:</td></tr>
<tr><th id="1757">1757</th><td>        <a class="local col5 ref" href="#305ret" title='ret' data-ref="305ret">ret</a> = <a class="tu ref" href="#vmxnet3_get_mac_high" title='vmxnet3_get_mac_high' data-use='c' data-ref="vmxnet3_get_mac_high">vmxnet3_get_mac_high</a>(&amp;<a class="local col4 ref" href="#304s" title='s' data-ref="304s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::perm_mac" title='(anonymous struct)::perm_mac' data-use='a' data-ref="(anonymous)::perm_mac">perm_mac</a>);</td></tr>
<tr><th id="1758">1758</th><td>        <b>break</b>;</td></tr>
<tr><th id="1759">1759</th><td></td></tr>
<tr><th id="1760">1760</th><td>    <b>case</b> <a class="enum" href="vmxnet3.h.html#VMXNET3_CMD_GET_CONF_INTR" title='VMXNET3_CMD_GET_CONF_INTR' data-ref="VMXNET3_CMD_GET_CONF_INTR">VMXNET3_CMD_GET_CONF_INTR</a>:</td></tr>
<tr><th id="1761">1761</th><td>        <a class="local col5 ref" href="#305ret" title='ret' data-ref="305ret">ret</a> = <a class="tu ref" href="#vmxnet3_get_interrupt_config" title='vmxnet3_get_interrupt_config' data-use='c' data-ref="vmxnet3_get_interrupt_config">vmxnet3_get_interrupt_config</a>(<a class="local col4 ref" href="#304s" title='s' data-ref="304s">s</a>);</td></tr>
<tr><th id="1762">1762</th><td>        <b>break</b>;</td></tr>
<tr><th id="1763">1763</th><td></td></tr>
<tr><th id="1764">1764</th><td>    <b>case</b> <a class="enum" href="vmxnet3.h.html#VMXNET3_CMD_GET_ADAPTIVE_RING_INFO" title='VMXNET3_CMD_GET_ADAPTIVE_RING_INFO' data-ref="VMXNET3_CMD_GET_ADAPTIVE_RING_INFO">VMXNET3_CMD_GET_ADAPTIVE_RING_INFO</a>:</td></tr>
<tr><th id="1765">1765</th><td>        <a class="local col5 ref" href="#305ret" title='ret' data-ref="305ret">ret</a> = <a class="macro" href="vmxnet3.h.html#206" title="1" data-ref="_M/VMXNET3_DISABLE_ADAPTIVE_RING">VMXNET3_DISABLE_ADAPTIVE_RING</a>;</td></tr>
<tr><th id="1766">1766</th><td>        <b>break</b>;</td></tr>
<tr><th id="1767">1767</th><td></td></tr>
<tr><th id="1768">1768</th><td>    <b>case</b> <a class="enum" href="vmxnet3.h.html#VMXNET3_CMD_GET_DID_LO" title='VMXNET3_CMD_GET_DID_LO' data-ref="VMXNET3_CMD_GET_DID_LO">VMXNET3_CMD_GET_DID_LO</a>:</td></tr>
<tr><th id="1769">1769</th><td>        <a class="local col5 ref" href="#305ret" title='ret' data-ref="305ret">ret</a> = <a class="macro" href="../../include/hw/pci/pci.h.html#66" title="0x07B0" data-ref="_M/PCI_DEVICE_ID_VMWARE_VMXNET3">PCI_DEVICE_ID_VMWARE_VMXNET3</a>;</td></tr>
<tr><th id="1770">1770</th><td>        <b>break</b>;</td></tr>
<tr><th id="1771">1771</th><td></td></tr>
<tr><th id="1772">1772</th><td>    <b>case</b> <a class="enum" href="vmxnet3.h.html#VMXNET3_CMD_GET_DID_HI" title='VMXNET3_CMD_GET_DID_HI' data-ref="VMXNET3_CMD_GET_DID_HI">VMXNET3_CMD_GET_DID_HI</a>:</td></tr>
<tr><th id="1773">1773</th><td>        <a class="local col5 ref" href="#305ret" title='ret' data-ref="305ret">ret</a> = <a class="macro" href="#72" title="0x1" data-ref="_M/VMXNET3_DEVICE_REVISION">VMXNET3_DEVICE_REVISION</a>;</td></tr>
<tr><th id="1774">1774</th><td>        <b>break</b>;</td></tr>
<tr><th id="1775">1775</th><td></td></tr>
<tr><th id="1776">1776</th><td>    <b>default</b>:</td></tr>
<tr><th id="1777">1777</th><td>        <a class="macro" href="vmxnet_debug.h.html#105" title="do { if (1) { printf(&quot;[%s][WR][%s]: &quot; &quot;Received request for unknown command: %x&quot; &quot;\n&quot;, &quot;vmxnet3&quot;, __func__, s-&gt;last_command); } } while (0)" data-ref="_M/VMW_WRPRN">VMW_WRPRN</a>(<q>"Received request for unknown command: %x"</q>, <a class="local col4 ref" href="#304s" title='s' data-ref="304s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::last_command" title='(anonymous struct)::last_command' data-use='r' data-ref="(anonymous)::last_command">last_command</a>);</td></tr>
<tr><th id="1778">1778</th><td>        <a class="local col5 ref" href="#305ret" title='ret' data-ref="305ret">ret</a> = <var>0</var>;</td></tr>
<tr><th id="1779">1779</th><td>        <b>break</b>;</td></tr>
<tr><th id="1780">1780</th><td>    }</td></tr>
<tr><th id="1781">1781</th><td></td></tr>
<tr><th id="1782">1782</th><td>    <b>return</b> <a class="local col5 ref" href="#305ret" title='ret' data-ref="305ret">ret</a>;</td></tr>
<tr><th id="1783">1783</th><td>}</td></tr>
<tr><th id="1784">1784</th><td></td></tr>
<tr><th id="1785">1785</th><td><em>static</em> <em>void</em> <dfn class="tu decl def" id="vmxnet3_set_events" title='vmxnet3_set_events' data-type='void vmxnet3_set_events(VMXNET3State * s, uint32_t val)' data-ref="vmxnet3_set_events">vmxnet3_set_events</dfn>(<a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a> *<dfn class="local col6 decl" id="306s" title='s' data-type='VMXNET3State *' data-ref="306s">s</dfn>, <a class="typedef" href="../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> <dfn class="local col7 decl" id="307val" title='val' data-type='uint32_t' data-ref="307val">val</dfn>)</td></tr>
<tr><th id="1786">1786</th><td>{</td></tr>
<tr><th id="1787">1787</th><td>    <a class="typedef" href="../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> <dfn class="local col8 decl" id="308events" title='events' data-type='uint32_t' data-ref="308events">events</dfn>;</td></tr>
<tr><th id="1788">1788</th><td>    <a class="typedef" href="../../include/qemu/typedefs.h.html#PCIDevice" title='PCIDevice' data-type='struct PCIDevice' data-ref="PCIDevice">PCIDevice</a> *<dfn class="local col9 decl" id="309d" title='d' data-type='PCIDevice *' data-ref="309d">d</dfn> = <a class="macro" href="../../include/hw/pci/pci.h.html#191" title="((PCIDevice *)object_dynamic_cast_assert(((Object *)((s))), (&quot;pci-device&quot;), &quot;/home/jon/workspace/qemu/hw/net/vmxnet3.c&quot;, 1788, __func__))" data-ref="_M/PCI_DEVICE">PCI_DEVICE</a>(<a class="local col6 ref" href="#306s" title='s' data-ref="306s">s</a>);</td></tr>
<tr><th id="1789">1789</th><td></td></tr>
<tr><th id="1790">1790</th><td>    <a class="macro" href="vmxnet_debug.h.html#89" title="do { if (0) { printf(&quot;[%s][CB][%s]: &quot; &quot;Setting events: 0x%x&quot; &quot;\n&quot;, &quot;vmxnet3&quot;, __func__, val); } } while (0)" data-ref="_M/VMW_CBPRN">VMW_CBPRN</a>(<q>"Setting events: 0x%x"</q>, <a class="local col7 ref" href="#307val" title='val' data-ref="307val">val</a>);</td></tr>
<tr><th id="1791">1791</th><td>    <a class="local col8 ref" href="#308events" title='events' data-ref="308events">events</a> = <a class="macro" href="#112" title="(vmw_shmem_ld32(d, s-&gt;drv_shmem + __builtin_offsetof(struct Vmxnet3_DriverShared, ecr)))" data-ref="_M/VMXNET3_READ_DRV_SHARED32">VMXNET3_READ_DRV_SHARED32</a>(<a class="local col9 ref" href="#309d" title='d' data-ref="309d">d</a>, <a class="local col6 ref" href="#306s" title='s' data-ref="306s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::drv_shmem" title='(anonymous struct)::drv_shmem' data-use='r' data-ref="(anonymous)::drv_shmem">drv_shmem</a>, ecr) | <a class="local col7 ref" href="#307val" title='val' data-ref="307val">val</a>;</td></tr>
<tr><th id="1792">1792</th><td>    <a class="macro" href="#115" title="(vmw_shmem_st32(d, s-&gt;drv_shmem + __builtin_offsetof(struct Vmxnet3_DriverShared, ecr), events))" data-ref="_M/VMXNET3_WRITE_DRV_SHARED32">VMXNET3_WRITE_DRV_SHARED32</a>(<a class="local col9 ref" href="#309d" title='d' data-ref="309d">d</a>, <a class="local col6 ref" href="#306s" title='s' data-ref="306s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::drv_shmem" title='(anonymous struct)::drv_shmem' data-use='r' data-ref="(anonymous)::drv_shmem">drv_shmem</a>, ecr, <a class="local col8 ref" href="#308events" title='events' data-ref="308events">events</a>);</td></tr>
<tr><th id="1793">1793</th><td>}</td></tr>
<tr><th id="1794">1794</th><td></td></tr>
<tr><th id="1795">1795</th><td><em>static</em> <em>void</em> <dfn class="tu decl def" id="vmxnet3_ack_events" title='vmxnet3_ack_events' data-type='void vmxnet3_ack_events(VMXNET3State * s, uint32_t val)' data-ref="vmxnet3_ack_events">vmxnet3_ack_events</dfn>(<a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a> *<dfn class="local col0 decl" id="310s" title='s' data-type='VMXNET3State *' data-ref="310s">s</dfn>, <a class="typedef" href="../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> <dfn class="local col1 decl" id="311val" title='val' data-type='uint32_t' data-ref="311val">val</dfn>)</td></tr>
<tr><th id="1796">1796</th><td>{</td></tr>
<tr><th id="1797">1797</th><td>    <a class="typedef" href="../../include/qemu/typedefs.h.html#PCIDevice" title='PCIDevice' data-type='struct PCIDevice' data-ref="PCIDevice">PCIDevice</a> *<dfn class="local col2 decl" id="312d" title='d' data-type='PCIDevice *' data-ref="312d">d</dfn> = <a class="macro" href="../../include/hw/pci/pci.h.html#191" title="((PCIDevice *)object_dynamic_cast_assert(((Object *)((s))), (&quot;pci-device&quot;), &quot;/home/jon/workspace/qemu/hw/net/vmxnet3.c&quot;, 1797, __func__))" data-ref="_M/PCI_DEVICE">PCI_DEVICE</a>(<a class="local col0 ref" href="#310s" title='s' data-ref="310s">s</a>);</td></tr>
<tr><th id="1798">1798</th><td>    <a class="typedef" href="../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> <dfn class="local col3 decl" id="313events" title='events' data-type='uint32_t' data-ref="313events">events</dfn>;</td></tr>
<tr><th id="1799">1799</th><td></td></tr>
<tr><th id="1800">1800</th><td>    <a class="macro" href="vmxnet_debug.h.html#89" title="do { if (0) { printf(&quot;[%s][CB][%s]: &quot; &quot;Clearing events: 0x%x&quot; &quot;\n&quot;, &quot;vmxnet3&quot;, __func__, val); } } while (0)" data-ref="_M/VMW_CBPRN">VMW_CBPRN</a>(<q>"Clearing events: 0x%x"</q>, <a class="local col1 ref" href="#311val" title='val' data-ref="311val">val</a>);</td></tr>
<tr><th id="1801">1801</th><td>    <a class="local col3 ref" href="#313events" title='events' data-ref="313events">events</a> = <a class="macro" href="#112" title="(vmw_shmem_ld32(d, s-&gt;drv_shmem + __builtin_offsetof(struct Vmxnet3_DriverShared, ecr)))" data-ref="_M/VMXNET3_READ_DRV_SHARED32">VMXNET3_READ_DRV_SHARED32</a>(<a class="local col2 ref" href="#312d" title='d' data-ref="312d">d</a>, <a class="local col0 ref" href="#310s" title='s' data-ref="310s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::drv_shmem" title='(anonymous struct)::drv_shmem' data-use='r' data-ref="(anonymous)::drv_shmem">drv_shmem</a>, ecr) &amp; ~<a class="local col1 ref" href="#311val" title='val' data-ref="311val">val</a>;</td></tr>
<tr><th id="1802">1802</th><td>    <a class="macro" href="#115" title="(vmw_shmem_st32(d, s-&gt;drv_shmem + __builtin_offsetof(struct Vmxnet3_DriverShared, ecr), events))" data-ref="_M/VMXNET3_WRITE_DRV_SHARED32">VMXNET3_WRITE_DRV_SHARED32</a>(<a class="local col2 ref" href="#312d" title='d' data-ref="312d">d</a>, <a class="local col0 ref" href="#310s" title='s' data-ref="310s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::drv_shmem" title='(anonymous struct)::drv_shmem' data-use='r' data-ref="(anonymous)::drv_shmem">drv_shmem</a>, ecr, <a class="local col3 ref" href="#313events" title='events' data-ref="313events">events</a>);</td></tr>
<tr><th id="1803">1803</th><td>}</td></tr>
<tr><th id="1804">1804</th><td></td></tr>
<tr><th id="1805">1805</th><td><em>static</em> <em>void</em></td></tr>
<tr><th id="1806">1806</th><td><dfn class="tu decl def" id="vmxnet3_io_bar1_write" title='vmxnet3_io_bar1_write' data-type='void vmxnet3_io_bar1_write(void * opaque, hwaddr addr, uint64_t val, unsigned int size)' data-ref="vmxnet3_io_bar1_write">vmxnet3_io_bar1_write</dfn>(<em>void</em> *<dfn class="local col4 decl" id="314opaque" title='opaque' data-type='void *' data-ref="314opaque">opaque</dfn>,</td></tr>
<tr><th id="1807">1807</th><td>                      <a class="typedef" href="../../include/exec/hwaddr.h.html#hwaddr" title='hwaddr' data-type='uint64_t' data-ref="hwaddr">hwaddr</a> <dfn class="local col5 decl" id="315addr" title='addr' data-type='hwaddr' data-ref="315addr">addr</dfn>,</td></tr>
<tr><th id="1808">1808</th><td>                      <a class="typedef" href="../../../include/stdint.h.html#uint64_t" title='uint64_t' data-type='unsigned long' data-ref="uint64_t">uint64_t</a> <dfn class="local col6 decl" id="316val" title='val' data-type='uint64_t' data-ref="316val">val</dfn>,</td></tr>
<tr><th id="1809">1809</th><td>                      <em>unsigned</em> <dfn class="local col7 decl" id="317size" title='size' data-type='unsigned int' data-ref="317size">size</dfn>)</td></tr>
<tr><th id="1810">1810</th><td>{</td></tr>
<tr><th id="1811">1811</th><td>    <a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a> *<dfn class="local col8 decl" id="318s" title='s' data-type='VMXNET3State *' data-ref="318s">s</dfn> = <a class="local col4 ref" href="#314opaque" title='opaque' data-ref="314opaque">opaque</a>;</td></tr>
<tr><th id="1812">1812</th><td></td></tr>
<tr><th id="1813">1813</th><td>    <b>switch</b> (<a class="local col5 ref" href="#315addr" title='addr' data-ref="315addr">addr</a>) {</td></tr>
<tr><th id="1814">1814</th><td>    <i>/* Vmxnet3 Revision Report Selection */</i></td></tr>
<tr><th id="1815">1815</th><td>    <b>case</b> <a class="enum" href="vmxnet3.h.html#VMXNET3_REG_VRRS" title='VMXNET3_REG_VRRS' data-ref="VMXNET3_REG_VRRS">VMXNET3_REG_VRRS</a>:</td></tr>
<tr><th id="1816">1816</th><td>        <a class="macro" href="vmxnet_debug.h.html#89" title="do { if (0) { printf(&quot;[%s][CB][%s]: &quot; &quot;Write BAR1 [VMXNET3_REG_VRRS] = %&quot; &quot;l&quot; &quot;x&quot; &quot;, size %d&quot; &quot;\n&quot;, &quot;vmxnet3&quot;, __func__, val, size); } } while (0)" data-ref="_M/VMW_CBPRN">VMW_CBPRN</a>(<q>"Write BAR1 [VMXNET3_REG_VRRS] = %"</q> <a class="macro" href="../../../include/inttypes.h.html#121" title="&quot;l&quot; &quot;x&quot;" data-ref="_M/PRIx64">PRIx64</a> <q>", size %d"</q>,</td></tr>
<tr><th id="1817">1817</th><td>                  <a class="local col6 ref" href="#316val" title='val' data-ref="316val">val</a>, <a class="local col7 ref" href="#317size" title='size' data-ref="317size">size</a>);</td></tr>
<tr><th id="1818">1818</th><td>        <b>break</b>;</td></tr>
<tr><th id="1819">1819</th><td></td></tr>
<tr><th id="1820">1820</th><td>    <i>/* UPT Version Report Selection */</i></td></tr>
<tr><th id="1821">1821</th><td>    <b>case</b> <a class="enum" href="vmxnet3.h.html#VMXNET3_REG_UVRS" title='VMXNET3_REG_UVRS' data-ref="VMXNET3_REG_UVRS">VMXNET3_REG_UVRS</a>:</td></tr>
<tr><th id="1822">1822</th><td>        <a class="macro" href="vmxnet_debug.h.html#89" title="do { if (0) { printf(&quot;[%s][CB][%s]: &quot; &quot;Write BAR1 [VMXNET3_REG_UVRS] = %&quot; &quot;l&quot; &quot;x&quot; &quot;, size %d&quot; &quot;\n&quot;, &quot;vmxnet3&quot;, __func__, val, size); } } while (0)" data-ref="_M/VMW_CBPRN">VMW_CBPRN</a>(<q>"Write BAR1 [VMXNET3_REG_UVRS] = %"</q> <a class="macro" href="../../../include/inttypes.h.html#121" title="&quot;l&quot; &quot;x&quot;" data-ref="_M/PRIx64">PRIx64</a> <q>", size %d"</q>,</td></tr>
<tr><th id="1823">1823</th><td>                  <a class="local col6 ref" href="#316val" title='val' data-ref="316val">val</a>, <a class="local col7 ref" href="#317size" title='size' data-ref="317size">size</a>);</td></tr>
<tr><th id="1824">1824</th><td>        <b>break</b>;</td></tr>
<tr><th id="1825">1825</th><td></td></tr>
<tr><th id="1826">1826</th><td>    <i>/* Driver Shared Address Low */</i></td></tr>
<tr><th id="1827">1827</th><td>    <b>case</b> <a class="enum" href="vmxnet3.h.html#VMXNET3_REG_DSAL" title='VMXNET3_REG_DSAL' data-ref="VMXNET3_REG_DSAL">VMXNET3_REG_DSAL</a>:</td></tr>
<tr><th id="1828">1828</th><td>        <a class="macro" href="vmxnet_debug.h.html#89" title="do { if (0) { printf(&quot;[%s][CB][%s]: &quot; &quot;Write BAR1 [VMXNET3_REG_DSAL] = %&quot; &quot;l&quot; &quot;x&quot; &quot;, size %d&quot; &quot;\n&quot;, &quot;vmxnet3&quot;, __func__, val, size); } } while (0)" data-ref="_M/VMW_CBPRN">VMW_CBPRN</a>(<q>"Write BAR1 [VMXNET3_REG_DSAL] = %"</q> <a class="macro" href="../../../include/inttypes.h.html#121" title="&quot;l&quot; &quot;x&quot;" data-ref="_M/PRIx64">PRIx64</a> <q>", size %d"</q>,</td></tr>
<tr><th id="1829">1829</th><td>                  <a class="local col6 ref" href="#316val" title='val' data-ref="316val">val</a>, <a class="local col7 ref" href="#317size" title='size' data-ref="317size">size</a>);</td></tr>
<tr><th id="1830">1830</th><td>        <i>/*</i></td></tr>
<tr><th id="1831">1831</th><td><i>         * Guest driver will first write the low part of the shared</i></td></tr>
<tr><th id="1832">1832</th><td><i>         * memory address. We save it to temp variable and set the</i></td></tr>
<tr><th id="1833">1833</th><td><i>         * shared address only after we get the high part</i></td></tr>
<tr><th id="1834">1834</th><td><i>         */</i></td></tr>
<tr><th id="1835">1835</th><td>        <b>if</b> (<a class="local col6 ref" href="#316val" title='val' data-ref="316val">val</a> == <var>0</var>) {</td></tr>
<tr><th id="1836">1836</th><td>            <a class="tu ref" href="#vmxnet3_deactivate_device" title='vmxnet3_deactivate_device' data-use='c' data-ref="vmxnet3_deactivate_device">vmxnet3_deactivate_device</a>(<a class="local col8 ref" href="#318s" title='s' data-ref="318s">s</a>);</td></tr>
<tr><th id="1837">1837</th><td>        }</td></tr>
<tr><th id="1838">1838</th><td>        <a class="local col8 ref" href="#318s" title='s' data-ref="318s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::temp_shared_guest_driver_memory" title='(anonymous struct)::temp_shared_guest_driver_memory' data-use='w' data-ref="(anonymous)::temp_shared_guest_driver_memory">temp_shared_guest_driver_memory</a> = <a class="local col6 ref" href="#316val" title='val' data-ref="316val">val</a>;</td></tr>
<tr><th id="1839">1839</th><td>        <a class="local col8 ref" href="#318s" title='s' data-ref="318s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::drv_shmem" title='(anonymous struct)::drv_shmem' data-use='w' data-ref="(anonymous)::drv_shmem">drv_shmem</a> = <var>0</var>;</td></tr>
<tr><th id="1840">1840</th><td>        <b>break</b>;</td></tr>
<tr><th id="1841">1841</th><td></td></tr>
<tr><th id="1842">1842</th><td>    <i>/* Driver Shared Address High */</i></td></tr>
<tr><th id="1843">1843</th><td>    <b>case</b> <a class="enum" href="vmxnet3.h.html#VMXNET3_REG_DSAH" title='VMXNET3_REG_DSAH' data-ref="VMXNET3_REG_DSAH">VMXNET3_REG_DSAH</a>:</td></tr>
<tr><th id="1844">1844</th><td>        <a class="macro" href="vmxnet_debug.h.html#89" title="do { if (0) { printf(&quot;[%s][CB][%s]: &quot; &quot;Write BAR1 [VMXNET3_REG_DSAH] = %&quot; &quot;l&quot; &quot;x&quot; &quot;, size %d&quot; &quot;\n&quot;, &quot;vmxnet3&quot;, __func__, val, size); } } while (0)" data-ref="_M/VMW_CBPRN">VMW_CBPRN</a>(<q>"Write BAR1 [VMXNET3_REG_DSAH] = %"</q> <a class="macro" href="../../../include/inttypes.h.html#121" title="&quot;l&quot; &quot;x&quot;" data-ref="_M/PRIx64">PRIx64</a> <q>", size %d"</q>,</td></tr>
<tr><th id="1845">1845</th><td>                  <a class="local col6 ref" href="#316val" title='val' data-ref="316val">val</a>, <a class="local col7 ref" href="#317size" title='size' data-ref="317size">size</a>);</td></tr>
<tr><th id="1846">1846</th><td>        <i>/*</i></td></tr>
<tr><th id="1847">1847</th><td><i>         * Set the shared memory between guest driver and device.</i></td></tr>
<tr><th id="1848">1848</th><td><i>         * We already should have low address part.</i></td></tr>
<tr><th id="1849">1849</th><td><i>         */</i></td></tr>
<tr><th id="1850">1850</th><td>        <a class="local col8 ref" href="#318s" title='s' data-ref="318s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::drv_shmem" title='(anonymous struct)::drv_shmem' data-use='w' data-ref="(anonymous)::drv_shmem">drv_shmem</a> = <a class="local col8 ref" href="#318s" title='s' data-ref="318s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::temp_shared_guest_driver_memory" title='(anonymous struct)::temp_shared_guest_driver_memory' data-use='r' data-ref="(anonymous)::temp_shared_guest_driver_memory">temp_shared_guest_driver_memory</a> | (<a class="local col6 ref" href="#316val" title='val' data-ref="316val">val</a> &lt;&lt; <var>32</var>);</td></tr>
<tr><th id="1851">1851</th><td>        <b>break</b>;</td></tr>
<tr><th id="1852">1852</th><td></td></tr>
<tr><th id="1853">1853</th><td>    <i>/* Command */</i></td></tr>
<tr><th id="1854">1854</th><td>    <b>case</b> <a class="enum" href="vmxnet3.h.html#VMXNET3_REG_CMD" title='VMXNET3_REG_CMD' data-ref="VMXNET3_REG_CMD">VMXNET3_REG_CMD</a>:</td></tr>
<tr><th id="1855">1855</th><td>        <a class="macro" href="vmxnet_debug.h.html#89" title="do { if (0) { printf(&quot;[%s][CB][%s]: &quot; &quot;Write BAR1 [VMXNET3_REG_CMD] = %&quot; &quot;l&quot; &quot;x&quot; &quot;, size %d&quot; &quot;\n&quot;, &quot;vmxnet3&quot;, __func__, val, size); } } while (0)" data-ref="_M/VMW_CBPRN">VMW_CBPRN</a>(<q>"Write BAR1 [VMXNET3_REG_CMD] = %"</q> <a class="macro" href="../../../include/inttypes.h.html#121" title="&quot;l&quot; &quot;x&quot;" data-ref="_M/PRIx64">PRIx64</a> <q>", size %d"</q>,</td></tr>
<tr><th id="1856">1856</th><td>                  <a class="local col6 ref" href="#316val" title='val' data-ref="316val">val</a>, <a class="local col7 ref" href="#317size" title='size' data-ref="317size">size</a>);</td></tr>
<tr><th id="1857">1857</th><td>        <a class="tu ref" href="#vmxnet3_handle_command" title='vmxnet3_handle_command' data-use='c' data-ref="vmxnet3_handle_command">vmxnet3_handle_command</a>(<a class="local col8 ref" href="#318s" title='s' data-ref="318s">s</a>, <a class="local col6 ref" href="#316val" title='val' data-ref="316val">val</a>);</td></tr>
<tr><th id="1858">1858</th><td>        <b>break</b>;</td></tr>
<tr><th id="1859">1859</th><td></td></tr>
<tr><th id="1860">1860</th><td>    <i>/* MAC Address Low */</i></td></tr>
<tr><th id="1861">1861</th><td>    <b>case</b> <a class="enum" href="vmxnet3.h.html#VMXNET3_REG_MACL" title='VMXNET3_REG_MACL' data-ref="VMXNET3_REG_MACL">VMXNET3_REG_MACL</a>:</td></tr>
<tr><th id="1862">1862</th><td>        <a class="macro" href="vmxnet_debug.h.html#89" title="do { if (0) { printf(&quot;[%s][CB][%s]: &quot; &quot;Write BAR1 [VMXNET3_REG_MACL] = %&quot; &quot;l&quot; &quot;x&quot; &quot;, size %d&quot; &quot;\n&quot;, &quot;vmxnet3&quot;, __func__, val, size); } } while (0)" data-ref="_M/VMW_CBPRN">VMW_CBPRN</a>(<q>"Write BAR1 [VMXNET3_REG_MACL] = %"</q> <a class="macro" href="../../../include/inttypes.h.html#121" title="&quot;l&quot; &quot;x&quot;" data-ref="_M/PRIx64">PRIx64</a> <q>", size %d"</q>,</td></tr>
<tr><th id="1863">1863</th><td>                  <a class="local col6 ref" href="#316val" title='val' data-ref="316val">val</a>, <a class="local col7 ref" href="#317size" title='size' data-ref="317size">size</a>);</td></tr>
<tr><th id="1864">1864</th><td>        <a class="local col8 ref" href="#318s" title='s' data-ref="318s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::temp_mac" title='(anonymous struct)::temp_mac' data-use='w' data-ref="(anonymous)::temp_mac">temp_mac</a> = <a class="local col6 ref" href="#316val" title='val' data-ref="316val">val</a>;</td></tr>
<tr><th id="1865">1865</th><td>        <b>break</b>;</td></tr>
<tr><th id="1866">1866</th><td></td></tr>
<tr><th id="1867">1867</th><td>    <i>/* MAC Address High */</i></td></tr>
<tr><th id="1868">1868</th><td>    <b>case</b> <a class="enum" href="vmxnet3.h.html#VMXNET3_REG_MACH" title='VMXNET3_REG_MACH' data-ref="VMXNET3_REG_MACH">VMXNET3_REG_MACH</a>:</td></tr>
<tr><th id="1869">1869</th><td>        <a class="macro" href="vmxnet_debug.h.html#89" title="do { if (0) { printf(&quot;[%s][CB][%s]: &quot; &quot;Write BAR1 [VMXNET3_REG_MACH] = %&quot; &quot;l&quot; &quot;x&quot; &quot;, size %d&quot; &quot;\n&quot;, &quot;vmxnet3&quot;, __func__, val, size); } } while (0)" data-ref="_M/VMW_CBPRN">VMW_CBPRN</a>(<q>"Write BAR1 [VMXNET3_REG_MACH] = %"</q> <a class="macro" href="../../../include/inttypes.h.html#121" title="&quot;l&quot; &quot;x&quot;" data-ref="_M/PRIx64">PRIx64</a> <q>", size %d"</q>,</td></tr>
<tr><th id="1870">1870</th><td>                  <a class="local col6 ref" href="#316val" title='val' data-ref="316val">val</a>, <a class="local col7 ref" href="#317size" title='size' data-ref="317size">size</a>);</td></tr>
<tr><th id="1871">1871</th><td>        <a class="tu ref" href="#vmxnet3_set_variable_mac" title='vmxnet3_set_variable_mac' data-use='c' data-ref="vmxnet3_set_variable_mac">vmxnet3_set_variable_mac</a>(<a class="local col8 ref" href="#318s" title='s' data-ref="318s">s</a>, <a class="local col6 ref" href="#316val" title='val' data-ref="316val">val</a>, <a class="local col8 ref" href="#318s" title='s' data-ref="318s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::temp_mac" title='(anonymous struct)::temp_mac' data-use='r' data-ref="(anonymous)::temp_mac">temp_mac</a>);</td></tr>
<tr><th id="1872">1872</th><td>        <b>break</b>;</td></tr>
<tr><th id="1873">1873</th><td></td></tr>
<tr><th id="1874">1874</th><td>    <i>/* Interrupt Cause Register */</i></td></tr>
<tr><th id="1875">1875</th><td>    <b>case</b> <a class="enum" href="vmxnet3.h.html#VMXNET3_REG_ICR" title='VMXNET3_REG_ICR' data-ref="VMXNET3_REG_ICR">VMXNET3_REG_ICR</a>:</td></tr>
<tr><th id="1876">1876</th><td>        <a class="macro" href="vmxnet_debug.h.html#89" title="do { if (0) { printf(&quot;[%s][CB][%s]: &quot; &quot;Write BAR1 [VMXNET3_REG_ICR] = %&quot; &quot;l&quot; &quot;x&quot; &quot;, size %d&quot; &quot;\n&quot;, &quot;vmxnet3&quot;, __func__, val, size); } } while (0)" data-ref="_M/VMW_CBPRN">VMW_CBPRN</a>(<q>"Write BAR1 [VMXNET3_REG_ICR] = %"</q> <a class="macro" href="../../../include/inttypes.h.html#121" title="&quot;l&quot; &quot;x&quot;" data-ref="_M/PRIx64">PRIx64</a> <q>", size %d"</q>,</td></tr>
<tr><th id="1877">1877</th><td>                  <a class="local col6 ref" href="#316val" title='val' data-ref="316val">val</a>, <a class="local col7 ref" href="#317size" title='size' data-ref="317size">size</a>);</td></tr>
<tr><th id="1878">1878</th><td>        <a class="macro" href="../../../include/glib-2.0/glib/gtestutils.h.html#114" title="do { g_assertion_message_expr (((gchar*) 0), &quot;/home/jon/workspace/qemu/hw/net/vmxnet3.c&quot;, 1878, ((const char*) (__func__)), ((void*)0)); } while (0)" data-ref="_M/g_assert_not_reached">g_assert_not_reached</a>();</td></tr>
<tr><th id="1879">1879</th><td>        <b>break</b>;</td></tr>
<tr><th id="1880">1880</th><td></td></tr>
<tr><th id="1881">1881</th><td>    <i>/* Event Cause Register */</i></td></tr>
<tr><th id="1882">1882</th><td>    <b>case</b> <a class="enum" href="vmxnet3.h.html#VMXNET3_REG_ECR" title='VMXNET3_REG_ECR' data-ref="VMXNET3_REG_ECR">VMXNET3_REG_ECR</a>:</td></tr>
<tr><th id="1883">1883</th><td>        <a class="macro" href="vmxnet_debug.h.html#89" title="do { if (0) { printf(&quot;[%s][CB][%s]: &quot; &quot;Write BAR1 [VMXNET3_REG_ECR] = %&quot; &quot;l&quot; &quot;x&quot; &quot;, size %d&quot; &quot;\n&quot;, &quot;vmxnet3&quot;, __func__, val, size); } } while (0)" data-ref="_M/VMW_CBPRN">VMW_CBPRN</a>(<q>"Write BAR1 [VMXNET3_REG_ECR] = %"</q> <a class="macro" href="../../../include/inttypes.h.html#121" title="&quot;l&quot; &quot;x&quot;" data-ref="_M/PRIx64">PRIx64</a> <q>", size %d"</q>,</td></tr>
<tr><th id="1884">1884</th><td>                  <a class="local col6 ref" href="#316val" title='val' data-ref="316val">val</a>, <a class="local col7 ref" href="#317size" title='size' data-ref="317size">size</a>);</td></tr>
<tr><th id="1885">1885</th><td>        <a class="tu ref" href="#vmxnet3_ack_events" title='vmxnet3_ack_events' data-use='c' data-ref="vmxnet3_ack_events">vmxnet3_ack_events</a>(<a class="local col8 ref" href="#318s" title='s' data-ref="318s">s</a>, <a class="local col6 ref" href="#316val" title='val' data-ref="316val">val</a>);</td></tr>
<tr><th id="1886">1886</th><td>        <b>break</b>;</td></tr>
<tr><th id="1887">1887</th><td></td></tr>
<tr><th id="1888">1888</th><td>    <b>default</b>:</td></tr>
<tr><th id="1889">1889</th><td>        <a class="macro" href="vmxnet_debug.h.html#89" title="do { if (0) { printf(&quot;[%s][CB][%s]: &quot; &quot;Unknown Write to BAR1 [%&quot; &quot;l&quot; &quot;x&quot; &quot;] = %&quot; &quot;l&quot; &quot;x&quot; &quot;, size %d&quot; &quot;\n&quot;, &quot;vmxnet3&quot;, __func__, addr, val, size); } } while (0)" data-ref="_M/VMW_CBPRN">VMW_CBPRN</a>(<q>"Unknown Write to BAR1 [%"</q> <a class="macro" href="../../../include/inttypes.h.html#121" title="&quot;l&quot; &quot;x&quot;" data-ref="_M/PRIx64">PRIx64</a> <q>"] = %"</q> <a class="macro" href="../../../include/inttypes.h.html#121" title="&quot;l&quot; &quot;x&quot;" data-ref="_M/PRIx64">PRIx64</a> <q>", size %d"</q>,</td></tr>
<tr><th id="1890">1890</th><td>                  <a class="local col5 ref" href="#315addr" title='addr' data-ref="315addr">addr</a>, <a class="local col6 ref" href="#316val" title='val' data-ref="316val">val</a>, <a class="local col7 ref" href="#317size" title='size' data-ref="317size">size</a>);</td></tr>
<tr><th id="1891">1891</th><td>        <b>break</b>;</td></tr>
<tr><th id="1892">1892</th><td>    }</td></tr>
<tr><th id="1893">1893</th><td>}</td></tr>
<tr><th id="1894">1894</th><td></td></tr>
<tr><th id="1895">1895</th><td><em>static</em> <a class="typedef" href="../../../include/stdint.h.html#uint64_t" title='uint64_t' data-type='unsigned long' data-ref="uint64_t">uint64_t</a></td></tr>
<tr><th id="1896">1896</th><td><dfn class="tu decl def" id="vmxnet3_io_bar1_read" title='vmxnet3_io_bar1_read' data-type='uint64_t vmxnet3_io_bar1_read(void * opaque, hwaddr addr, unsigned int size)' data-ref="vmxnet3_io_bar1_read">vmxnet3_io_bar1_read</dfn>(<em>void</em> *<dfn class="local col9 decl" id="319opaque" title='opaque' data-type='void *' data-ref="319opaque">opaque</dfn>, <a class="typedef" href="../../include/exec/hwaddr.h.html#hwaddr" title='hwaddr' data-type='uint64_t' data-ref="hwaddr">hwaddr</a> <dfn class="local col0 decl" id="320addr" title='addr' data-type='hwaddr' data-ref="320addr">addr</dfn>, <em>unsigned</em> <dfn class="local col1 decl" id="321size" title='size' data-type='unsigned int' data-ref="321size">size</dfn>)</td></tr>
<tr><th id="1897">1897</th><td>{</td></tr>
<tr><th id="1898">1898</th><td>        <a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a> *<dfn class="local col2 decl" id="322s" title='s' data-type='VMXNET3State *' data-ref="322s">s</dfn> = <a class="local col9 ref" href="#319opaque" title='opaque' data-ref="319opaque">opaque</a>;</td></tr>
<tr><th id="1899">1899</th><td>        <a class="typedef" href="../../../include/stdint.h.html#uint64_t" title='uint64_t' data-type='unsigned long' data-ref="uint64_t">uint64_t</a> <dfn class="local col3 decl" id="323ret" title='ret' data-type='uint64_t' data-ref="323ret">ret</dfn> = <var>0</var>;</td></tr>
<tr><th id="1900">1900</th><td></td></tr>
<tr><th id="1901">1901</th><td>        <b>switch</b> (<a class="local col0 ref" href="#320addr" title='addr' data-ref="320addr">addr</a>) {</td></tr>
<tr><th id="1902">1902</th><td>        <i>/* Vmxnet3 Revision Report Selection */</i></td></tr>
<tr><th id="1903">1903</th><td>        <b>case</b> <a class="enum" href="vmxnet3.h.html#VMXNET3_REG_VRRS" title='VMXNET3_REG_VRRS' data-ref="VMXNET3_REG_VRRS">VMXNET3_REG_VRRS</a>:</td></tr>
<tr><th id="1904">1904</th><td>            <a class="macro" href="vmxnet_debug.h.html#89" title="do { if (0) { printf(&quot;[%s][CB][%s]: &quot; &quot;Read BAR1 [VMXNET3_REG_VRRS], size %d&quot; &quot;\n&quot;, &quot;vmxnet3&quot;, __func__, size); } } while (0)" data-ref="_M/VMW_CBPRN">VMW_CBPRN</a>(<q>"Read BAR1 [VMXNET3_REG_VRRS], size %d"</q>, <a class="local col1 ref" href="#321size" title='size' data-ref="321size">size</a>);</td></tr>
<tr><th id="1905">1905</th><td>            <a class="local col3 ref" href="#323ret" title='ret' data-ref="323ret">ret</a> = <a class="macro" href="#72" title="0x1" data-ref="_M/VMXNET3_DEVICE_REVISION">VMXNET3_DEVICE_REVISION</a>;</td></tr>
<tr><th id="1906">1906</th><td>            <b>break</b>;</td></tr>
<tr><th id="1907">1907</th><td></td></tr>
<tr><th id="1908">1908</th><td>        <i>/* UPT Version Report Selection */</i></td></tr>
<tr><th id="1909">1909</th><td>        <b>case</b> <a class="enum" href="vmxnet3.h.html#VMXNET3_REG_UVRS" title='VMXNET3_REG_UVRS' data-ref="VMXNET3_REG_UVRS">VMXNET3_REG_UVRS</a>:</td></tr>
<tr><th id="1910">1910</th><td>            <a class="macro" href="vmxnet_debug.h.html#89" title="do { if (0) { printf(&quot;[%s][CB][%s]: &quot; &quot;Read BAR1 [VMXNET3_REG_UVRS], size %d&quot; &quot;\n&quot;, &quot;vmxnet3&quot;, __func__, size); } } while (0)" data-ref="_M/VMW_CBPRN">VMW_CBPRN</a>(<q>"Read BAR1 [VMXNET3_REG_UVRS], size %d"</q>, <a class="local col1 ref" href="#321size" title='size' data-ref="321size">size</a>);</td></tr>
<tr><th id="1911">1911</th><td>            <a class="local col3 ref" href="#323ret" title='ret' data-ref="323ret">ret</a> = <a class="macro" href="#71" title="0x1" data-ref="_M/VMXNET3_UPT_REVISION">VMXNET3_UPT_REVISION</a>;</td></tr>
<tr><th id="1912">1912</th><td>            <b>break</b>;</td></tr>
<tr><th id="1913">1913</th><td></td></tr>
<tr><th id="1914">1914</th><td>        <i>/* Command */</i></td></tr>
<tr><th id="1915">1915</th><td>        <b>case</b> <a class="enum" href="vmxnet3.h.html#VMXNET3_REG_CMD" title='VMXNET3_REG_CMD' data-ref="VMXNET3_REG_CMD">VMXNET3_REG_CMD</a>:</td></tr>
<tr><th id="1916">1916</th><td>            <a class="macro" href="vmxnet_debug.h.html#89" title="do { if (0) { printf(&quot;[%s][CB][%s]: &quot; &quot;Read BAR1 [VMXNET3_REG_CMD], size %d&quot; &quot;\n&quot;, &quot;vmxnet3&quot;, __func__, size); } } while (0)" data-ref="_M/VMW_CBPRN">VMW_CBPRN</a>(<q>"Read BAR1 [VMXNET3_REG_CMD], size %d"</q>, <a class="local col1 ref" href="#321size" title='size' data-ref="321size">size</a>);</td></tr>
<tr><th id="1917">1917</th><td>            <a class="local col3 ref" href="#323ret" title='ret' data-ref="323ret">ret</a> = <a class="tu ref" href="#vmxnet3_get_command_status" title='vmxnet3_get_command_status' data-use='c' data-ref="vmxnet3_get_command_status">vmxnet3_get_command_status</a>(<a class="local col2 ref" href="#322s" title='s' data-ref="322s">s</a>);</td></tr>
<tr><th id="1918">1918</th><td>            <b>break</b>;</td></tr>
<tr><th id="1919">1919</th><td></td></tr>
<tr><th id="1920">1920</th><td>        <i>/* MAC Address Low */</i></td></tr>
<tr><th id="1921">1921</th><td>        <b>case</b> <a class="enum" href="vmxnet3.h.html#VMXNET3_REG_MACL" title='VMXNET3_REG_MACL' data-ref="VMXNET3_REG_MACL">VMXNET3_REG_MACL</a>:</td></tr>
<tr><th id="1922">1922</th><td>            <a class="macro" href="vmxnet_debug.h.html#89" title="do { if (0) { printf(&quot;[%s][CB][%s]: &quot; &quot;Read BAR1 [VMXNET3_REG_MACL], size %d&quot; &quot;\n&quot;, &quot;vmxnet3&quot;, __func__, size); } } while (0)" data-ref="_M/VMW_CBPRN">VMW_CBPRN</a>(<q>"Read BAR1 [VMXNET3_REG_MACL], size %d"</q>, <a class="local col1 ref" href="#321size" title='size' data-ref="321size">size</a>);</td></tr>
<tr><th id="1923">1923</th><td>            <a class="local col3 ref" href="#323ret" title='ret' data-ref="323ret">ret</a> = <a class="tu ref" href="#vmxnet3_get_mac_low" title='vmxnet3_get_mac_low' data-use='c' data-ref="vmxnet3_get_mac_low">vmxnet3_get_mac_low</a>(&amp;<a class="local col2 ref" href="#322s" title='s' data-ref="322s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::conf" title='(anonymous struct)::conf' data-use='m' data-ref="(anonymous)::conf">conf</a>.<a class="ref" href="../../include/net/net.h.html#NICConf::macaddr" title='NICConf::macaddr' data-ref="NICConf::macaddr">macaddr</a>);</td></tr>
<tr><th id="1924">1924</th><td>            <b>break</b>;</td></tr>
<tr><th id="1925">1925</th><td></td></tr>
<tr><th id="1926">1926</th><td>        <i>/* MAC Address High */</i></td></tr>
<tr><th id="1927">1927</th><td>        <b>case</b> <a class="enum" href="vmxnet3.h.html#VMXNET3_REG_MACH" title='VMXNET3_REG_MACH' data-ref="VMXNET3_REG_MACH">VMXNET3_REG_MACH</a>:</td></tr>
<tr><th id="1928">1928</th><td>            <a class="macro" href="vmxnet_debug.h.html#89" title="do { if (0) { printf(&quot;[%s][CB][%s]: &quot; &quot;Read BAR1 [VMXNET3_REG_MACH], size %d&quot; &quot;\n&quot;, &quot;vmxnet3&quot;, __func__, size); } } while (0)" data-ref="_M/VMW_CBPRN">VMW_CBPRN</a>(<q>"Read BAR1 [VMXNET3_REG_MACH], size %d"</q>, <a class="local col1 ref" href="#321size" title='size' data-ref="321size">size</a>);</td></tr>
<tr><th id="1929">1929</th><td>            <a class="local col3 ref" href="#323ret" title='ret' data-ref="323ret">ret</a> = <a class="tu ref" href="#vmxnet3_get_mac_high" title='vmxnet3_get_mac_high' data-use='c' data-ref="vmxnet3_get_mac_high">vmxnet3_get_mac_high</a>(&amp;<a class="local col2 ref" href="#322s" title='s' data-ref="322s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::conf" title='(anonymous struct)::conf' data-use='m' data-ref="(anonymous)::conf">conf</a>.<a class="ref" href="../../include/net/net.h.html#NICConf::macaddr" title='NICConf::macaddr' data-ref="NICConf::macaddr">macaddr</a>);</td></tr>
<tr><th id="1930">1930</th><td>            <b>break</b>;</td></tr>
<tr><th id="1931">1931</th><td></td></tr>
<tr><th id="1932">1932</th><td>        <i>/*</i></td></tr>
<tr><th id="1933">1933</th><td><i>         * Interrupt Cause Register</i></td></tr>
<tr><th id="1934">1934</th><td><i>         * Used for legacy interrupts only so interrupt index always 0</i></td></tr>
<tr><th id="1935">1935</th><td><i>         */</i></td></tr>
<tr><th id="1936">1936</th><td>        <b>case</b> <a class="enum" href="vmxnet3.h.html#VMXNET3_REG_ICR" title='VMXNET3_REG_ICR' data-ref="VMXNET3_REG_ICR">VMXNET3_REG_ICR</a>:</td></tr>
<tr><th id="1937">1937</th><td>            <a class="macro" href="vmxnet_debug.h.html#89" title="do { if (0) { printf(&quot;[%s][CB][%s]: &quot; &quot;Read BAR1 [VMXNET3_REG_ICR], size %d&quot; &quot;\n&quot;, &quot;vmxnet3&quot;, __func__, size); } } while (0)" data-ref="_M/VMW_CBPRN">VMW_CBPRN</a>(<q>"Read BAR1 [VMXNET3_REG_ICR], size %d"</q>, <a class="local col1 ref" href="#321size" title='size' data-ref="321size">size</a>);</td></tr>
<tr><th id="1938">1938</th><td>            <b>if</b> (<a class="tu ref" href="#vmxnet3_interrupt_asserted" title='vmxnet3_interrupt_asserted' data-use='c' data-ref="vmxnet3_interrupt_asserted">vmxnet3_interrupt_asserted</a>(<a class="local col2 ref" href="#322s" title='s' data-ref="322s">s</a>, <var>0</var>)) {</td></tr>
<tr><th id="1939">1939</th><td>                <a class="tu ref" href="#vmxnet3_clear_interrupt" title='vmxnet3_clear_interrupt' data-use='c' data-ref="vmxnet3_clear_interrupt">vmxnet3_clear_interrupt</a>(<a class="local col2 ref" href="#322s" title='s' data-ref="322s">s</a>, <var>0</var>);</td></tr>
<tr><th id="1940">1940</th><td>                <a class="local col3 ref" href="#323ret" title='ret' data-ref="323ret">ret</a> = <span class="macro" title="1" data-ref="_M/true">true</span>;</td></tr>
<tr><th id="1941">1941</th><td>            } <b>else</b> {</td></tr>
<tr><th id="1942">1942</th><td>                <a class="local col3 ref" href="#323ret" title='ret' data-ref="323ret">ret</a> = <span class="macro" title="0" data-ref="_M/false">false</span>;</td></tr>
<tr><th id="1943">1943</th><td>            }</td></tr>
<tr><th id="1944">1944</th><td>            <b>break</b>;</td></tr>
<tr><th id="1945">1945</th><td></td></tr>
<tr><th id="1946">1946</th><td>        <b>default</b>:</td></tr>
<tr><th id="1947">1947</th><td>            <a class="macro" href="vmxnet_debug.h.html#89" title="do { if (0) { printf(&quot;[%s][CB][%s]: &quot; &quot;Unknow read BAR1[%&quot; &quot;l&quot; &quot;x&quot; &quot;], %d bytes&quot; &quot;\n&quot;, &quot;vmxnet3&quot;, __func__, addr, size); } } while (0)" data-ref="_M/VMW_CBPRN">VMW_CBPRN</a>(<q>"Unknow read BAR1[%"</q> <a class="macro" href="../../../include/inttypes.h.html#121" title="&quot;l&quot; &quot;x&quot;" data-ref="_M/PRIx64">PRIx64</a> <q>"], %d bytes"</q>, <a class="local col0 ref" href="#320addr" title='addr' data-ref="320addr">addr</a>, <a class="local col1 ref" href="#321size" title='size' data-ref="321size">size</a>);</td></tr>
<tr><th id="1948">1948</th><td>            <b>break</b>;</td></tr>
<tr><th id="1949">1949</th><td>        }</td></tr>
<tr><th id="1950">1950</th><td></td></tr>
<tr><th id="1951">1951</th><td>        <b>return</b> <a class="local col3 ref" href="#323ret" title='ret' data-ref="323ret">ret</a>;</td></tr>
<tr><th id="1952">1952</th><td>}</td></tr>
<tr><th id="1953">1953</th><td></td></tr>
<tr><th id="1954">1954</th><td><em>static</em> <em>int</em></td></tr>
<tr><th id="1955">1955</th><td><dfn class="tu decl def" id="vmxnet3_can_receive" title='vmxnet3_can_receive' data-type='int vmxnet3_can_receive(NetClientState * nc)' data-ref="vmxnet3_can_receive">vmxnet3_can_receive</dfn>(<a class="typedef" href="../../include/qemu/typedefs.h.html#NetClientState" title='NetClientState' data-type='struct NetClientState' data-ref="NetClientState">NetClientState</a> *<dfn class="local col4 decl" id="324nc" title='nc' data-type='NetClientState *' data-ref="324nc">nc</dfn>)</td></tr>
<tr><th id="1956">1956</th><td>{</td></tr>
<tr><th id="1957">1957</th><td>    <a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a> *<dfn class="local col5 decl" id="325s" title='s' data-type='VMXNET3State *' data-ref="325s">s</dfn> = <a class="ref" href="../../include/net/net.h.html#qemu_get_nic_opaque" title='qemu_get_nic_opaque' data-ref="qemu_get_nic_opaque">qemu_get_nic_opaque</a>(<a class="local col4 ref" href="#324nc" title='nc' data-ref="324nc">nc</a>);</td></tr>
<tr><th id="1958">1958</th><td>    <b>return</b> <a class="local col5 ref" href="#325s" title='s' data-ref="325s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::device_active" title='(anonymous struct)::device_active' data-use='r' data-ref="(anonymous)::device_active">device_active</a> &amp;&amp;</td></tr>
<tr><th id="1959">1959</th><td>           <a class="macro" href="#127" title="(((s-&gt;link_status_and_speed) &amp; (0x1)) == (0x1))" data-ref="_M/VMXNET_FLAG_IS_SET">VMXNET_FLAG_IS_SET</a>(<a class="local col5 ref" href="#325s" title='s' data-ref="325s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::link_status_and_speed" title='(anonymous struct)::link_status_and_speed' data-use='r' data-ref="(anonymous)::link_status_and_speed">link_status_and_speed</a>, <a class="macro" href="#68" title="0x1" data-ref="_M/VMXNET3_LINK_STATUS_UP">VMXNET3_LINK_STATUS_UP</a>);</td></tr>
<tr><th id="1960">1960</th><td>}</td></tr>
<tr><th id="1961">1961</th><td></td></tr>
<tr><th id="1962">1962</th><td><em>static</em> <b>inline</b> <span class="macro" title="_Bool" data-ref="_M/bool">bool</span></td></tr>
<tr><th id="1963">1963</th><td><dfn class="tu decl def" id="vmxnet3_is_registered_vlan" title='vmxnet3_is_registered_vlan' data-type='_Bool vmxnet3_is_registered_vlan(VMXNET3State * s, const void * data)' data-ref="vmxnet3_is_registered_vlan">vmxnet3_is_registered_vlan</dfn>(<a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a> *<dfn class="local col6 decl" id="326s" title='s' data-type='VMXNET3State *' data-ref="326s">s</dfn>, <em>const</em> <em>void</em> *<dfn class="local col7 decl" id="327data" title='data' data-type='const void *' data-ref="327data">data</dfn>)</td></tr>
<tr><th id="1964">1964</th><td>{</td></tr>
<tr><th id="1965">1965</th><td>    <a class="typedef" href="../../../include/stdint.h.html#uint16_t" title='uint16_t' data-type='unsigned short' data-ref="uint16_t">uint16_t</a> <dfn class="local col8 decl" id="328vlan_tag" title='vlan_tag' data-type='uint16_t' data-ref="328vlan_tag">vlan_tag</dfn> = <a class="ref" href="../../include/net/eth.h.html#eth_get_pkt_tci" title='eth_get_pkt_tci' data-ref="eth_get_pkt_tci">eth_get_pkt_tci</a>(<a class="local col7 ref" href="#327data" title='data' data-ref="327data">data</a>) &amp; <a class="macro" href="../../include/net/eth.h.html#214" title="0x0fff" data-ref="_M/VLAN_VID_MASK">VLAN_VID_MASK</a>;</td></tr>
<tr><th id="1966">1966</th><td>    <b>if</b> (<a class="macro" href="../../include/net/eth.h.html#227" title="(((vlan_tag) == 0) || ((vlan_tag) == 0xFFF))" data-ref="_M/IS_SPECIAL_VLAN_ID">IS_SPECIAL_VLAN_ID</a>(<a class="local col8 ref" href="#328vlan_tag" title='vlan_tag' data-ref="328vlan_tag">vlan_tag</a>)) {</td></tr>
<tr><th id="1967">1967</th><td>        <b>return</b> <span class="macro" title="1" data-ref="_M/true">true</span>;</td></tr>
<tr><th id="1968">1968</th><td>    }</td></tr>
<tr><th id="1969">1969</th><td></td></tr>
<tr><th id="1970">1970</th><td>    <b>return</b> <a class="macro" href="vmxnet3.h.html#739" title="((s-&gt;vlan_table[vlan_tag &gt;&gt; 5] &amp; (1 &lt;&lt; (vlan_tag &amp; 31))) != 0)" data-ref="_M/VMXNET3_VFTABLE_ENTRY_IS_SET">VMXNET3_VFTABLE_ENTRY_IS_SET</a>(<a class="local col6 ref" href="#326s" title='s' data-ref="326s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::vlan_table" title='(anonymous struct)::vlan_table' data-use='r' data-ref="(anonymous)::vlan_table">vlan_table</a>, <a class="local col8 ref" href="#328vlan_tag" title='vlan_tag' data-ref="328vlan_tag">vlan_tag</a>);</td></tr>
<tr><th id="1971">1971</th><td>}</td></tr>
<tr><th id="1972">1972</th><td></td></tr>
<tr><th id="1973">1973</th><td><em>static</em> <span class="macro" title="_Bool" data-ref="_M/bool">bool</span></td></tr>
<tr><th id="1974">1974</th><td><dfn class="tu decl def" id="vmxnet3_is_allowed_mcast_group" title='vmxnet3_is_allowed_mcast_group' data-type='_Bool vmxnet3_is_allowed_mcast_group(VMXNET3State * s, const uint8_t * group_mac)' data-ref="vmxnet3_is_allowed_mcast_group">vmxnet3_is_allowed_mcast_group</dfn>(<a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a> *<dfn class="local col9 decl" id="329s" title='s' data-type='VMXNET3State *' data-ref="329s">s</dfn>, <em>const</em> <a class="typedef" href="../../../include/stdint.h.html#uint8_t" title='uint8_t' data-type='unsigned char' data-ref="uint8_t">uint8_t</a> *<dfn class="local col0 decl" id="330group_mac" title='group_mac' data-type='const uint8_t *' data-ref="330group_mac">group_mac</dfn>)</td></tr>
<tr><th id="1975">1975</th><td>{</td></tr>
<tr><th id="1976">1976</th><td>    <em>int</em> <dfn class="local col1 decl" id="331i" title='i' data-type='int' data-ref="331i">i</dfn>;</td></tr>
<tr><th id="1977">1977</th><td>    <b>for</b> (<a class="local col1 ref" href="#331i" title='i' data-ref="331i">i</a> = <var>0</var>; <a class="local col1 ref" href="#331i" title='i' data-ref="331i">i</a> &lt; <a class="local col9 ref" href="#329s" title='s' data-ref="329s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::mcast_list_len" title='(anonymous struct)::mcast_list_len' data-use='r' data-ref="(anonymous)::mcast_list_len">mcast_list_len</a>; <a class="local col1 ref" href="#331i" title='i' data-ref="331i">i</a>++) {</td></tr>
<tr><th id="1978">1978</th><td>        <b>if</b> (!<a class="ref" href="../../../include/string.h.html#memcmp" title='memcmp' data-ref="memcmp">memcmp</a>(<a class="local col0 ref" href="#330group_mac" title='group_mac' data-ref="330group_mac">group_mac</a>, <a class="local col9 ref" href="#329s" title='s' data-ref="329s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::mcast_list" title='(anonymous struct)::mcast_list' data-use='r' data-ref="(anonymous)::mcast_list">mcast_list</a>[<a class="local col1 ref" href="#331i" title='i' data-ref="331i">i</a>].<a class="ref" href="../../include/net/net.h.html#MACAddr::a" title='MACAddr::a' data-ref="MACAddr::a">a</a>, <b>sizeof</b>(<a class="local col9 ref" href="#329s" title='s' data-ref="329s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::mcast_list" title='(anonymous struct)::mcast_list' data-use='r' data-ref="(anonymous)::mcast_list">mcast_list</a>[<a class="local col1 ref" href="#331i" title='i' data-ref="331i">i</a>]))) {</td></tr>
<tr><th id="1979">1979</th><td>            <b>return</b> <span class="macro" title="1" data-ref="_M/true">true</span>;</td></tr>
<tr><th id="1980">1980</th><td>        }</td></tr>
<tr><th id="1981">1981</th><td>    }</td></tr>
<tr><th id="1982">1982</th><td>    <b>return</b> <span class="macro" title="0" data-ref="_M/false">false</span>;</td></tr>
<tr><th id="1983">1983</th><td>}</td></tr>
<tr><th id="1984">1984</th><td></td></tr>
<tr><th id="1985">1985</th><td><em>static</em> <span class="macro" title="_Bool" data-ref="_M/bool">bool</span></td></tr>
<tr><th id="1986">1986</th><td><dfn class="tu decl def" id="vmxnet3_rx_filter_may_indicate" title='vmxnet3_rx_filter_may_indicate' data-type='_Bool vmxnet3_rx_filter_may_indicate(VMXNET3State * s, const void * data, size_t size)' data-ref="vmxnet3_rx_filter_may_indicate">vmxnet3_rx_filter_may_indicate</dfn>(<a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a> *<dfn class="local col2 decl" id="332s" title='s' data-type='VMXNET3State *' data-ref="332s">s</dfn>, <em>const</em> <em>void</em> *<dfn class="local col3 decl" id="333data" title='data' data-type='const void *' data-ref="333data">data</dfn>,</td></tr>
<tr><th id="1987">1987</th><td>    <span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t">size_t</span> <dfn class="local col4 decl" id="334size" title='size' data-type='size_t' data-ref="334size">size</dfn>)</td></tr>
<tr><th id="1988">1988</th><td>{</td></tr>
<tr><th id="1989">1989</th><td>    <b>struct</b> <a class="type" href="../../include/net/eth.h.html#eth_header" title='eth_header' data-ref="eth_header">eth_header</a> *<dfn class="local col5 decl" id="335ehdr" title='ehdr' data-type='struct eth_header *' data-ref="335ehdr">ehdr</dfn> = <a class="macro" href="../../include/net/eth.h.html#188" title="((struct eth_header *)(data))" data-ref="_M/PKT_GET_ETH_HDR">PKT_GET_ETH_HDR</a>(<a class="local col3 ref" href="#333data" title='data' data-ref="333data">data</a>);</td></tr>
<tr><th id="1990">1990</th><td></td></tr>
<tr><th id="1991">1991</th><td>    <b>if</b> (<a class="macro" href="#127" title="(((s-&gt;rx_mode) &amp; (VMXNET3_RXM_PROMISC)) == (VMXNET3_RXM_PROMISC))" data-ref="_M/VMXNET_FLAG_IS_SET">VMXNET_FLAG_IS_SET</a>(<a class="local col2 ref" href="#332s" title='s' data-ref="332s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::rx_mode" title='(anonymous struct)::rx_mode' data-use='r' data-ref="(anonymous)::rx_mode">rx_mode</a>, <a class="enum" href="vmxnet3.h.html#VMXNET3_RXM_PROMISC" title='VMXNET3_RXM_PROMISC' data-ref="VMXNET3_RXM_PROMISC">VMXNET3_RXM_PROMISC</a>)) {</td></tr>
<tr><th id="1992">1992</th><td>        <b>return</b> <span class="macro" title="1" data-ref="_M/true">true</span>;</td></tr>
<tr><th id="1993">1993</th><td>    }</td></tr>
<tr><th id="1994">1994</th><td></td></tr>
<tr><th id="1995">1995</th><td>    <b>if</b> (!<a class="tu ref" href="#vmxnet3_is_registered_vlan" title='vmxnet3_is_registered_vlan' data-use='c' data-ref="vmxnet3_is_registered_vlan">vmxnet3_is_registered_vlan</a>(<a class="local col2 ref" href="#332s" title='s' data-ref="332s">s</a>, <a class="local col3 ref" href="#333data" title='data' data-ref="333data">data</a>)) {</td></tr>
<tr><th id="1996">1996</th><td>        <b>return</b> <span class="macro" title="0" data-ref="_M/false">false</span>;</td></tr>
<tr><th id="1997">1997</th><td>    }</td></tr>
<tr><th id="1998">1998</th><td></td></tr>
<tr><th id="1999">1999</th><td>    <b>switch</b> (<a class="ref" href="net_rx_pkt.h.html#net_rx_pkt_get_packet_type" title='net_rx_pkt_get_packet_type' data-ref="net_rx_pkt_get_packet_type">net_rx_pkt_get_packet_type</a>(<a class="local col2 ref" href="#332s" title='s' data-ref="332s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::rx_pkt" title='(anonymous struct)::rx_pkt' data-use='r' data-ref="(anonymous)::rx_pkt">rx_pkt</a>)) {</td></tr>
<tr><th id="2000">2000</th><td>    <b>case</b> <a class="enum" href="../../include/net/eth.h.html#ETH_PKT_UCAST" title='ETH_PKT_UCAST' data-ref="ETH_PKT_UCAST">ETH_PKT_UCAST</a>:</td></tr>
<tr><th id="2001">2001</th><td>        <b>if</b> (!<a class="macro" href="#127" title="(((s-&gt;rx_mode) &amp; (VMXNET3_RXM_UCAST)) == (VMXNET3_RXM_UCAST))" data-ref="_M/VMXNET_FLAG_IS_SET">VMXNET_FLAG_IS_SET</a>(<a class="local col2 ref" href="#332s" title='s' data-ref="332s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::rx_mode" title='(anonymous struct)::rx_mode' data-use='r' data-ref="(anonymous)::rx_mode">rx_mode</a>, <a class="enum" href="vmxnet3.h.html#VMXNET3_RXM_UCAST" title='VMXNET3_RXM_UCAST' data-ref="VMXNET3_RXM_UCAST">VMXNET3_RXM_UCAST</a>)) {</td></tr>
<tr><th id="2002">2002</th><td>            <b>return</b> <span class="macro" title="0" data-ref="_M/false">false</span>;</td></tr>
<tr><th id="2003">2003</th><td>        }</td></tr>
<tr><th id="2004">2004</th><td>        <b>if</b> (<a class="ref" href="../../../include/string.h.html#memcmp" title='memcmp' data-ref="memcmp">memcmp</a>(<a class="local col2 ref" href="#332s" title='s' data-ref="332s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::conf" title='(anonymous struct)::conf' data-use='m' data-ref="(anonymous)::conf">conf</a>.<a class="ref" href="../../include/net/net.h.html#NICConf::macaddr" title='NICConf::macaddr' data-ref="NICConf::macaddr">macaddr</a>.<a class="ref" href="../../include/net/net.h.html#MACAddr::a" title='MACAddr::a' data-ref="MACAddr::a">a</a>, <a class="local col5 ref" href="#335ehdr" title='ehdr' data-ref="335ehdr">ehdr</a>-&gt;<a class="ref" href="../../include/net/eth.h.html#eth_header::h_dest" title='eth_header::h_dest' data-ref="eth_header::h_dest">h_dest</a>, <a class="macro" href="../../include/net/eth.h.html#32" title="6" data-ref="_M/ETH_ALEN">ETH_ALEN</a>)) {</td></tr>
<tr><th id="2005">2005</th><td>            <b>return</b> <span class="macro" title="0" data-ref="_M/false">false</span>;</td></tr>
<tr><th id="2006">2006</th><td>        }</td></tr>
<tr><th id="2007">2007</th><td>        <b>break</b>;</td></tr>
<tr><th id="2008">2008</th><td></td></tr>
<tr><th id="2009">2009</th><td>    <b>case</b> <a class="enum" href="../../include/net/eth.h.html#ETH_PKT_BCAST" title='ETH_PKT_BCAST' data-ref="ETH_PKT_BCAST">ETH_PKT_BCAST</a>:</td></tr>
<tr><th id="2010">2010</th><td>        <b>if</b> (!<a class="macro" href="#127" title="(((s-&gt;rx_mode) &amp; (VMXNET3_RXM_BCAST)) == (VMXNET3_RXM_BCAST))" data-ref="_M/VMXNET_FLAG_IS_SET">VMXNET_FLAG_IS_SET</a>(<a class="local col2 ref" href="#332s" title='s' data-ref="332s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::rx_mode" title='(anonymous struct)::rx_mode' data-use='r' data-ref="(anonymous)::rx_mode">rx_mode</a>, <a class="enum" href="vmxnet3.h.html#VMXNET3_RXM_BCAST" title='VMXNET3_RXM_BCAST' data-ref="VMXNET3_RXM_BCAST">VMXNET3_RXM_BCAST</a>)) {</td></tr>
<tr><th id="2011">2011</th><td>            <b>return</b> <span class="macro" title="0" data-ref="_M/false">false</span>;</td></tr>
<tr><th id="2012">2012</th><td>        }</td></tr>
<tr><th id="2013">2013</th><td>        <b>break</b>;</td></tr>
<tr><th id="2014">2014</th><td></td></tr>
<tr><th id="2015">2015</th><td>    <b>case</b> <a class="enum" href="../../include/net/eth.h.html#ETH_PKT_MCAST" title='ETH_PKT_MCAST' data-ref="ETH_PKT_MCAST">ETH_PKT_MCAST</a>:</td></tr>
<tr><th id="2016">2016</th><td>        <b>if</b> (<a class="macro" href="#127" title="(((s-&gt;rx_mode) &amp; (VMXNET3_RXM_ALL_MULTI)) == (VMXNET3_RXM_ALL_MULTI))" data-ref="_M/VMXNET_FLAG_IS_SET">VMXNET_FLAG_IS_SET</a>(<a class="local col2 ref" href="#332s" title='s' data-ref="332s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::rx_mode" title='(anonymous struct)::rx_mode' data-use='r' data-ref="(anonymous)::rx_mode">rx_mode</a>, <a class="enum" href="vmxnet3.h.html#VMXNET3_RXM_ALL_MULTI" title='VMXNET3_RXM_ALL_MULTI' data-ref="VMXNET3_RXM_ALL_MULTI">VMXNET3_RXM_ALL_MULTI</a>)) {</td></tr>
<tr><th id="2017">2017</th><td>            <b>return</b> <span class="macro" title="1" data-ref="_M/true">true</span>;</td></tr>
<tr><th id="2018">2018</th><td>        }</td></tr>
<tr><th id="2019">2019</th><td>        <b>if</b> (!<a class="macro" href="#127" title="(((s-&gt;rx_mode) &amp; (VMXNET3_RXM_MCAST)) == (VMXNET3_RXM_MCAST))" data-ref="_M/VMXNET_FLAG_IS_SET">VMXNET_FLAG_IS_SET</a>(<a class="local col2 ref" href="#332s" title='s' data-ref="332s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::rx_mode" title='(anonymous struct)::rx_mode' data-use='r' data-ref="(anonymous)::rx_mode">rx_mode</a>, <a class="enum" href="vmxnet3.h.html#VMXNET3_RXM_MCAST" title='VMXNET3_RXM_MCAST' data-ref="VMXNET3_RXM_MCAST">VMXNET3_RXM_MCAST</a>)) {</td></tr>
<tr><th id="2020">2020</th><td>            <b>return</b> <span class="macro" title="0" data-ref="_M/false">false</span>;</td></tr>
<tr><th id="2021">2021</th><td>        }</td></tr>
<tr><th id="2022">2022</th><td>        <b>if</b> (!<a class="tu ref" href="#vmxnet3_is_allowed_mcast_group" title='vmxnet3_is_allowed_mcast_group' data-use='c' data-ref="vmxnet3_is_allowed_mcast_group">vmxnet3_is_allowed_mcast_group</a>(<a class="local col2 ref" href="#332s" title='s' data-ref="332s">s</a>, <a class="local col5 ref" href="#335ehdr" title='ehdr' data-ref="335ehdr">ehdr</a>-&gt;<a class="ref" href="../../include/net/eth.h.html#eth_header::h_dest" title='eth_header::h_dest' data-ref="eth_header::h_dest">h_dest</a>)) {</td></tr>
<tr><th id="2023">2023</th><td>            <b>return</b> <span class="macro" title="0" data-ref="_M/false">false</span>;</td></tr>
<tr><th id="2024">2024</th><td>        }</td></tr>
<tr><th id="2025">2025</th><td>        <b>break</b>;</td></tr>
<tr><th id="2026">2026</th><td></td></tr>
<tr><th id="2027">2027</th><td>    <b>default</b>:</td></tr>
<tr><th id="2028">2028</th><td>        <a class="macro" href="../../../include/glib-2.0/glib/gtestutils.h.html#114" title="do { g_assertion_message_expr (((gchar*) 0), &quot;/home/jon/workspace/qemu/hw/net/vmxnet3.c&quot;, 2028, ((const char*) (__func__)), ((void*)0)); } while (0)" data-ref="_M/g_assert_not_reached">g_assert_not_reached</a>();</td></tr>
<tr><th id="2029">2029</th><td>    }</td></tr>
<tr><th id="2030">2030</th><td></td></tr>
<tr><th id="2031">2031</th><td>    <b>return</b> <span class="macro" title="1" data-ref="_M/true">true</span>;</td></tr>
<tr><th id="2032">2032</th><td>}</td></tr>
<tr><th id="2033">2033</th><td></td></tr>
<tr><th id="2034">2034</th><td><em>static</em> <a class="typedef" href="../../../include/x86_64-linux-gnu/sys/types.h.html#ssize_t" title='ssize_t' data-type='__ssize_t' data-ref="ssize_t">ssize_t</a></td></tr>
<tr><th id="2035">2035</th><td><dfn class="tu decl def" id="vmxnet3_receive" title='vmxnet3_receive' data-type='ssize_t vmxnet3_receive(NetClientState * nc, const uint8_t * buf, size_t size)' data-ref="vmxnet3_receive">vmxnet3_receive</dfn>(<a class="typedef" href="../../include/qemu/typedefs.h.html#NetClientState" title='NetClientState' data-type='struct NetClientState' data-ref="NetClientState">NetClientState</a> *<dfn class="local col6 decl" id="336nc" title='nc' data-type='NetClientState *' data-ref="336nc">nc</dfn>, <em>const</em> <a class="typedef" href="../../../include/stdint.h.html#uint8_t" title='uint8_t' data-type='unsigned char' data-ref="uint8_t">uint8_t</a> *<dfn class="local col7 decl" id="337buf" title='buf' data-type='const uint8_t *' data-ref="337buf">buf</dfn>, <span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t">size_t</span> <dfn class="local col8 decl" id="338size" title='size' data-type='size_t' data-ref="338size">size</dfn>)</td></tr>
<tr><th id="2036">2036</th><td>{</td></tr>
<tr><th id="2037">2037</th><td>    <a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a> *<dfn class="local col9 decl" id="339s" title='s' data-type='VMXNET3State *' data-ref="339s">s</dfn> = <a class="ref" href="../../include/net/net.h.html#qemu_get_nic_opaque" title='qemu_get_nic_opaque' data-ref="qemu_get_nic_opaque">qemu_get_nic_opaque</a>(<a class="local col6 ref" href="#336nc" title='nc' data-ref="336nc">nc</a>);</td></tr>
<tr><th id="2038">2038</th><td>    <span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t">size_t</span> <dfn class="local col0 decl" id="340bytes_indicated" title='bytes_indicated' data-type='size_t' data-ref="340bytes_indicated">bytes_indicated</dfn>;</td></tr>
<tr><th id="2039">2039</th><td>    <a class="typedef" href="../../../include/stdint.h.html#uint8_t" title='uint8_t' data-type='unsigned char' data-ref="uint8_t">uint8_t</a> <dfn class="local col1 decl" id="341min_buf" title='min_buf' data-type='uint8_t [60]' data-ref="341min_buf">min_buf</dfn>[<a class="macro" href="#39" title="60" data-ref="_M/MIN_BUF_SIZE">MIN_BUF_SIZE</a>];</td></tr>
<tr><th id="2040">2040</th><td></td></tr>
<tr><th id="2041">2041</th><td>    <b>if</b> (!<a class="tu ref" href="#vmxnet3_can_receive" title='vmxnet3_can_receive' data-use='c' data-ref="vmxnet3_can_receive">vmxnet3_can_receive</a>(<a class="local col6 ref" href="#336nc" title='nc' data-ref="336nc">nc</a>)) {</td></tr>
<tr><th id="2042">2042</th><td>        <a class="macro" href="vmxnet_debug.h.html#97" title="do { if (0) { printf(&quot;[%s][PK][%s]: &quot; &quot;Cannot receive now&quot; &quot;\n&quot;, &quot;vmxnet3&quot;, __func__); } } while (0)" data-ref="_M/VMW_PKPRN">VMW_PKPRN</a>(<q>"Cannot receive now"</q>);</td></tr>
<tr><th id="2043">2043</th><td>        <b>return</b> -<var>1</var>;</td></tr>
<tr><th id="2044">2044</th><td>    }</td></tr>
<tr><th id="2045">2045</th><td></td></tr>
<tr><th id="2046">2046</th><td>    <b>if</b> (<a class="local col9 ref" href="#339s" title='s' data-ref="339s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::peer_has_vhdr" title='(anonymous struct)::peer_has_vhdr' data-use='r' data-ref="(anonymous)::peer_has_vhdr">peer_has_vhdr</a>) {</td></tr>
<tr><th id="2047">2047</th><td>        <a class="ref" href="net_rx_pkt.h.html#net_rx_pkt_set_vhdr" title='net_rx_pkt_set_vhdr' data-ref="net_rx_pkt_set_vhdr">net_rx_pkt_set_vhdr</a>(<a class="local col9 ref" href="#339s" title='s' data-ref="339s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::rx_pkt" title='(anonymous struct)::rx_pkt' data-use='r' data-ref="(anonymous)::rx_pkt">rx_pkt</a>, (<b>struct</b> <a class="type" href="../../include/standard-headers/linux/virtio_net.h.html#virtio_net_hdr" title='virtio_net_hdr' data-ref="virtio_net_hdr">virtio_net_hdr</a> *)<a class="local col7 ref" href="#337buf" title='buf' data-ref="337buf">buf</a>);</td></tr>
<tr><th id="2048">2048</th><td>        <a class="local col7 ref" href="#337buf" title='buf' data-ref="337buf">buf</a> += <b>sizeof</b>(<b>struct</b> <a class="type" href="../../include/standard-headers/linux/virtio_net.h.html#virtio_net_hdr" title='virtio_net_hdr' data-ref="virtio_net_hdr">virtio_net_hdr</a>);</td></tr>
<tr><th id="2049">2049</th><td>        <a class="local col8 ref" href="#338size" title='size' data-ref="338size">size</a> -= <b>sizeof</b>(<b>struct</b> <a class="type" href="../../include/standard-headers/linux/virtio_net.h.html#virtio_net_hdr" title='virtio_net_hdr' data-ref="virtio_net_hdr">virtio_net_hdr</a>);</td></tr>
<tr><th id="2050">2050</th><td>    }</td></tr>
<tr><th id="2051">2051</th><td></td></tr>
<tr><th id="2052">2052</th><td>    <i>/* Pad to minimum Ethernet frame length */</i></td></tr>
<tr><th id="2053">2053</th><td>    <b>if</b> (<a class="local col8 ref" href="#338size" title='size' data-ref="338size">size</a> &lt; <b>sizeof</b>(<a class="local col1 ref" href="#341min_buf" title='min_buf' data-ref="341min_buf">min_buf</a>)) {</td></tr>
<tr><th id="2054">2054</th><td>        <a class="ref" href="../../../include/string.h.html#memcpy" title='memcpy' data-ref="memcpy">memcpy</a>(<a class="local col1 ref" href="#341min_buf" title='min_buf' data-ref="341min_buf">min_buf</a>, <a class="local col7 ref" href="#337buf" title='buf' data-ref="337buf">buf</a>, <a class="local col8 ref" href="#338size" title='size' data-ref="338size">size</a>);</td></tr>
<tr><th id="2055">2055</th><td>        <a class="ref" href="../../../include/string.h.html#memset" title='memset' data-ref="memset">memset</a>(&amp;<a class="local col1 ref" href="#341min_buf" title='min_buf' data-ref="341min_buf">min_buf</a>[<a class="local col8 ref" href="#338size" title='size' data-ref="338size">size</a>], <var>0</var>, <b>sizeof</b>(<a class="local col1 ref" href="#341min_buf" title='min_buf' data-ref="341min_buf">min_buf</a>) - <a class="local col8 ref" href="#338size" title='size' data-ref="338size">size</a>);</td></tr>
<tr><th id="2056">2056</th><td>        <a class="local col7 ref" href="#337buf" title='buf' data-ref="337buf">buf</a> = <a class="local col1 ref" href="#341min_buf" title='min_buf' data-ref="341min_buf">min_buf</a>;</td></tr>
<tr><th id="2057">2057</th><td>        <a class="local col8 ref" href="#338size" title='size' data-ref="338size">size</a> = <b>sizeof</b>(<a class="local col1 ref" href="#341min_buf" title='min_buf' data-ref="341min_buf">min_buf</a>);</td></tr>
<tr><th id="2058">2058</th><td>    }</td></tr>
<tr><th id="2059">2059</th><td></td></tr>
<tr><th id="2060">2060</th><td>    <a class="ref" href="net_rx_pkt.h.html#net_rx_pkt_set_packet_type" title='net_rx_pkt_set_packet_type' data-ref="net_rx_pkt_set_packet_type">net_rx_pkt_set_packet_type</a>(<a class="local col9 ref" href="#339s" title='s' data-ref="339s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::rx_pkt" title='(anonymous struct)::rx_pkt' data-use='r' data-ref="(anonymous)::rx_pkt">rx_pkt</a>,</td></tr>
<tr><th id="2061">2061</th><td>        <a class="ref" href="../../include/net/eth.h.html#get_eth_packet_type" title='get_eth_packet_type' data-ref="get_eth_packet_type">get_eth_packet_type</a>(<a class="macro" href="../../include/net/eth.h.html#188" title="((struct eth_header *)(buf))" data-ref="_M/PKT_GET_ETH_HDR">PKT_GET_ETH_HDR</a>(<a class="local col7 ref" href="#337buf" title='buf' data-ref="337buf">buf</a>)));</td></tr>
<tr><th id="2062">2062</th><td></td></tr>
<tr><th id="2063">2063</th><td>    <b>if</b> (<a class="tu ref" href="#vmxnet3_rx_filter_may_indicate" title='vmxnet3_rx_filter_may_indicate' data-use='c' data-ref="vmxnet3_rx_filter_may_indicate">vmxnet3_rx_filter_may_indicate</a>(<a class="local col9 ref" href="#339s" title='s' data-ref="339s">s</a>, <a class="local col7 ref" href="#337buf" title='buf' data-ref="337buf">buf</a>, <a class="local col8 ref" href="#338size" title='size' data-ref="338size">size</a>)) {</td></tr>
<tr><th id="2064">2064</th><td>        <a class="ref" href="net_rx_pkt.h.html#net_rx_pkt_set_protocols" title='net_rx_pkt_set_protocols' data-ref="net_rx_pkt_set_protocols">net_rx_pkt_set_protocols</a>(<a class="local col9 ref" href="#339s" title='s' data-ref="339s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::rx_pkt" title='(anonymous struct)::rx_pkt' data-use='r' data-ref="(anonymous)::rx_pkt">rx_pkt</a>, <a class="local col7 ref" href="#337buf" title='buf' data-ref="337buf">buf</a>, <a class="local col8 ref" href="#338size" title='size' data-ref="338size">size</a>);</td></tr>
<tr><th id="2065">2065</th><td>        <a class="tu ref" href="#vmxnet3_rx_need_csum_calculate" title='vmxnet3_rx_need_csum_calculate' data-use='c' data-ref="vmxnet3_rx_need_csum_calculate">vmxnet3_rx_need_csum_calculate</a>(<a class="local col9 ref" href="#339s" title='s' data-ref="339s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::rx_pkt" title='(anonymous struct)::rx_pkt' data-use='r' data-ref="(anonymous)::rx_pkt">rx_pkt</a>, <a class="local col7 ref" href="#337buf" title='buf' data-ref="337buf">buf</a>, <a class="local col8 ref" href="#338size" title='size' data-ref="338size">size</a>);</td></tr>
<tr><th id="2066">2066</th><td>        <a class="ref" href="net_rx_pkt.h.html#net_rx_pkt_attach_data" title='net_rx_pkt_attach_data' data-ref="net_rx_pkt_attach_data">net_rx_pkt_attach_data</a>(<a class="local col9 ref" href="#339s" title='s' data-ref="339s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::rx_pkt" title='(anonymous struct)::rx_pkt' data-use='r' data-ref="(anonymous)::rx_pkt">rx_pkt</a>, <a class="local col7 ref" href="#337buf" title='buf' data-ref="337buf">buf</a>, <a class="local col8 ref" href="#338size" title='size' data-ref="338size">size</a>, <a class="local col9 ref" href="#339s" title='s' data-ref="339s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::rx_vlan_stripping" title='(anonymous struct)::rx_vlan_stripping' data-use='r' data-ref="(anonymous)::rx_vlan_stripping">rx_vlan_stripping</a>);</td></tr>
<tr><th id="2067">2067</th><td>        <a class="local col0 ref" href="#340bytes_indicated" title='bytes_indicated' data-ref="340bytes_indicated">bytes_indicated</a> = <a class="tu ref" href="#vmxnet3_indicate_packet" title='vmxnet3_indicate_packet' data-use='c' data-ref="vmxnet3_indicate_packet">vmxnet3_indicate_packet</a>(<a class="local col9 ref" href="#339s" title='s' data-ref="339s">s</a>) ? <a class="local col8 ref" href="#338size" title='size' data-ref="338size">size</a> : -<var>1</var>;</td></tr>
<tr><th id="2068">2068</th><td>        <b>if</b> (<a class="local col0 ref" href="#340bytes_indicated" title='bytes_indicated' data-ref="340bytes_indicated">bytes_indicated</a> &lt; <a class="local col8 ref" href="#338size" title='size' data-ref="338size">size</a>) {</td></tr>
<tr><th id="2069">2069</th><td>            <a class="macro" href="vmxnet_debug.h.html#97" title="do { if (0) { printf(&quot;[%s][PK][%s]: &quot; &quot;RX: %zu of %zu bytes indicated&quot; &quot;\n&quot;, &quot;vmxnet3&quot;, __func__, bytes_indicated, size); } } while (0)" data-ref="_M/VMW_PKPRN">VMW_PKPRN</a>(<q>"RX: %zu of %zu bytes indicated"</q>, <a class="local col0 ref" href="#340bytes_indicated" title='bytes_indicated' data-ref="340bytes_indicated">bytes_indicated</a>, <a class="local col8 ref" href="#338size" title='size' data-ref="338size">size</a>);</td></tr>
<tr><th id="2070">2070</th><td>        }</td></tr>
<tr><th id="2071">2071</th><td>    } <b>else</b> {</td></tr>
<tr><th id="2072">2072</th><td>        <a class="macro" href="vmxnet_debug.h.html#97" title="do { if (0) { printf(&quot;[%s][PK][%s]: &quot; &quot;Packet dropped by RX filter&quot; &quot;\n&quot;, &quot;vmxnet3&quot;, __func__); } } while (0)" data-ref="_M/VMW_PKPRN">VMW_PKPRN</a>(<q>"Packet dropped by RX filter"</q>);</td></tr>
<tr><th id="2073">2073</th><td>        <a class="local col0 ref" href="#340bytes_indicated" title='bytes_indicated' data-ref="340bytes_indicated">bytes_indicated</a> = <a class="local col8 ref" href="#338size" title='size' data-ref="338size">size</a>;</td></tr>
<tr><th id="2074">2074</th><td>    }</td></tr>
<tr><th id="2075">2075</th><td></td></tr>
<tr><th id="2076">2076</th><td>    <a class="macro" href="../../../include/assert.h.html#88" title="((size &gt; 0) ? (void) (0) : __assert_fail (&quot;size &gt; 0&quot;, &quot;/home/jon/workspace/qemu/hw/net/vmxnet3.c&quot;, 2076, __PRETTY_FUNCTION__))" data-ref="_M/assert">assert</a>(<a class="local col8 ref" href="#338size" title='size' data-ref="338size">size</a> &gt; <var>0</var>);</td></tr>
<tr><th id="2077">2077</th><td>    <a class="macro" href="../../../include/assert.h.html#88" title="((bytes_indicated != 0) ? (void) (0) : __assert_fail (&quot;bytes_indicated != 0&quot;, &quot;/home/jon/workspace/qemu/hw/net/vmxnet3.c&quot;, 2077, __PRETTY_FUNCTION__))" data-ref="_M/assert">assert</a>(<a class="local col0 ref" href="#340bytes_indicated" title='bytes_indicated' data-ref="340bytes_indicated">bytes_indicated</a> != <var>0</var>);</td></tr>
<tr><th id="2078">2078</th><td>    <b>return</b> <a class="local col0 ref" href="#340bytes_indicated" title='bytes_indicated' data-ref="340bytes_indicated">bytes_indicated</a>;</td></tr>
<tr><th id="2079">2079</th><td>}</td></tr>
<tr><th id="2080">2080</th><td></td></tr>
<tr><th id="2081">2081</th><td><em>static</em> <em>void</em> <dfn class="tu decl def" id="vmxnet3_set_link_status" title='vmxnet3_set_link_status' data-type='void vmxnet3_set_link_status(NetClientState * nc)' data-ref="vmxnet3_set_link_status">vmxnet3_set_link_status</dfn>(<a class="typedef" href="../../include/qemu/typedefs.h.html#NetClientState" title='NetClientState' data-type='struct NetClientState' data-ref="NetClientState">NetClientState</a> *<dfn class="local col2 decl" id="342nc" title='nc' data-type='NetClientState *' data-ref="342nc">nc</dfn>)</td></tr>
<tr><th id="2082">2082</th><td>{</td></tr>
<tr><th id="2083">2083</th><td>    <a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a> *<dfn class="local col3 decl" id="343s" title='s' data-type='VMXNET3State *' data-ref="343s">s</dfn> = <a class="ref" href="../../include/net/net.h.html#qemu_get_nic_opaque" title='qemu_get_nic_opaque' data-ref="qemu_get_nic_opaque">qemu_get_nic_opaque</a>(<a class="local col2 ref" href="#342nc" title='nc' data-ref="342nc">nc</a>);</td></tr>
<tr><th id="2084">2084</th><td></td></tr>
<tr><th id="2085">2085</th><td>    <b>if</b> (<a class="local col2 ref" href="#342nc" title='nc' data-ref="342nc">nc</a>-&gt;<a class="ref" href="../../include/net/net.h.html#NetClientState::link_down" title='NetClientState::link_down' data-ref="NetClientState::link_down">link_down</a>) {</td></tr>
<tr><th id="2086">2086</th><td>        <a class="local col3 ref" href="#343s" title='s' data-ref="343s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::link_status_and_speed" title='(anonymous struct)::link_status_and_speed' data-use='w' data-ref="(anonymous)::link_status_and_speed">link_status_and_speed</a> &amp;= ~<a class="macro" href="#68" title="0x1" data-ref="_M/VMXNET3_LINK_STATUS_UP">VMXNET3_LINK_STATUS_UP</a>;</td></tr>
<tr><th id="2087">2087</th><td>    } <b>else</b> {</td></tr>
<tr><th id="2088">2088</th><td>        <a class="local col3 ref" href="#343s" title='s' data-ref="343s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::link_status_and_speed" title='(anonymous struct)::link_status_and_speed' data-use='w' data-ref="(anonymous)::link_status_and_speed">link_status_and_speed</a> |= <a class="macro" href="#68" title="0x1" data-ref="_M/VMXNET3_LINK_STATUS_UP">VMXNET3_LINK_STATUS_UP</a>;</td></tr>
<tr><th id="2089">2089</th><td>    }</td></tr>
<tr><th id="2090">2090</th><td></td></tr>
<tr><th id="2091">2091</th><td>    <a class="tu ref" href="#vmxnet3_set_events" title='vmxnet3_set_events' data-use='c' data-ref="vmxnet3_set_events">vmxnet3_set_events</a>(<a class="local col3 ref" href="#343s" title='s' data-ref="343s">s</a>, <a class="macro" href="vmxnet3.h.html#718" title="(1 &lt;&lt; 2)" data-ref="_M/VMXNET3_ECR_LINK">VMXNET3_ECR_LINK</a>);</td></tr>
<tr><th id="2092">2092</th><td>    <a class="tu ref" href="#vmxnet3_trigger_interrupt" title='vmxnet3_trigger_interrupt' data-use='c' data-ref="vmxnet3_trigger_interrupt">vmxnet3_trigger_interrupt</a>(<a class="local col3 ref" href="#343s" title='s' data-ref="343s">s</a>, <a class="local col3 ref" href="#343s" title='s' data-ref="343s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::event_int_idx" title='(anonymous struct)::event_int_idx' data-use='r' data-ref="(anonymous)::event_int_idx">event_int_idx</a>);</td></tr>
<tr><th id="2093">2093</th><td>}</td></tr>
<tr><th id="2094">2094</th><td></td></tr>
<tr><th id="2095">2095</th><td><em>static</em> <a class="typedef" href="../../include/net/net.h.html#NetClientInfo" title='NetClientInfo' data-type='struct NetClientInfo' data-ref="NetClientInfo">NetClientInfo</a> <dfn class="tu decl def" id="net_vmxnet3_info" title='net_vmxnet3_info' data-type='NetClientInfo' data-ref="net_vmxnet3_info">net_vmxnet3_info</dfn> = {</td></tr>
<tr><th id="2096">2096</th><td>        .<a class="ref" href="../../include/net/net.h.html#NetClientInfo::type" title='NetClientInfo::type' data-ref="NetClientInfo::type">type</a> = <a class="enum" href="../../qapi-types.h.html#NetClientDriver::NET_CLIENT_DRIVER_NIC" title='NetClientDriver::NET_CLIENT_DRIVER_NIC' data-ref="NetClientDriver::NET_CLIENT_DRIVER_NIC">NET_CLIENT_DRIVER_NIC</a>,</td></tr>
<tr><th id="2097">2097</th><td>        .<a class="ref" href="../../include/net/net.h.html#NetClientInfo::size" title='NetClientInfo::size' data-ref="NetClientInfo::size">size</a> = <b>sizeof</b>(<a class="typedef" href="../../include/net/net.h.html#NICState" title='NICState' data-type='struct NICState' data-ref="NICState">NICState</a>),</td></tr>
<tr><th id="2098">2098</th><td>        .<a class="ref" href="../../include/net/net.h.html#NetClientInfo::receive" title='NetClientInfo::receive' data-ref="NetClientInfo::receive">receive</a> = <a class="tu ref" href="#vmxnet3_receive" title='vmxnet3_receive' data-use='r' data-ref="vmxnet3_receive">vmxnet3_receive</a>,</td></tr>
<tr><th id="2099">2099</th><td>        .<a class="ref" href="../../include/net/net.h.html#NetClientInfo::link_status_changed" title='NetClientInfo::link_status_changed' data-ref="NetClientInfo::link_status_changed">link_status_changed</a> = <a class="tu ref" href="#vmxnet3_set_link_status" title='vmxnet3_set_link_status' data-use='r' data-ref="vmxnet3_set_link_status">vmxnet3_set_link_status</a>,</td></tr>
<tr><th id="2100">2100</th><td>};</td></tr>
<tr><th id="2101">2101</th><td></td></tr>
<tr><th id="2102">2102</th><td><em>static</em> <span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="tu decl def" id="vmxnet3_peer_has_vnet_hdr" title='vmxnet3_peer_has_vnet_hdr' data-type='_Bool vmxnet3_peer_has_vnet_hdr(VMXNET3State * s)' data-ref="vmxnet3_peer_has_vnet_hdr">vmxnet3_peer_has_vnet_hdr</dfn>(<a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a> *<dfn class="local col4 decl" id="344s" title='s' data-type='VMXNET3State *' data-ref="344s">s</dfn>)</td></tr>
<tr><th id="2103">2103</th><td>{</td></tr>
<tr><th id="2104">2104</th><td>    <a class="typedef" href="../../include/qemu/typedefs.h.html#NetClientState" title='NetClientState' data-type='struct NetClientState' data-ref="NetClientState">NetClientState</a> *<dfn class="local col5 decl" id="345nc" title='nc' data-type='NetClientState *' data-ref="345nc">nc</dfn> = <a class="ref" href="../../include/net/net.h.html#qemu_get_queue" title='qemu_get_queue' data-ref="qemu_get_queue">qemu_get_queue</a>(<a class="local col4 ref" href="#344s" title='s' data-ref="344s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::nic" title='(anonymous struct)::nic' data-use='r' data-ref="(anonymous)::nic">nic</a>);</td></tr>
<tr><th id="2105">2105</th><td></td></tr>
<tr><th id="2106">2106</th><td>    <b>if</b> (<a class="ref" href="../../include/net/net.h.html#qemu_has_vnet_hdr" title='qemu_has_vnet_hdr' data-ref="qemu_has_vnet_hdr">qemu_has_vnet_hdr</a>(<a class="local col5 ref" href="#345nc" title='nc' data-ref="345nc">nc</a>-&gt;<a class="ref" href="../../include/net/net.h.html#NetClientState::peer" title='NetClientState::peer' data-ref="NetClientState::peer">peer</a>)) {</td></tr>
<tr><th id="2107">2107</th><td>        <b>return</b> <span class="macro" title="1" data-ref="_M/true">true</span>;</td></tr>
<tr><th id="2108">2108</th><td>    }</td></tr>
<tr><th id="2109">2109</th><td></td></tr>
<tr><th id="2110">2110</th><td>    <b>return</b> <span class="macro" title="0" data-ref="_M/false">false</span>;</td></tr>
<tr><th id="2111">2111</th><td>}</td></tr>
<tr><th id="2112">2112</th><td></td></tr>
<tr><th id="2113">2113</th><td><em>static</em> <em>void</em> <dfn class="tu decl def" id="vmxnet3_net_uninit" title='vmxnet3_net_uninit' data-type='void vmxnet3_net_uninit(VMXNET3State * s)' data-ref="vmxnet3_net_uninit">vmxnet3_net_uninit</dfn>(<a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a> *<dfn class="local col6 decl" id="346s" title='s' data-type='VMXNET3State *' data-ref="346s">s</dfn>)</td></tr>
<tr><th id="2114">2114</th><td>{</td></tr>
<tr><th id="2115">2115</th><td>    <a class="ref" href="../../../include/glib-2.0/glib/gmem.h.html#g_free" title='g_free' data-ref="g_free">g_free</a>(<a class="local col6 ref" href="#346s" title='s' data-ref="346s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::mcast_list" title='(anonymous struct)::mcast_list' data-use='r' data-ref="(anonymous)::mcast_list">mcast_list</a>);</td></tr>
<tr><th id="2116">2116</th><td>    <a class="tu ref" href="#vmxnet3_deactivate_device" title='vmxnet3_deactivate_device' data-use='c' data-ref="vmxnet3_deactivate_device">vmxnet3_deactivate_device</a>(<a class="local col6 ref" href="#346s" title='s' data-ref="346s">s</a>);</td></tr>
<tr><th id="2117">2117</th><td>    <a class="ref" href="../../include/net/net.h.html#qemu_del_nic" title='qemu_del_nic' data-ref="qemu_del_nic">qemu_del_nic</a>(<a class="local col6 ref" href="#346s" title='s' data-ref="346s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::nic" title='(anonymous struct)::nic' data-use='r' data-ref="(anonymous)::nic">nic</a>);</td></tr>
<tr><th id="2118">2118</th><td>}</td></tr>
<tr><th id="2119">2119</th><td></td></tr>
<tr><th id="2120">2120</th><td><em>static</em> <em>void</em> <dfn class="tu decl def" id="vmxnet3_net_init" title='vmxnet3_net_init' data-type='void vmxnet3_net_init(VMXNET3State * s)' data-ref="vmxnet3_net_init">vmxnet3_net_init</dfn>(<a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a> *<dfn class="local col7 decl" id="347s" title='s' data-type='VMXNET3State *' data-ref="347s">s</dfn>)</td></tr>
<tr><th id="2121">2121</th><td>{</td></tr>
<tr><th id="2122">2122</th><td>    <a class="typedef" href="../../include/qemu/typedefs.h.html#DeviceState" title='DeviceState' data-type='struct DeviceState' data-ref="DeviceState">DeviceState</a> *<dfn class="local col8 decl" id="348d" title='d' data-type='DeviceState *' data-ref="348d">d</dfn> = <a class="macro" href="../../include/hw/qdev-core.h.html#16" title="((DeviceState *)object_dynamic_cast_assert(((Object *)((s))), (&quot;device&quot;), &quot;/home/jon/workspace/qemu/hw/net/vmxnet3.c&quot;, 2122, __func__))" data-ref="_M/DEVICE">DEVICE</a>(<a class="local col7 ref" href="#347s" title='s' data-ref="347s">s</a>);</td></tr>
<tr><th id="2123">2123</th><td></td></tr>
<tr><th id="2124">2124</th><td>    <a class="macro" href="vmxnet_debug.h.html#89" title="do { if (0) { printf(&quot;[%s][CB][%s]: &quot; &quot;vmxnet3_net_init called...&quot; &quot;\n&quot;, &quot;vmxnet3&quot;, __func__); } } while (0)" data-ref="_M/VMW_CBPRN">VMW_CBPRN</a>(<q>"vmxnet3_net_init called..."</q>);</td></tr>
<tr><th id="2125">2125</th><td></td></tr>
<tr><th id="2126">2126</th><td>    <a class="ref" href="../../include/net/net.h.html#qemu_macaddr_default_if_unset" title='qemu_macaddr_default_if_unset' data-ref="qemu_macaddr_default_if_unset">qemu_macaddr_default_if_unset</a>(&amp;<a class="local col7 ref" href="#347s" title='s' data-ref="347s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::conf" title='(anonymous struct)::conf' data-use='m' data-ref="(anonymous)::conf">conf</a>.<a class="ref" href="../../include/net/net.h.html#NICConf::macaddr" title='NICConf::macaddr' data-ref="NICConf::macaddr">macaddr</a>);</td></tr>
<tr><th id="2127">2127</th><td></td></tr>
<tr><th id="2128">2128</th><td>    <i>/* Windows guest will query the address that was set on init */</i></td></tr>
<tr><th id="2129">2129</th><td>    <a class="ref" href="../../../include/string.h.html#memcpy" title='memcpy' data-ref="memcpy">memcpy</a>(&amp;<a class="local col7 ref" href="#347s" title='s' data-ref="347s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::perm_mac" title='(anonymous struct)::perm_mac' data-use='m' data-ref="(anonymous)::perm_mac">perm_mac</a>.<a class="ref" href="../../include/net/net.h.html#MACAddr::a" title='MACAddr::a' data-ref="MACAddr::a">a</a>, &amp;<a class="local col7 ref" href="#347s" title='s' data-ref="347s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::conf" title='(anonymous struct)::conf' data-use='m' data-ref="(anonymous)::conf">conf</a>.<a class="ref" href="../../include/net/net.h.html#NICConf::macaddr" title='NICConf::macaddr' data-ref="NICConf::macaddr">macaddr</a>.<a class="ref" href="../../include/net/net.h.html#MACAddr::a" title='MACAddr::a' data-ref="MACAddr::a">a</a>, <b>sizeof</b>(<a class="local col7 ref" href="#347s" title='s' data-ref="347s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::perm_mac" title='(anonymous struct)::perm_mac' data-use='m' data-ref="(anonymous)::perm_mac">perm_mac</a>.<a class="ref" href="../../include/net/net.h.html#MACAddr::a" title='MACAddr::a' data-ref="MACAddr::a">a</a>));</td></tr>
<tr><th id="2130">2130</th><td></td></tr>
<tr><th id="2131">2131</th><td>    <a class="local col7 ref" href="#347s" title='s' data-ref="347s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::mcast_list" title='(anonymous struct)::mcast_list' data-use='w' data-ref="(anonymous)::mcast_list">mcast_list</a> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="2132">2132</th><td>    <a class="local col7 ref" href="#347s" title='s' data-ref="347s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::mcast_list_len" title='(anonymous struct)::mcast_list_len' data-use='w' data-ref="(anonymous)::mcast_list_len">mcast_list_len</a> = <var>0</var>;</td></tr>
<tr><th id="2133">2133</th><td></td></tr>
<tr><th id="2134">2134</th><td>    <a class="local col7 ref" href="#347s" title='s' data-ref="347s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::link_status_and_speed" title='(anonymous struct)::link_status_and_speed' data-use='w' data-ref="(anonymous)::link_status_and_speed">link_status_and_speed</a> = <a class="macro" href="#65" title="(1000 &lt;&lt; 16)" data-ref="_M/VMXNET3_LINK_SPEED">VMXNET3_LINK_SPEED</a> | <a class="macro" href="#68" title="0x1" data-ref="_M/VMXNET3_LINK_STATUS_UP">VMXNET3_LINK_STATUS_UP</a>;</td></tr>
<tr><th id="2135">2135</th><td></td></tr>
<tr><th id="2136">2136</th><td>    <a class="macro" href="vmxnet_debug.h.html#129" title="do { if (0) { printf(&quot;[%s][CF][%s]: &quot; &quot;Permanent MAC: &quot; &quot;%02X:%02X:%02X:%02X:%02X:%02X&quot; &quot;\n&quot;, &quot;vmxnet3&quot;, __func__, ((uint8_t *)(s-&gt;perm_mac.a))[0], ((uint8_t *)(s-&gt;perm_mac.a))[1], ((uint8_t *)(s-&gt;perm_mac.a))[2], ((uint8_t *)(s-&gt;perm_mac.a))[3], ((uint8_t *)(s-&gt;perm_mac.a))[4], ((uint8_t *)(s-&gt;perm_mac.a))[5]); } } while (0)" data-ref="_M/VMW_CFPRN">VMW_CFPRN</a>(<q>"Permanent MAC: "</q> <a class="macro" href="../../include/net/net.h.html#12" title="&quot;%02X:%02X:%02X:%02X:%02X:%02X&quot;" data-ref="_M/MAC_FMT">MAC_FMT</a>, MAC_ARG(<a class="local col7 ref" href="#347s" title='s' data-ref="347s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::perm_mac" title='(anonymous struct)::perm_mac' data-use='m' data-ref="(anonymous)::perm_mac">perm_mac</a>.<a class="ref" href="../../include/net/net.h.html#MACAddr::a" title='MACAddr::a' data-ref="MACAddr::a">a</a>));</td></tr>
<tr><th id="2137">2137</th><td></td></tr>
<tr><th id="2138">2138</th><td>    <a class="local col7 ref" href="#347s" title='s' data-ref="347s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::nic" title='(anonymous struct)::nic' data-use='w' data-ref="(anonymous)::nic">nic</a> = <a class="ref" href="../../include/net/net.h.html#qemu_new_nic" title='qemu_new_nic' data-ref="qemu_new_nic">qemu_new_nic</a>(&amp;<a class="tu ref" href="#net_vmxnet3_info" title='net_vmxnet3_info' data-use='a' data-ref="net_vmxnet3_info">net_vmxnet3_info</a>, &amp;<a class="local col7 ref" href="#347s" title='s' data-ref="347s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::conf" title='(anonymous struct)::conf' data-use='a' data-ref="(anonymous)::conf">conf</a>,</td></tr>
<tr><th id="2139">2139</th><td>                          <a class="ref" href="../../include/qom/object.h.html#object_get_typename" title='object_get_typename' data-ref="object_get_typename">object_get_typename</a>(<a class="macro" href="../../include/qom/object.h.html#473" title="((Object *)(s))" data-ref="_M/OBJECT">OBJECT</a>(<a class="local col7 ref" href="#347s" title='s' data-ref="347s">s</a>)),</td></tr>
<tr><th id="2140">2140</th><td>                          <a class="local col8 ref" href="#348d" title='d' data-ref="348d">d</a>-&gt;<a class="ref" href="../../include/hw/qdev-core.h.html#DeviceState::id" title='DeviceState::id' data-ref="DeviceState::id">id</a>, <a class="local col7 ref" href="#347s" title='s' data-ref="347s">s</a>);</td></tr>
<tr><th id="2141">2141</th><td></td></tr>
<tr><th id="2142">2142</th><td>    <a class="local col7 ref" href="#347s" title='s' data-ref="347s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::peer_has_vhdr" title='(anonymous struct)::peer_has_vhdr' data-use='w' data-ref="(anonymous)::peer_has_vhdr">peer_has_vhdr</a> = <a class="tu ref" href="#vmxnet3_peer_has_vnet_hdr" title='vmxnet3_peer_has_vnet_hdr' data-use='c' data-ref="vmxnet3_peer_has_vnet_hdr">vmxnet3_peer_has_vnet_hdr</a>(<a class="local col7 ref" href="#347s" title='s' data-ref="347s">s</a>);</td></tr>
<tr><th id="2143">2143</th><td>    <a class="local col7 ref" href="#347s" title='s' data-ref="347s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::tx_sop" title='(anonymous struct)::tx_sop' data-use='w' data-ref="(anonymous)::tx_sop">tx_sop</a> = <span class="macro" title="1" data-ref="_M/true">true</span>;</td></tr>
<tr><th id="2144">2144</th><td>    <a class="local col7 ref" href="#347s" title='s' data-ref="347s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::skip_current_tx_pkt" title='(anonymous struct)::skip_current_tx_pkt' data-use='w' data-ref="(anonymous)::skip_current_tx_pkt">skip_current_tx_pkt</a> = <span class="macro" title="0" data-ref="_M/false">false</span>;</td></tr>
<tr><th id="2145">2145</th><td>    <a class="local col7 ref" href="#347s" title='s' data-ref="347s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::tx_pkt" title='(anonymous struct)::tx_pkt' data-use='w' data-ref="(anonymous)::tx_pkt">tx_pkt</a> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="2146">2146</th><td>    <a class="local col7 ref" href="#347s" title='s' data-ref="347s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::rx_pkt" title='(anonymous struct)::rx_pkt' data-use='w' data-ref="(anonymous)::rx_pkt">rx_pkt</a> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="2147">2147</th><td>    <a class="local col7 ref" href="#347s" title='s' data-ref="347s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::rx_vlan_stripping" title='(anonymous struct)::rx_vlan_stripping' data-use='w' data-ref="(anonymous)::rx_vlan_stripping">rx_vlan_stripping</a> = <span class="macro" title="0" data-ref="_M/false">false</span>;</td></tr>
<tr><th id="2148">2148</th><td>    <a class="local col7 ref" href="#347s" title='s' data-ref="347s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::lro_supported" title='(anonymous struct)::lro_supported' data-use='w' data-ref="(anonymous)::lro_supported">lro_supported</a> = <span class="macro" title="0" data-ref="_M/false">false</span>;</td></tr>
<tr><th id="2149">2149</th><td></td></tr>
<tr><th id="2150">2150</th><td>    <b>if</b> (<a class="local col7 ref" href="#347s" title='s' data-ref="347s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::peer_has_vhdr" title='(anonymous struct)::peer_has_vhdr' data-use='r' data-ref="(anonymous)::peer_has_vhdr">peer_has_vhdr</a>) {</td></tr>
<tr><th id="2151">2151</th><td>        <a class="ref" href="../../include/net/net.h.html#qemu_set_vnet_hdr_len" title='qemu_set_vnet_hdr_len' data-ref="qemu_set_vnet_hdr_len">qemu_set_vnet_hdr_len</a>(<a class="ref" href="../../include/net/net.h.html#qemu_get_queue" title='qemu_get_queue' data-ref="qemu_get_queue">qemu_get_queue</a>(<a class="local col7 ref" href="#347s" title='s' data-ref="347s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::nic" title='(anonymous struct)::nic' data-use='r' data-ref="(anonymous)::nic">nic</a>)-&gt;<a class="ref" href="../../include/net/net.h.html#NetClientState::peer" title='NetClientState::peer' data-ref="NetClientState::peer">peer</a>,</td></tr>
<tr><th id="2152">2152</th><td>            <b>sizeof</b>(<b>struct</b> <a class="type" href="../../include/standard-headers/linux/virtio_net.h.html#virtio_net_hdr" title='virtio_net_hdr' data-ref="virtio_net_hdr">virtio_net_hdr</a>));</td></tr>
<tr><th id="2153">2153</th><td></td></tr>
<tr><th id="2154">2154</th><td>        <a class="ref" href="../../include/net/net.h.html#qemu_using_vnet_hdr" title='qemu_using_vnet_hdr' data-ref="qemu_using_vnet_hdr">qemu_using_vnet_hdr</a>(<a class="ref" href="../../include/net/net.h.html#qemu_get_queue" title='qemu_get_queue' data-ref="qemu_get_queue">qemu_get_queue</a>(<a class="local col7 ref" href="#347s" title='s' data-ref="347s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::nic" title='(anonymous struct)::nic' data-use='r' data-ref="(anonymous)::nic">nic</a>)-&gt;<a class="ref" href="../../include/net/net.h.html#NetClientState::peer" title='NetClientState::peer' data-ref="NetClientState::peer">peer</a>, <var>1</var>);</td></tr>
<tr><th id="2155">2155</th><td>    }</td></tr>
<tr><th id="2156">2156</th><td></td></tr>
<tr><th id="2157">2157</th><td>    <a class="ref" href="../../include/net/net.h.html#qemu_format_nic_info_str" title='qemu_format_nic_info_str' data-ref="qemu_format_nic_info_str">qemu_format_nic_info_str</a>(<a class="ref" href="../../include/net/net.h.html#qemu_get_queue" title='qemu_get_queue' data-ref="qemu_get_queue">qemu_get_queue</a>(<a class="local col7 ref" href="#347s" title='s' data-ref="347s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::nic" title='(anonymous struct)::nic' data-use='r' data-ref="(anonymous)::nic">nic</a>), <a class="local col7 ref" href="#347s" title='s' data-ref="347s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::conf" title='(anonymous struct)::conf' data-use='m' data-ref="(anonymous)::conf">conf</a>.<a class="ref" href="../../include/net/net.h.html#NICConf::macaddr" title='NICConf::macaddr' data-ref="NICConf::macaddr">macaddr</a>.<a class="ref" href="../../include/net/net.h.html#MACAddr::a" title='MACAddr::a' data-ref="MACAddr::a">a</a>);</td></tr>
<tr><th id="2158">2158</th><td>}</td></tr>
<tr><th id="2159">2159</th><td></td></tr>
<tr><th id="2160">2160</th><td><em>static</em> <em>void</em></td></tr>
<tr><th id="2161">2161</th><td><dfn class="tu decl def" id="vmxnet3_unuse_msix_vectors" title='vmxnet3_unuse_msix_vectors' data-type='void vmxnet3_unuse_msix_vectors(VMXNET3State * s, int num_vectors)' data-ref="vmxnet3_unuse_msix_vectors">vmxnet3_unuse_msix_vectors</dfn>(<a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a> *<dfn class="local col9 decl" id="349s" title='s' data-type='VMXNET3State *' data-ref="349s">s</dfn>, <em>int</em> <dfn class="local col0 decl" id="350num_vectors" title='num_vectors' data-type='int' data-ref="350num_vectors">num_vectors</dfn>)</td></tr>
<tr><th id="2162">2162</th><td>{</td></tr>
<tr><th id="2163">2163</th><td>    <a class="typedef" href="../../include/qemu/typedefs.h.html#PCIDevice" title='PCIDevice' data-type='struct PCIDevice' data-ref="PCIDevice">PCIDevice</a> *<dfn class="local col1 decl" id="351d" title='d' data-type='PCIDevice *' data-ref="351d">d</dfn> = <a class="macro" href="../../include/hw/pci/pci.h.html#191" title="((PCIDevice *)object_dynamic_cast_assert(((Object *)((s))), (&quot;pci-device&quot;), &quot;/home/jon/workspace/qemu/hw/net/vmxnet3.c&quot;, 2163, __func__))" data-ref="_M/PCI_DEVICE">PCI_DEVICE</a>(<a class="local col9 ref" href="#349s" title='s' data-ref="349s">s</a>);</td></tr>
<tr><th id="2164">2164</th><td>    <em>int</em> <dfn class="local col2 decl" id="352i" title='i' data-type='int' data-ref="352i">i</dfn>;</td></tr>
<tr><th id="2165">2165</th><td>    <b>for</b> (<a class="local col2 ref" href="#352i" title='i' data-ref="352i">i</a> = <var>0</var>; <a class="local col2 ref" href="#352i" title='i' data-ref="352i">i</a> &lt; <a class="local col0 ref" href="#350num_vectors" title='num_vectors' data-ref="350num_vectors">num_vectors</a>; <a class="local col2 ref" href="#352i" title='i' data-ref="352i">i</a>++) {</td></tr>
<tr><th id="2166">2166</th><td>        <a class="ref" href="../../include/hw/pci/msix.h.html#msix_vector_unuse" title='msix_vector_unuse' data-ref="msix_vector_unuse">msix_vector_unuse</a>(<a class="local col1 ref" href="#351d" title='d' data-ref="351d">d</a>, <a class="local col2 ref" href="#352i" title='i' data-ref="352i">i</a>);</td></tr>
<tr><th id="2167">2167</th><td>    }</td></tr>
<tr><th id="2168">2168</th><td>}</td></tr>
<tr><th id="2169">2169</th><td></td></tr>
<tr><th id="2170">2170</th><td><em>static</em> <span class="macro" title="_Bool" data-ref="_M/bool">bool</span></td></tr>
<tr><th id="2171">2171</th><td><dfn class="tu decl def" id="vmxnet3_use_msix_vectors" title='vmxnet3_use_msix_vectors' data-type='_Bool vmxnet3_use_msix_vectors(VMXNET3State * s, int num_vectors)' data-ref="vmxnet3_use_msix_vectors">vmxnet3_use_msix_vectors</dfn>(<a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a> *<dfn class="local col3 decl" id="353s" title='s' data-type='VMXNET3State *' data-ref="353s">s</dfn>, <em>int</em> <dfn class="local col4 decl" id="354num_vectors" title='num_vectors' data-type='int' data-ref="354num_vectors">num_vectors</dfn>)</td></tr>
<tr><th id="2172">2172</th><td>{</td></tr>
<tr><th id="2173">2173</th><td>    <a class="typedef" href="../../include/qemu/typedefs.h.html#PCIDevice" title='PCIDevice' data-type='struct PCIDevice' data-ref="PCIDevice">PCIDevice</a> *<dfn class="local col5 decl" id="355d" title='d' data-type='PCIDevice *' data-ref="355d">d</dfn> = <a class="macro" href="../../include/hw/pci/pci.h.html#191" title="((PCIDevice *)object_dynamic_cast_assert(((Object *)((s))), (&quot;pci-device&quot;), &quot;/home/jon/workspace/qemu/hw/net/vmxnet3.c&quot;, 2173, __func__))" data-ref="_M/PCI_DEVICE">PCI_DEVICE</a>(<a class="local col3 ref" href="#353s" title='s' data-ref="353s">s</a>);</td></tr>
<tr><th id="2174">2174</th><td>    <em>int</em> <dfn class="local col6 decl" id="356i" title='i' data-type='int' data-ref="356i">i</dfn>;</td></tr>
<tr><th id="2175">2175</th><td>    <b>for</b> (<a class="local col6 ref" href="#356i" title='i' data-ref="356i">i</a> = <var>0</var>; <a class="local col6 ref" href="#356i" title='i' data-ref="356i">i</a> &lt; <a class="local col4 ref" href="#354num_vectors" title='num_vectors' data-ref="354num_vectors">num_vectors</a>; <a class="local col6 ref" href="#356i" title='i' data-ref="356i">i</a>++) {</td></tr>
<tr><th id="2176">2176</th><td>        <em>int</em> <dfn class="local col7 decl" id="357res" title='res' data-type='int' data-ref="357res">res</dfn> = <a class="ref" href="../../include/hw/pci/msix.h.html#msix_vector_use" title='msix_vector_use' data-ref="msix_vector_use">msix_vector_use</a>(<a class="local col5 ref" href="#355d" title='d' data-ref="355d">d</a>, <a class="local col6 ref" href="#356i" title='i' data-ref="356i">i</a>);</td></tr>
<tr><th id="2177">2177</th><td>        <b>if</b> (<var>0</var> &gt; <a class="local col7 ref" href="#357res" title='res' data-ref="357res">res</a>) {</td></tr>
<tr><th id="2178">2178</th><td>            <a class="macro" href="vmxnet_debug.h.html#105" title="do { if (1) { printf(&quot;[%s][WR][%s]: &quot; &quot;Failed to use MSI-X vector %d, error %d&quot; &quot;\n&quot;, &quot;vmxnet3&quot;, __func__, i, res); } } while (0)" data-ref="_M/VMW_WRPRN">VMW_WRPRN</a>(<q>"Failed to use MSI-X vector %d, error %d"</q>, <a class="local col6 ref" href="#356i" title='i' data-ref="356i">i</a>, <a class="local col7 ref" href="#357res" title='res' data-ref="357res">res</a>);</td></tr>
<tr><th id="2179">2179</th><td>            <a class="tu ref" href="#vmxnet3_unuse_msix_vectors" title='vmxnet3_unuse_msix_vectors' data-use='c' data-ref="vmxnet3_unuse_msix_vectors">vmxnet3_unuse_msix_vectors</a>(<a class="local col3 ref" href="#353s" title='s' data-ref="353s">s</a>, <a class="local col6 ref" href="#356i" title='i' data-ref="356i">i</a>);</td></tr>
<tr><th id="2180">2180</th><td>            <b>return</b> <span class="macro" title="0" data-ref="_M/false">false</span>;</td></tr>
<tr><th id="2181">2181</th><td>        }</td></tr>
<tr><th id="2182">2182</th><td>    }</td></tr>
<tr><th id="2183">2183</th><td>    <b>return</b> <span class="macro" title="1" data-ref="_M/true">true</span>;</td></tr>
<tr><th id="2184">2184</th><td>}</td></tr>
<tr><th id="2185">2185</th><td></td></tr>
<tr><th id="2186">2186</th><td><em>static</em> <span class="macro" title="_Bool" data-ref="_M/bool">bool</span></td></tr>
<tr><th id="2187">2187</th><td><dfn class="tu decl def" id="vmxnet3_init_msix" title='vmxnet3_init_msix' data-type='_Bool vmxnet3_init_msix(VMXNET3State * s)' data-ref="vmxnet3_init_msix">vmxnet3_init_msix</dfn>(<a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a> *<dfn class="local col8 decl" id="358s" title='s' data-type='VMXNET3State *' data-ref="358s">s</dfn>)</td></tr>
<tr><th id="2188">2188</th><td>{</td></tr>
<tr><th id="2189">2189</th><td>    <a class="typedef" href="../../include/qemu/typedefs.h.html#PCIDevice" title='PCIDevice' data-type='struct PCIDevice' data-ref="PCIDevice">PCIDevice</a> *<dfn class="local col9 decl" id="359d" title='d' data-type='PCIDevice *' data-ref="359d">d</dfn> = <a class="macro" href="../../include/hw/pci/pci.h.html#191" title="((PCIDevice *)object_dynamic_cast_assert(((Object *)((s))), (&quot;pci-device&quot;), &quot;/home/jon/workspace/qemu/hw/net/vmxnet3.c&quot;, 2189, __func__))" data-ref="_M/PCI_DEVICE">PCI_DEVICE</a>(<a class="local col8 ref" href="#358s" title='s' data-ref="358s">s</a>);</td></tr>
<tr><th id="2190">2190</th><td>    <em>int</em> <dfn class="local col0 decl" id="360res" title='res' data-type='int' data-ref="360res">res</dfn> = <a class="ref" href="../../include/hw/pci/msix.h.html#msix_init" title='msix_init' data-ref="msix_init">msix_init</a>(<a class="local col9 ref" href="#359d" title='d' data-ref="359d">d</a>, <a class="macro" href="vmxnet3.h.html#584" title="25" data-ref="_M/VMXNET3_MAX_INTRS">VMXNET3_MAX_INTRS</a>,</td></tr>
<tr><th id="2191">2191</th><td>                        &amp;<a class="local col8 ref" href="#358s" title='s' data-ref="358s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::msix_bar" title='(anonymous struct)::msix_bar' data-use='a' data-ref="(anonymous)::msix_bar">msix_bar</a>,</td></tr>
<tr><th id="2192">2192</th><td>                        <a class="macro" href="#58" title="(2)" data-ref="_M/VMXNET3_MSIX_BAR_IDX">VMXNET3_MSIX_BAR_IDX</a>, <a class="macro" href="#60" title="(0x000)" data-ref="_M/VMXNET3_OFF_MSIX_TABLE">VMXNET3_OFF_MSIX_TABLE</a>,</td></tr>
<tr><th id="2193">2193</th><td>                        &amp;<a class="local col8 ref" href="#358s" title='s' data-ref="358s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::msix_bar" title='(anonymous struct)::msix_bar' data-use='a' data-ref="(anonymous)::msix_bar">msix_bar</a>,</td></tr>
<tr><th id="2194">2194</th><td>                        <a class="macro" href="#58" title="(2)" data-ref="_M/VMXNET3_MSIX_BAR_IDX">VMXNET3_MSIX_BAR_IDX</a>, <a class="macro" href="#61" title="((s)-&gt;compat_flags &amp; (1 &lt;&lt; 0) ? 0x800 : 0x1000)" data-ref="_M/VMXNET3_OFF_MSIX_PBA">VMXNET3_OFF_MSIX_PBA</a>(<a class="local col8 ref" href="#358s" title='s' data-ref="358s">s</a>),</td></tr>
<tr><th id="2195">2195</th><td>                        <a class="macro" href="#52" title="((s)-&gt;compat_flags &amp; (1 &lt;&lt; 0) ? 0 : 0x9c)" data-ref="_M/VMXNET3_MSIX_OFFSET">VMXNET3_MSIX_OFFSET</a>(<a class="local col8 ref" href="#358s" title='s' data-ref="358s">s</a>), <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>);</td></tr>
<tr><th id="2196">2196</th><td></td></tr>
<tr><th id="2197">2197</th><td>    <b>if</b> (<var>0</var> &gt; <a class="local col0 ref" href="#360res" title='res' data-ref="360res">res</a>) {</td></tr>
<tr><th id="2198">2198</th><td>        <a class="macro" href="vmxnet_debug.h.html#105" title="do { if (1) { printf(&quot;[%s][WR][%s]: &quot; &quot;Failed to initialize MSI-X, error %d&quot; &quot;\n&quot;, &quot;vmxnet3&quot;, __func__, res); } } while (0)" data-ref="_M/VMW_WRPRN">VMW_WRPRN</a>(<q>"Failed to initialize MSI-X, error %d"</q>, <a class="local col0 ref" href="#360res" title='res' data-ref="360res">res</a>);</td></tr>
<tr><th id="2199">2199</th><td>        <a class="local col8 ref" href="#358s" title='s' data-ref="358s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::msix_used" title='(anonymous struct)::msix_used' data-use='w' data-ref="(anonymous)::msix_used">msix_used</a> = <span class="macro" title="0" data-ref="_M/false">false</span>;</td></tr>
<tr><th id="2200">2200</th><td>    } <b>else</b> {</td></tr>
<tr><th id="2201">2201</th><td>        <b>if</b> (!<a class="tu ref" href="#vmxnet3_use_msix_vectors" title='vmxnet3_use_msix_vectors' data-use='c' data-ref="vmxnet3_use_msix_vectors">vmxnet3_use_msix_vectors</a>(<a class="local col8 ref" href="#358s" title='s' data-ref="358s">s</a>, <a class="macro" href="vmxnet3.h.html#584" title="25" data-ref="_M/VMXNET3_MAX_INTRS">VMXNET3_MAX_INTRS</a>)) {</td></tr>
<tr><th id="2202">2202</th><td>            <a class="macro" href="vmxnet_debug.h.html#105" title="do { if (1) { printf(&quot;[%s][WR][%s]: &quot; &quot;Failed to use MSI-X vectors, error %d&quot; &quot;\n&quot;, &quot;vmxnet3&quot;, __func__, res); } } while (0)" data-ref="_M/VMW_WRPRN">VMW_WRPRN</a>(<q>"Failed to use MSI-X vectors, error %d"</q>, <a class="local col0 ref" href="#360res" title='res' data-ref="360res">res</a>);</td></tr>
<tr><th id="2203">2203</th><td>            <a class="ref" href="../../include/hw/pci/msix.h.html#msix_uninit" title='msix_uninit' data-ref="msix_uninit">msix_uninit</a>(<a class="local col9 ref" href="#359d" title='d' data-ref="359d">d</a>, &amp;<a class="local col8 ref" href="#358s" title='s' data-ref="358s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::msix_bar" title='(anonymous struct)::msix_bar' data-use='a' data-ref="(anonymous)::msix_bar">msix_bar</a>, &amp;<a class="local col8 ref" href="#358s" title='s' data-ref="358s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::msix_bar" title='(anonymous struct)::msix_bar' data-use='a' data-ref="(anonymous)::msix_bar">msix_bar</a>);</td></tr>
<tr><th id="2204">2204</th><td>            <a class="local col8 ref" href="#358s" title='s' data-ref="358s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::msix_used" title='(anonymous struct)::msix_used' data-use='w' data-ref="(anonymous)::msix_used">msix_used</a> = <span class="macro" title="0" data-ref="_M/false">false</span>;</td></tr>
<tr><th id="2205">2205</th><td>        } <b>else</b> {</td></tr>
<tr><th id="2206">2206</th><td>            <a class="local col8 ref" href="#358s" title='s' data-ref="358s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::msix_used" title='(anonymous struct)::msix_used' data-use='w' data-ref="(anonymous)::msix_used">msix_used</a> = <span class="macro" title="1" data-ref="_M/true">true</span>;</td></tr>
<tr><th id="2207">2207</th><td>        }</td></tr>
<tr><th id="2208">2208</th><td>    }</td></tr>
<tr><th id="2209">2209</th><td>    <b>return</b> <a class="local col8 ref" href="#358s" title='s' data-ref="358s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::msix_used" title='(anonymous struct)::msix_used' data-use='r' data-ref="(anonymous)::msix_used">msix_used</a>;</td></tr>
<tr><th id="2210">2210</th><td>}</td></tr>
<tr><th id="2211">2211</th><td></td></tr>
<tr><th id="2212">2212</th><td><em>static</em> <em>void</em></td></tr>
<tr><th id="2213">2213</th><td><dfn class="tu decl def" id="vmxnet3_cleanup_msix" title='vmxnet3_cleanup_msix' data-type='void vmxnet3_cleanup_msix(VMXNET3State * s)' data-ref="vmxnet3_cleanup_msix">vmxnet3_cleanup_msix</dfn>(<a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a> *<dfn class="local col1 decl" id="361s" title='s' data-type='VMXNET3State *' data-ref="361s">s</dfn>)</td></tr>
<tr><th id="2214">2214</th><td>{</td></tr>
<tr><th id="2215">2215</th><td>    <a class="typedef" href="../../include/qemu/typedefs.h.html#PCIDevice" title='PCIDevice' data-type='struct PCIDevice' data-ref="PCIDevice">PCIDevice</a> *<dfn class="local col2 decl" id="362d" title='d' data-type='PCIDevice *' data-ref="362d">d</dfn> = <a class="macro" href="../../include/hw/pci/pci.h.html#191" title="((PCIDevice *)object_dynamic_cast_assert(((Object *)((s))), (&quot;pci-device&quot;), &quot;/home/jon/workspace/qemu/hw/net/vmxnet3.c&quot;, 2215, __func__))" data-ref="_M/PCI_DEVICE">PCI_DEVICE</a>(<a class="local col1 ref" href="#361s" title='s' data-ref="361s">s</a>);</td></tr>
<tr><th id="2216">2216</th><td></td></tr>
<tr><th id="2217">2217</th><td>    <b>if</b> (<a class="local col1 ref" href="#361s" title='s' data-ref="361s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::msix_used" title='(anonymous struct)::msix_used' data-use='r' data-ref="(anonymous)::msix_used">msix_used</a>) {</td></tr>
<tr><th id="2218">2218</th><td>        <a class="tu ref" href="#vmxnet3_unuse_msix_vectors" title='vmxnet3_unuse_msix_vectors' data-use='c' data-ref="vmxnet3_unuse_msix_vectors">vmxnet3_unuse_msix_vectors</a>(<a class="local col1 ref" href="#361s" title='s' data-ref="361s">s</a>, <a class="macro" href="vmxnet3.h.html#584" title="25" data-ref="_M/VMXNET3_MAX_INTRS">VMXNET3_MAX_INTRS</a>);</td></tr>
<tr><th id="2219">2219</th><td>        <a class="ref" href="../../include/hw/pci/msix.h.html#msix_uninit" title='msix_uninit' data-ref="msix_uninit">msix_uninit</a>(<a class="local col2 ref" href="#362d" title='d' data-ref="362d">d</a>, &amp;<a class="local col1 ref" href="#361s" title='s' data-ref="361s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::msix_bar" title='(anonymous struct)::msix_bar' data-use='a' data-ref="(anonymous)::msix_bar">msix_bar</a>, &amp;<a class="local col1 ref" href="#361s" title='s' data-ref="361s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::msix_bar" title='(anonymous struct)::msix_bar' data-use='a' data-ref="(anonymous)::msix_bar">msix_bar</a>);</td></tr>
<tr><th id="2220">2220</th><td>    }</td></tr>
<tr><th id="2221">2221</th><td>}</td></tr>
<tr><th id="2222">2222</th><td></td></tr>
<tr><th id="2223">2223</th><td><em>static</em> <em>void</em></td></tr>
<tr><th id="2224">2224</th><td><dfn class="tu decl def" id="vmxnet3_cleanup_msi" title='vmxnet3_cleanup_msi' data-type='void vmxnet3_cleanup_msi(VMXNET3State * s)' data-ref="vmxnet3_cleanup_msi">vmxnet3_cleanup_msi</dfn>(<a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a> *<dfn class="local col3 decl" id="363s" title='s' data-type='VMXNET3State *' data-ref="363s">s</dfn>)</td></tr>
<tr><th id="2225">2225</th><td>{</td></tr>
<tr><th id="2226">2226</th><td>    <a class="typedef" href="../../include/qemu/typedefs.h.html#PCIDevice" title='PCIDevice' data-type='struct PCIDevice' data-ref="PCIDevice">PCIDevice</a> *<dfn class="local col4 decl" id="364d" title='d' data-type='PCIDevice *' data-ref="364d">d</dfn> = <a class="macro" href="../../include/hw/pci/pci.h.html#191" title="((PCIDevice *)object_dynamic_cast_assert(((Object *)((s))), (&quot;pci-device&quot;), &quot;/home/jon/workspace/qemu/hw/net/vmxnet3.c&quot;, 2226, __func__))" data-ref="_M/PCI_DEVICE">PCI_DEVICE</a>(<a class="local col3 ref" href="#363s" title='s' data-ref="363s">s</a>);</td></tr>
<tr><th id="2227">2227</th><td></td></tr>
<tr><th id="2228">2228</th><td>    <a class="ref" href="../../include/hw/pci/msi.h.html#msi_uninit" title='msi_uninit' data-ref="msi_uninit">msi_uninit</a>(<a class="local col4 ref" href="#364d" title='d' data-ref="364d">d</a>);</td></tr>
<tr><th id="2229">2229</th><td>}</td></tr>
<tr><th id="2230">2230</th><td></td></tr>
<tr><th id="2231">2231</th><td><em>static</em> <em>void</em></td></tr>
<tr><th id="2232">2232</th><td><dfn class="tu decl def" id="vmxnet3_msix_save" title='vmxnet3_msix_save' data-type='void vmxnet3_msix_save(QEMUFile * f, void * opaque)' data-ref="vmxnet3_msix_save">vmxnet3_msix_save</dfn>(<a class="typedef" href="../../include/qemu/typedefs.h.html#QEMUFile" title='QEMUFile' data-type='struct QEMUFile' data-ref="QEMUFile">QEMUFile</a> *<dfn class="local col5 decl" id="365f" title='f' data-type='QEMUFile *' data-ref="365f">f</dfn>, <em>void</em> *<dfn class="local col6 decl" id="366opaque" title='opaque' data-type='void *' data-ref="366opaque">opaque</dfn>)</td></tr>
<tr><th id="2233">2233</th><td>{</td></tr>
<tr><th id="2234">2234</th><td>    <a class="typedef" href="../../include/qemu/typedefs.h.html#PCIDevice" title='PCIDevice' data-type='struct PCIDevice' data-ref="PCIDevice">PCIDevice</a> *<dfn class="local col7 decl" id="367d" title='d' data-type='PCIDevice *' data-ref="367d">d</dfn> = <a class="macro" href="../../include/hw/pci/pci.h.html#191" title="((PCIDevice *)object_dynamic_cast_assert(((Object *)((opaque))), (&quot;pci-device&quot;), &quot;/home/jon/workspace/qemu/hw/net/vmxnet3.c&quot;, 2234, __func__))" data-ref="_M/PCI_DEVICE">PCI_DEVICE</a>(<a class="local col6 ref" href="#366opaque" title='opaque' data-ref="366opaque">opaque</a>);</td></tr>
<tr><th id="2235">2235</th><td>    <a class="ref" href="../../include/hw/pci/msix.h.html#msix_save" title='msix_save' data-ref="msix_save">msix_save</a>(<a class="local col7 ref" href="#367d" title='d' data-ref="367d">d</a>, <a class="local col5 ref" href="#365f" title='f' data-ref="365f">f</a>);</td></tr>
<tr><th id="2236">2236</th><td>}</td></tr>
<tr><th id="2237">2237</th><td></td></tr>
<tr><th id="2238">2238</th><td><em>static</em> <em>int</em></td></tr>
<tr><th id="2239">2239</th><td><dfn class="tu decl def" id="vmxnet3_msix_load" title='vmxnet3_msix_load' data-type='int vmxnet3_msix_load(QEMUFile * f, void * opaque, int version_id)' data-ref="vmxnet3_msix_load">vmxnet3_msix_load</dfn>(<a class="typedef" href="../../include/qemu/typedefs.h.html#QEMUFile" title='QEMUFile' data-type='struct QEMUFile' data-ref="QEMUFile">QEMUFile</a> *<dfn class="local col8 decl" id="368f" title='f' data-type='QEMUFile *' data-ref="368f">f</dfn>, <em>void</em> *<dfn class="local col9 decl" id="369opaque" title='opaque' data-type='void *' data-ref="369opaque">opaque</dfn>, <em>int</em> <dfn class="local col0 decl" id="370version_id" title='version_id' data-type='int' data-ref="370version_id">version_id</dfn>)</td></tr>
<tr><th id="2240">2240</th><td>{</td></tr>
<tr><th id="2241">2241</th><td>    <a class="typedef" href="../../include/qemu/typedefs.h.html#PCIDevice" title='PCIDevice' data-type='struct PCIDevice' data-ref="PCIDevice">PCIDevice</a> *<dfn class="local col1 decl" id="371d" title='d' data-type='PCIDevice *' data-ref="371d">d</dfn> = <a class="macro" href="../../include/hw/pci/pci.h.html#191" title="((PCIDevice *)object_dynamic_cast_assert(((Object *)((opaque))), (&quot;pci-device&quot;), &quot;/home/jon/workspace/qemu/hw/net/vmxnet3.c&quot;, 2241, __func__))" data-ref="_M/PCI_DEVICE">PCI_DEVICE</a>(<a class="local col9 ref" href="#369opaque" title='opaque' data-ref="369opaque">opaque</a>);</td></tr>
<tr><th id="2242">2242</th><td>    <a class="ref" href="../../include/hw/pci/msix.h.html#msix_load" title='msix_load' data-ref="msix_load">msix_load</a>(<a class="local col1 ref" href="#371d" title='d' data-ref="371d">d</a>, <a class="local col8 ref" href="#368f" title='f' data-ref="368f">f</a>);</td></tr>
<tr><th id="2243">2243</th><td>    <b>return</b> <var>0</var>;</td></tr>
<tr><th id="2244">2244</th><td>}</td></tr>
<tr><th id="2245">2245</th><td></td></tr>
<tr><th id="2246">2246</th><td><em>static</em> <em>const</em> <a class="typedef" href="../../include/exec/memory.h.html#MemoryRegionOps" title='MemoryRegionOps' data-type='struct MemoryRegionOps' data-ref="MemoryRegionOps">MemoryRegionOps</a> <dfn class="tu decl def" id="b0_ops" title='b0_ops' data-type='const MemoryRegionOps' data-ref="b0_ops">b0_ops</dfn> = {</td></tr>
<tr><th id="2247">2247</th><td>    .<a class="ref" href="../../include/exec/memory.h.html#MemoryRegionOps::read" title='MemoryRegionOps::read' data-ref="MemoryRegionOps::read">read</a> = <a class="tu ref" href="#vmxnet3_io_bar0_read" title='vmxnet3_io_bar0_read' data-ref="vmxnet3_io_bar0_read">vmxnet3_io_bar0_read</a>,</td></tr>
<tr><th id="2248">2248</th><td>    .<a class="ref" href="../../include/exec/memory.h.html#MemoryRegionOps::write" title='MemoryRegionOps::write' data-ref="MemoryRegionOps::write">write</a> = <a class="tu ref" href="#vmxnet3_io_bar0_write" title='vmxnet3_io_bar0_write' data-ref="vmxnet3_io_bar0_write">vmxnet3_io_bar0_write</a>,</td></tr>
<tr><th id="2249">2249</th><td>    .<a class="ref" href="../../include/exec/memory.h.html#MemoryRegionOps::endianness" title='MemoryRegionOps::endianness' data-ref="MemoryRegionOps::endianness">endianness</a> = <a class="enum" href="../../include/exec/cpu-common.h.html#device_endian::DEVICE_LITTLE_ENDIAN" title='device_endian::DEVICE_LITTLE_ENDIAN' data-ref="device_endian::DEVICE_LITTLE_ENDIAN">DEVICE_LITTLE_ENDIAN</a>,</td></tr>
<tr><th id="2250">2250</th><td>    .<a class="ref" href="../../include/exec/memory.h.html#MemoryRegionOps::impl" title='MemoryRegionOps::impl' data-ref="MemoryRegionOps::impl">impl</a> = {</td></tr>
<tr><th id="2251">2251</th><td>            .<a class="ref" href="../../include/exec/memory.h.html#MemoryRegionOps::(anonymous)::min_access_size" title='MemoryRegionOps::(anonymous struct)::min_access_size' data-ref="MemoryRegionOps::(anonymous)::min_access_size">min_access_size</a> = <var>4</var>,</td></tr>
<tr><th id="2252">2252</th><td>            .<a class="ref" href="../../include/exec/memory.h.html#MemoryRegionOps::(anonymous)::max_access_size" title='MemoryRegionOps::(anonymous struct)::max_access_size' data-ref="MemoryRegionOps::(anonymous)::max_access_size">max_access_size</a> = <var>4</var>,</td></tr>
<tr><th id="2253">2253</th><td>    },</td></tr>
<tr><th id="2254">2254</th><td>};</td></tr>
<tr><th id="2255">2255</th><td></td></tr>
<tr><th id="2256">2256</th><td><em>static</em> <em>const</em> <a class="typedef" href="../../include/exec/memory.h.html#MemoryRegionOps" title='MemoryRegionOps' data-type='struct MemoryRegionOps' data-ref="MemoryRegionOps">MemoryRegionOps</a> <dfn class="tu decl def" id="b1_ops" title='b1_ops' data-type='const MemoryRegionOps' data-ref="b1_ops">b1_ops</dfn> = {</td></tr>
<tr><th id="2257">2257</th><td>    .<a class="ref" href="../../include/exec/memory.h.html#MemoryRegionOps::read" title='MemoryRegionOps::read' data-ref="MemoryRegionOps::read">read</a> = <a class="tu ref" href="#vmxnet3_io_bar1_read" title='vmxnet3_io_bar1_read' data-ref="vmxnet3_io_bar1_read">vmxnet3_io_bar1_read</a>,</td></tr>
<tr><th id="2258">2258</th><td>    .<a class="ref" href="../../include/exec/memory.h.html#MemoryRegionOps::write" title='MemoryRegionOps::write' data-ref="MemoryRegionOps::write">write</a> = <a class="tu ref" href="#vmxnet3_io_bar1_write" title='vmxnet3_io_bar1_write' data-ref="vmxnet3_io_bar1_write">vmxnet3_io_bar1_write</a>,</td></tr>
<tr><th id="2259">2259</th><td>    .<a class="ref" href="../../include/exec/memory.h.html#MemoryRegionOps::endianness" title='MemoryRegionOps::endianness' data-ref="MemoryRegionOps::endianness">endianness</a> = <a class="enum" href="../../include/exec/cpu-common.h.html#device_endian::DEVICE_LITTLE_ENDIAN" title='device_endian::DEVICE_LITTLE_ENDIAN' data-ref="device_endian::DEVICE_LITTLE_ENDIAN">DEVICE_LITTLE_ENDIAN</a>,</td></tr>
<tr><th id="2260">2260</th><td>    .<a class="ref" href="../../include/exec/memory.h.html#MemoryRegionOps::impl" title='MemoryRegionOps::impl' data-ref="MemoryRegionOps::impl">impl</a> = {</td></tr>
<tr><th id="2261">2261</th><td>            .<a class="ref" href="../../include/exec/memory.h.html#MemoryRegionOps::(anonymous)::min_access_size" title='MemoryRegionOps::(anonymous struct)::min_access_size' data-ref="MemoryRegionOps::(anonymous)::min_access_size">min_access_size</a> = <var>4</var>,</td></tr>
<tr><th id="2262">2262</th><td>            .<a class="ref" href="../../include/exec/memory.h.html#MemoryRegionOps::(anonymous)::max_access_size" title='MemoryRegionOps::(anonymous struct)::max_access_size' data-ref="MemoryRegionOps::(anonymous)::max_access_size">max_access_size</a> = <var>4</var>,</td></tr>
<tr><th id="2263">2263</th><td>    },</td></tr>
<tr><th id="2264">2264</th><td>};</td></tr>
<tr><th id="2265">2265</th><td></td></tr>
<tr><th id="2266">2266</th><td><em>static</em> <a class="typedef" href="../../include/migration/register.h.html#SaveVMHandlers" title='SaveVMHandlers' data-type='struct SaveVMHandlers' data-ref="SaveVMHandlers">SaveVMHandlers</a> <dfn class="tu decl def" id="savevm_vmxnet3_msix" title='savevm_vmxnet3_msix' data-type='SaveVMHandlers' data-ref="savevm_vmxnet3_msix">savevm_vmxnet3_msix</dfn> = {</td></tr>
<tr><th id="2267">2267</th><td>    .<a class="ref" href="../../include/migration/register.h.html#SaveVMHandlers::save_state" title='SaveVMHandlers::save_state' data-ref="SaveVMHandlers::save_state">save_state</a> = <a class="tu ref" href="#vmxnet3_msix_save" title='vmxnet3_msix_save' data-ref="vmxnet3_msix_save">vmxnet3_msix_save</a>,</td></tr>
<tr><th id="2268">2268</th><td>    .<a class="ref" href="../../include/migration/register.h.html#SaveVMHandlers::load_state" title='SaveVMHandlers::load_state' data-ref="SaveVMHandlers::load_state">load_state</a> = <a class="tu ref" href="#vmxnet3_msix_load" title='vmxnet3_msix_load' data-ref="vmxnet3_msix_load">vmxnet3_msix_load</a>,</td></tr>
<tr><th id="2269">2269</th><td>};</td></tr>
<tr><th id="2270">2270</th><td></td></tr>
<tr><th id="2271">2271</th><td><em>static</em> <a class="typedef" href="../../../include/stdint.h.html#uint64_t" title='uint64_t' data-type='unsigned long' data-ref="uint64_t">uint64_t</a> <dfn class="tu decl def" id="vmxnet3_device_serial_num" title='vmxnet3_device_serial_num' data-type='uint64_t vmxnet3_device_serial_num(VMXNET3State * s)' data-ref="vmxnet3_device_serial_num">vmxnet3_device_serial_num</dfn>(<a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a> *<dfn class="local col2 decl" id="372s" title='s' data-type='VMXNET3State *' data-ref="372s">s</dfn>)</td></tr>
<tr><th id="2272">2272</th><td>{</td></tr>
<tr><th id="2273">2273</th><td>    <a class="typedef" href="../../../include/stdint.h.html#uint64_t" title='uint64_t' data-type='unsigned long' data-ref="uint64_t">uint64_t</a> <dfn class="local col3 decl" id="373dsn_payload" title='dsn_payload' data-type='uint64_t' data-ref="373dsn_payload">dsn_payload</dfn>;</td></tr>
<tr><th id="2274">2274</th><td>    <a class="typedef" href="../../../include/stdint.h.html#uint8_t" title='uint8_t' data-type='unsigned char' data-ref="uint8_t">uint8_t</a> *<dfn class="local col4 decl" id="374dsnp" title='dsnp' data-type='uint8_t *' data-ref="374dsnp">dsnp</dfn> = (<a class="typedef" href="../../../include/stdint.h.html#uint8_t" title='uint8_t' data-type='unsigned char' data-ref="uint8_t">uint8_t</a> *)&amp;<a class="local col3 ref" href="#373dsn_payload" title='dsn_payload' data-ref="373dsn_payload">dsn_payload</a>;</td></tr>
<tr><th id="2275">2275</th><td></td></tr>
<tr><th id="2276">2276</th><td>    <a class="local col4 ref" href="#374dsnp" title='dsnp' data-ref="374dsnp">dsnp</a>[<var>0</var>] = <var>0xfe</var>;</td></tr>
<tr><th id="2277">2277</th><td>    <a class="local col4 ref" href="#374dsnp" title='dsnp' data-ref="374dsnp">dsnp</a>[<var>1</var>] = <a class="local col2 ref" href="#372s" title='s' data-ref="372s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::conf" title='(anonymous struct)::conf' data-use='m' data-ref="(anonymous)::conf">conf</a>.<a class="ref" href="../../include/net/net.h.html#NICConf::macaddr" title='NICConf::macaddr' data-ref="NICConf::macaddr">macaddr</a>.<a class="ref" href="../../include/net/net.h.html#MACAddr::a" title='MACAddr::a' data-ref="MACAddr::a">a</a>[<var>3</var>];</td></tr>
<tr><th id="2278">2278</th><td>    <a class="local col4 ref" href="#374dsnp" title='dsnp' data-ref="374dsnp">dsnp</a>[<var>2</var>] = <a class="local col2 ref" href="#372s" title='s' data-ref="372s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::conf" title='(anonymous struct)::conf' data-use='m' data-ref="(anonymous)::conf">conf</a>.<a class="ref" href="../../include/net/net.h.html#NICConf::macaddr" title='NICConf::macaddr' data-ref="NICConf::macaddr">macaddr</a>.<a class="ref" href="../../include/net/net.h.html#MACAddr::a" title='MACAddr::a' data-ref="MACAddr::a">a</a>[<var>4</var>];</td></tr>
<tr><th id="2279">2279</th><td>    <a class="local col4 ref" href="#374dsnp" title='dsnp' data-ref="374dsnp">dsnp</a>[<var>3</var>] = <a class="local col2 ref" href="#372s" title='s' data-ref="372s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::conf" title='(anonymous struct)::conf' data-use='m' data-ref="(anonymous)::conf">conf</a>.<a class="ref" href="../../include/net/net.h.html#NICConf::macaddr" title='NICConf::macaddr' data-ref="NICConf::macaddr">macaddr</a>.<a class="ref" href="../../include/net/net.h.html#MACAddr::a" title='MACAddr::a' data-ref="MACAddr::a">a</a>[<var>5</var>];</td></tr>
<tr><th id="2280">2280</th><td>    <a class="local col4 ref" href="#374dsnp" title='dsnp' data-ref="374dsnp">dsnp</a>[<var>4</var>] = <a class="local col2 ref" href="#372s" title='s' data-ref="372s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::conf" title='(anonymous struct)::conf' data-use='m' data-ref="(anonymous)::conf">conf</a>.<a class="ref" href="../../include/net/net.h.html#NICConf::macaddr" title='NICConf::macaddr' data-ref="NICConf::macaddr">macaddr</a>.<a class="ref" href="../../include/net/net.h.html#MACAddr::a" title='MACAddr::a' data-ref="MACAddr::a">a</a>[<var>0</var>];</td></tr>
<tr><th id="2281">2281</th><td>    <a class="local col4 ref" href="#374dsnp" title='dsnp' data-ref="374dsnp">dsnp</a>[<var>5</var>] = <a class="local col2 ref" href="#372s" title='s' data-ref="372s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::conf" title='(anonymous struct)::conf' data-use='m' data-ref="(anonymous)::conf">conf</a>.<a class="ref" href="../../include/net/net.h.html#NICConf::macaddr" title='NICConf::macaddr' data-ref="NICConf::macaddr">macaddr</a>.<a class="ref" href="../../include/net/net.h.html#MACAddr::a" title='MACAddr::a' data-ref="MACAddr::a">a</a>[<var>1</var>];</td></tr>
<tr><th id="2282">2282</th><td>    <a class="local col4 ref" href="#374dsnp" title='dsnp' data-ref="374dsnp">dsnp</a>[<var>6</var>] = <a class="local col2 ref" href="#372s" title='s' data-ref="372s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::conf" title='(anonymous struct)::conf' data-use='m' data-ref="(anonymous)::conf">conf</a>.<a class="ref" href="../../include/net/net.h.html#NICConf::macaddr" title='NICConf::macaddr' data-ref="NICConf::macaddr">macaddr</a>.<a class="ref" href="../../include/net/net.h.html#MACAddr::a" title='MACAddr::a' data-ref="MACAddr::a">a</a>[<var>2</var>];</td></tr>
<tr><th id="2283">2283</th><td>    <a class="local col4 ref" href="#374dsnp" title='dsnp' data-ref="374dsnp">dsnp</a>[<var>7</var>] = <var>0xff</var>;</td></tr>
<tr><th id="2284">2284</th><td>    <b>return</b> <a class="local col3 ref" href="#373dsn_payload" title='dsn_payload' data-ref="373dsn_payload">dsn_payload</a>;</td></tr>
<tr><th id="2285">2285</th><td>}</td></tr>
<tr><th id="2286">2286</th><td></td></tr>
<tr><th id="2287">2287</th><td></td></tr>
<tr><th id="2288">2288</th><td><u>#define <dfn class="macro" id="_M/VMXNET3_USE_64BIT" data-ref="_M/VMXNET3_USE_64BIT">VMXNET3_USE_64BIT</dfn>         (true)</u></td></tr>
<tr><th id="2289">2289</th><td><u>#define <dfn class="macro" id="_M/VMXNET3_PER_VECTOR_MASK" data-ref="_M/VMXNET3_PER_VECTOR_MASK">VMXNET3_PER_VECTOR_MASK</dfn>   (false)</u></td></tr>
<tr><th id="2290">2290</th><td></td></tr>
<tr><th id="2291">2291</th><td><em>static</em> <em>void</em> <dfn class="tu decl def" id="vmxnet3_pci_realize" title='vmxnet3_pci_realize' data-type='void vmxnet3_pci_realize(PCIDevice * pci_dev, Error ** errp)' data-ref="vmxnet3_pci_realize">vmxnet3_pci_realize</dfn>(<a class="typedef" href="../../include/qemu/typedefs.h.html#PCIDevice" title='PCIDevice' data-type='struct PCIDevice' data-ref="PCIDevice">PCIDevice</a> *<dfn class="local col5 decl" id="375pci_dev" title='pci_dev' data-type='PCIDevice *' data-ref="375pci_dev">pci_dev</dfn>, <a class="typedef" href="../../include/qemu/typedefs.h.html#Error" title='Error' data-type='struct Error' data-ref="Error">Error</a> **<dfn class="local col6 decl" id="376errp" title='errp' data-type='Error **' data-ref="376errp">errp</dfn>)</td></tr>
<tr><th id="2292">2292</th><td>{</td></tr>
<tr><th id="2293">2293</th><td>    <a class="typedef" href="../../include/qemu/typedefs.h.html#DeviceState" title='DeviceState' data-type='struct DeviceState' data-ref="DeviceState">DeviceState</a> *<dfn class="local col7 decl" id="377dev" title='dev' data-type='DeviceState *' data-ref="377dev">dev</dfn> = <a class="macro" href="../../include/hw/qdev-core.h.html#16" title="((DeviceState *)object_dynamic_cast_assert(((Object *)((pci_dev))), (&quot;device&quot;), &quot;/home/jon/workspace/qemu/hw/net/vmxnet3.c&quot;, 2293, __func__))" data-ref="_M/DEVICE">DEVICE</a>(<a class="local col5 ref" href="#375pci_dev" title='pci_dev' data-ref="375pci_dev">pci_dev</a>);</td></tr>
<tr><th id="2294">2294</th><td>    <a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a> *<dfn class="local col8 decl" id="378s" title='s' data-type='VMXNET3State *' data-ref="378s">s</dfn> = <a class="macro" href="#135" title="((VMXNET3State *)object_dynamic_cast_assert(((Object *)((pci_dev))), (&quot;vmxnet3&quot;), &quot;/home/jon/workspace/qemu/hw/net/vmxnet3.c&quot;, 2294, __func__))" data-ref="_M/VMXNET3">VMXNET3</a>(<a class="local col5 ref" href="#375pci_dev" title='pci_dev' data-ref="375pci_dev">pci_dev</a>);</td></tr>
<tr><th id="2295">2295</th><td>    <em>int</em> <dfn class="local col9 decl" id="379ret" title='ret' data-type='int' data-ref="379ret">ret</dfn>;</td></tr>
<tr><th id="2296">2296</th><td></td></tr>
<tr><th id="2297">2297</th><td>    <a class="macro" href="vmxnet_debug.h.html#89" title="do { if (0) { printf(&quot;[%s][CB][%s]: &quot; &quot;Starting init...&quot; &quot;\n&quot;, &quot;vmxnet3&quot;, __func__); } } while (0)" data-ref="_M/VMW_CBPRN">VMW_CBPRN</a>(<q>"Starting init..."</q>);</td></tr>
<tr><th id="2298">2298</th><td></td></tr>
<tr><th id="2299">2299</th><td>    <a class="ref" href="../../include/exec/memory.h.html#memory_region_init_io" title='memory_region_init_io' data-ref="memory_region_init_io">memory_region_init_io</a>(&amp;<a class="local col8 ref" href="#378s" title='s' data-ref="378s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::bar0" title='(anonymous struct)::bar0' data-use='a' data-ref="(anonymous)::bar0">bar0</a>, <a class="macro" href="../../include/qom/object.h.html#473" title="((Object *)(s))" data-ref="_M/OBJECT">OBJECT</a>(<a class="local col8 ref" href="#378s" title='s' data-ref="378s">s</a>), &amp;<a class="tu ref" href="#b0_ops" title='b0_ops' data-use='a' data-ref="b0_ops">b0_ops</a>, <a class="local col8 ref" href="#378s" title='s' data-ref="378s">s</a>,</td></tr>
<tr><th id="2300">2300</th><td>                          <q>"vmxnet3-b0"</q>, <a class="macro" href="vmxnet3.h.html#165" title="4096" data-ref="_M/VMXNET3_PT_REG_SIZE">VMXNET3_PT_REG_SIZE</a>);</td></tr>
<tr><th id="2301">2301</th><td>    <a class="ref" href="../../include/hw/pci/pci.h.html#pci_register_bar" title='pci_register_bar' data-ref="pci_register_bar">pci_register_bar</a>(<a class="local col5 ref" href="#375pci_dev" title='pci_dev' data-ref="375pci_dev">pci_dev</a>, <a class="macro" href="#56" title="(0)" data-ref="_M/VMXNET3_BAR0_IDX">VMXNET3_BAR0_IDX</a>,</td></tr>
<tr><th id="2302">2302</th><td>                     <a class="macro" href="../../include/standard-headers/linux/pci_regs.h.html#101" title="0x00" data-ref="_M/PCI_BASE_ADDRESS_SPACE_MEMORY">PCI_BASE_ADDRESS_SPACE_MEMORY</a>, &amp;<a class="local col8 ref" href="#378s" title='s' data-ref="378s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::bar0" title='(anonymous struct)::bar0' data-use='a' data-ref="(anonymous)::bar0">bar0</a>);</td></tr>
<tr><th id="2303">2303</th><td></td></tr>
<tr><th id="2304">2304</th><td>    <a class="ref" href="../../include/exec/memory.h.html#memory_region_init_io" title='memory_region_init_io' data-ref="memory_region_init_io">memory_region_init_io</a>(&amp;<a class="local col8 ref" href="#378s" title='s' data-ref="378s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::bar1" title='(anonymous struct)::bar1' data-use='a' data-ref="(anonymous)::bar1">bar1</a>, <a class="macro" href="../../include/qom/object.h.html#473" title="((Object *)(s))" data-ref="_M/OBJECT">OBJECT</a>(<a class="local col8 ref" href="#378s" title='s' data-ref="378s">s</a>), &amp;<a class="tu ref" href="#b1_ops" title='b1_ops' data-use='a' data-ref="b1_ops">b1_ops</a>, <a class="local col8 ref" href="#378s" title='s' data-ref="378s">s</a>,</td></tr>
<tr><th id="2305">2305</th><td>                          <q>"vmxnet3-b1"</q>, <a class="macro" href="vmxnet3.h.html#166" title="4096" data-ref="_M/VMXNET3_VD_REG_SIZE">VMXNET3_VD_REG_SIZE</a>);</td></tr>
<tr><th id="2306">2306</th><td>    <a class="ref" href="../../include/hw/pci/pci.h.html#pci_register_bar" title='pci_register_bar' data-ref="pci_register_bar">pci_register_bar</a>(<a class="local col5 ref" href="#375pci_dev" title='pci_dev' data-ref="375pci_dev">pci_dev</a>, <a class="macro" href="#57" title="(1)" data-ref="_M/VMXNET3_BAR1_IDX">VMXNET3_BAR1_IDX</a>,</td></tr>
<tr><th id="2307">2307</th><td>                     <a class="macro" href="../../include/standard-headers/linux/pci_regs.h.html#101" title="0x00" data-ref="_M/PCI_BASE_ADDRESS_SPACE_MEMORY">PCI_BASE_ADDRESS_SPACE_MEMORY</a>, &amp;<a class="local col8 ref" href="#378s" title='s' data-ref="378s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::bar1" title='(anonymous struct)::bar1' data-use='a' data-ref="(anonymous)::bar1">bar1</a>);</td></tr>
<tr><th id="2308">2308</th><td></td></tr>
<tr><th id="2309">2309</th><td>    <a class="ref" href="../../include/exec/memory.h.html#memory_region_init" title='memory_region_init' data-ref="memory_region_init">memory_region_init</a>(&amp;<a class="local col8 ref" href="#378s" title='s' data-ref="378s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::msix_bar" title='(anonymous struct)::msix_bar' data-use='a' data-ref="(anonymous)::msix_bar">msix_bar</a>, <a class="macro" href="../../include/qom/object.h.html#473" title="((Object *)(s))" data-ref="_M/OBJECT">OBJECT</a>(<a class="local col8 ref" href="#378s" title='s' data-ref="378s">s</a>), <q>"vmxnet3-msix-bar"</q>,</td></tr>
<tr><th id="2310">2310</th><td>                       <a class="macro" href="#38" title="0x2000" data-ref="_M/VMXNET3_MSIX_BAR_SIZE">VMXNET3_MSIX_BAR_SIZE</a>);</td></tr>
<tr><th id="2311">2311</th><td>    <a class="ref" href="../../include/hw/pci/pci.h.html#pci_register_bar" title='pci_register_bar' data-ref="pci_register_bar">pci_register_bar</a>(<a class="local col5 ref" href="#375pci_dev" title='pci_dev' data-ref="375pci_dev">pci_dev</a>, <a class="macro" href="#58" title="(2)" data-ref="_M/VMXNET3_MSIX_BAR_IDX">VMXNET3_MSIX_BAR_IDX</a>,</td></tr>
<tr><th id="2312">2312</th><td>                     <a class="macro" href="../../include/standard-headers/linux/pci_regs.h.html#101" title="0x00" data-ref="_M/PCI_BASE_ADDRESS_SPACE_MEMORY">PCI_BASE_ADDRESS_SPACE_MEMORY</a>, &amp;<a class="local col8 ref" href="#378s" title='s' data-ref="378s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::msix_bar" title='(anonymous struct)::msix_bar' data-use='a' data-ref="(anonymous)::msix_bar">msix_bar</a>);</td></tr>
<tr><th id="2313">2313</th><td></td></tr>
<tr><th id="2314">2314</th><td>    <a class="tu ref" href="#vmxnet3_reset_interrupt_states" title='vmxnet3_reset_interrupt_states' data-use='c' data-ref="vmxnet3_reset_interrupt_states">vmxnet3_reset_interrupt_states</a>(<a class="local col8 ref" href="#378s" title='s' data-ref="378s">s</a>);</td></tr>
<tr><th id="2315">2315</th><td></td></tr>
<tr><th id="2316">2316</th><td>    <i>/* Interrupt pin A */</i></td></tr>
<tr><th id="2317">2317</th><td>    <a class="local col5 ref" href="#375pci_dev" title='pci_dev' data-ref="375pci_dev">pci_dev</a>-&gt;<a class="ref" href="../../include/hw/pci/pci.h.html#PCIDevice::config" title='PCIDevice::config' data-ref="PCIDevice::config">config</a>[<a class="macro" href="../../include/standard-headers/linux/pci_regs.h.html#123" title="0x3d" data-ref="_M/PCI_INTERRUPT_PIN">PCI_INTERRUPT_PIN</a>] = <var>0x01</var>;</td></tr>
<tr><th id="2318">2318</th><td></td></tr>
<tr><th id="2319">2319</th><td>    <a class="local col9 ref" href="#379ret" title='ret' data-ref="379ret">ret</a> = <a class="ref" href="../../include/hw/pci/msi.h.html#msi_init" title='msi_init' data-ref="msi_init">msi_init</a>(<a class="local col5 ref" href="#375pci_dev" title='pci_dev' data-ref="375pci_dev">pci_dev</a>, <a class="macro" href="#50" title="((s)-&gt;compat_flags &amp; (1 &lt;&lt; 0) ? 0x50 : 0x84)" data-ref="_M/VMXNET3_MSI_OFFSET">VMXNET3_MSI_OFFSET</a>(<a class="local col8 ref" href="#378s" title='s' data-ref="378s">s</a>), <a class="macro" href="#75" title="(1)" data-ref="_M/VMXNET3_MAX_NMSIX_INTRS">VMXNET3_MAX_NMSIX_INTRS</a>,</td></tr>
<tr><th id="2320">2320</th><td>                   <a class="macro" href="#2288" title="(1)" data-ref="_M/VMXNET3_USE_64BIT">VMXNET3_USE_64BIT</a>, <a class="macro" href="#2289" title="(0)" data-ref="_M/VMXNET3_PER_VECTOR_MASK">VMXNET3_PER_VECTOR_MASK</a>, <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>);</td></tr>
<tr><th id="2321">2321</th><td>    <i>/* Any error other than -ENOTSUP(board's MSI support is broken)</i></td></tr>
<tr><th id="2322">2322</th><td><i>     * is a programming error. Fall back to INTx silently on -ENOTSUP */</i></td></tr>
<tr><th id="2323">2323</th><td>    <a class="macro" href="../../../include/assert.h.html#88" title="((!ret || ret == -95) ? (void) (0) : __assert_fail (&quot;!ret || ret == -ENOTSUP&quot;, &quot;/home/jon/workspace/qemu/hw/net/vmxnet3.c&quot;, 2323, __PRETTY_FUNCTION__))" data-ref="_M/assert">assert</a>(!<a class="local col9 ref" href="#379ret" title='ret' data-ref="379ret">ret</a> || <a class="local col9 ref" href="#379ret" title='ret' data-ref="379ret">ret</a> == -<a class="macro" href="../../../include/x86_64-linux-gnu/bits/errno.h.html#27" title="95" data-ref="_M/ENOTSUP">ENOTSUP</a>);</td></tr>
<tr><th id="2324">2324</th><td></td></tr>
<tr><th id="2325">2325</th><td>    <b>if</b> (!<a class="tu ref" href="#vmxnet3_init_msix" title='vmxnet3_init_msix' data-use='c' data-ref="vmxnet3_init_msix">vmxnet3_init_msix</a>(<a class="local col8 ref" href="#378s" title='s' data-ref="378s">s</a>)) {</td></tr>
<tr><th id="2326">2326</th><td>        <a class="macro" href="vmxnet_debug.h.html#105" title="do { if (1) { printf(&quot;[%s][WR][%s]: &quot; &quot;Failed to initialize MSI-X, configuration is inconsistent.&quot; &quot;\n&quot;, &quot;vmxnet3&quot;, __func__); } } while (0)" data-ref="_M/VMW_WRPRN">VMW_WRPRN</a>(<q>"Failed to initialize MSI-X, configuration is inconsistent."</q>);</td></tr>
<tr><th id="2327">2327</th><td>    }</td></tr>
<tr><th id="2328">2328</th><td></td></tr>
<tr><th id="2329">2329</th><td>    <a class="tu ref" href="#vmxnet3_net_init" title='vmxnet3_net_init' data-use='c' data-ref="vmxnet3_net_init">vmxnet3_net_init</a>(<a class="local col8 ref" href="#378s" title='s' data-ref="378s">s</a>);</td></tr>
<tr><th id="2330">2330</th><td></td></tr>
<tr><th id="2331">2331</th><td>    <b>if</b> (<a class="ref" href="../../include/hw/pci/pci.h.html#pci_is_express" title='pci_is_express' data-ref="pci_is_express">pci_is_express</a>(<a class="local col5 ref" href="#375pci_dev" title='pci_dev' data-ref="375pci_dev">pci_dev</a>)) {</td></tr>
<tr><th id="2332">2332</th><td>        <b>if</b> (<a class="ref" href="../../include/hw/pci/pci.h.html#pci_bus_is_express" title='pci_bus_is_express' data-ref="pci_bus_is_express">pci_bus_is_express</a>(<a class="local col5 ref" href="#375pci_dev" title='pci_dev' data-ref="375pci_dev">pci_dev</a>-&gt;<a class="ref" href="../../include/hw/pci/pci.h.html#PCIDevice::bus" title='PCIDevice::bus' data-ref="PCIDevice::bus">bus</a>)) {</td></tr>
<tr><th id="2333">2333</th><td>            <a class="ref" href="../../include/hw/pci/pcie.h.html#pcie_endpoint_cap_init" title='pcie_endpoint_cap_init' data-ref="pcie_endpoint_cap_init">pcie_endpoint_cap_init</a>(<a class="local col5 ref" href="#375pci_dev" title='pci_dev' data-ref="375pci_dev">pci_dev</a>, <a class="macro" href="#49" title="(0x48)" data-ref="_M/VMXNET3_EXP_EP_OFFSET">VMXNET3_EXP_EP_OFFSET</a>);</td></tr>
<tr><th id="2334">2334</th><td>        }</td></tr>
<tr><th id="2335">2335</th><td></td></tr>
<tr><th id="2336">2336</th><td>        <a class="ref" href="../../include/hw/pci/pcie.h.html#pcie_dev_ser_num_init" title='pcie_dev_ser_num_init' data-ref="pcie_dev_ser_num_init">pcie_dev_ser_num_init</a>(<a class="local col5 ref" href="#375pci_dev" title='pci_dev' data-ref="375pci_dev">pci_dev</a>, <a class="macro" href="#54" title="(0x100)" data-ref="_M/VMXNET3_DSN_OFFSET">VMXNET3_DSN_OFFSET</a>,</td></tr>
<tr><th id="2337">2337</th><td>                              <a class="tu ref" href="#vmxnet3_device_serial_num" title='vmxnet3_device_serial_num' data-use='c' data-ref="vmxnet3_device_serial_num">vmxnet3_device_serial_num</a>(<a class="local col8 ref" href="#378s" title='s' data-ref="378s">s</a>));</td></tr>
<tr><th id="2338">2338</th><td>    }</td></tr>
<tr><th id="2339">2339</th><td></td></tr>
<tr><th id="2340">2340</th><td>    <a class="ref" href="../../include/migration/register.h.html#register_savevm_live" title='register_savevm_live' data-ref="register_savevm_live">register_savevm_live</a>(<a class="local col7 ref" href="#377dev" title='dev' data-ref="377dev">dev</a>, <q>"vmxnet3-msix"</q>, -<var>1</var>, <var>1</var>, &amp;<a class="tu ref" href="#savevm_vmxnet3_msix" title='savevm_vmxnet3_msix' data-use='a' data-ref="savevm_vmxnet3_msix">savevm_vmxnet3_msix</a>, <a class="local col8 ref" href="#378s" title='s' data-ref="378s">s</a>);</td></tr>
<tr><th id="2341">2341</th><td>}</td></tr>
<tr><th id="2342">2342</th><td></td></tr>
<tr><th id="2343">2343</th><td><em>static</em> <em>void</em> <dfn class="tu decl def" id="vmxnet3_instance_init" title='vmxnet3_instance_init' data-type='void vmxnet3_instance_init(Object * obj)' data-ref="vmxnet3_instance_init">vmxnet3_instance_init</dfn>(<a class="typedef" href="../../include/qom/object.h.html#Object" title='Object' data-type='struct Object' data-ref="Object">Object</a> *<dfn class="local col0 decl" id="380obj" title='obj' data-type='Object *' data-ref="380obj">obj</dfn>)</td></tr>
<tr><th id="2344">2344</th><td>{</td></tr>
<tr><th id="2345">2345</th><td>    <a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a> *<dfn class="local col1 decl" id="381s" title='s' data-type='VMXNET3State *' data-ref="381s">s</dfn> = <a class="macro" href="#135" title="((VMXNET3State *)object_dynamic_cast_assert(((Object *)((obj))), (&quot;vmxnet3&quot;), &quot;/home/jon/workspace/qemu/hw/net/vmxnet3.c&quot;, 2345, __func__))" data-ref="_M/VMXNET3">VMXNET3</a>(<a class="local col0 ref" href="#380obj" title='obj' data-ref="380obj">obj</a>);</td></tr>
<tr><th id="2346">2346</th><td>    <a class="ref" href="../../include/sysemu/sysemu.h.html#device_add_bootindex_property" title='device_add_bootindex_property' data-ref="device_add_bootindex_property">device_add_bootindex_property</a>(<a class="local col0 ref" href="#380obj" title='obj' data-ref="380obj">obj</a>, &amp;<a class="local col1 ref" href="#381s" title='s' data-ref="381s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::conf" title='(anonymous struct)::conf' data-use='m' data-ref="(anonymous)::conf">conf</a>.<a class="ref" href="../../include/net/net.h.html#NICConf::bootindex" title='NICConf::bootindex' data-ref="NICConf::bootindex">bootindex</a>,</td></tr>
<tr><th id="2347">2347</th><td>                                  <q>"bootindex"</q>, <q>"/ethernet-phy@0"</q>,</td></tr>
<tr><th id="2348">2348</th><td>                                  <a class="macro" href="../../include/hw/qdev-core.h.html#16" title="((DeviceState *)object_dynamic_cast_assert(((Object *)((obj))), (&quot;device&quot;), &quot;/home/jon/workspace/qemu/hw/net/vmxnet3.c&quot;, 2348, __func__))" data-ref="_M/DEVICE">DEVICE</a>(<a class="local col0 ref" href="#380obj" title='obj' data-ref="380obj">obj</a>), <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>);</td></tr>
<tr><th id="2349">2349</th><td>}</td></tr>
<tr><th id="2350">2350</th><td></td></tr>
<tr><th id="2351">2351</th><td><em>static</em> <em>void</em> <dfn class="tu decl def" id="vmxnet3_pci_uninit" title='vmxnet3_pci_uninit' data-type='void vmxnet3_pci_uninit(PCIDevice * pci_dev)' data-ref="vmxnet3_pci_uninit">vmxnet3_pci_uninit</dfn>(<a class="typedef" href="../../include/qemu/typedefs.h.html#PCIDevice" title='PCIDevice' data-type='struct PCIDevice' data-ref="PCIDevice">PCIDevice</a> *<dfn class="local col2 decl" id="382pci_dev" title='pci_dev' data-type='PCIDevice *' data-ref="382pci_dev">pci_dev</dfn>)</td></tr>
<tr><th id="2352">2352</th><td>{</td></tr>
<tr><th id="2353">2353</th><td>    <a class="typedef" href="../../include/qemu/typedefs.h.html#DeviceState" title='DeviceState' data-type='struct DeviceState' data-ref="DeviceState">DeviceState</a> *<dfn class="local col3 decl" id="383dev" title='dev' data-type='DeviceState *' data-ref="383dev">dev</dfn> = <a class="macro" href="../../include/hw/qdev-core.h.html#16" title="((DeviceState *)object_dynamic_cast_assert(((Object *)((pci_dev))), (&quot;device&quot;), &quot;/home/jon/workspace/qemu/hw/net/vmxnet3.c&quot;, 2353, __func__))" data-ref="_M/DEVICE">DEVICE</a>(<a class="local col2 ref" href="#382pci_dev" title='pci_dev' data-ref="382pci_dev">pci_dev</a>);</td></tr>
<tr><th id="2354">2354</th><td>    <a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a> *<dfn class="local col4 decl" id="384s" title='s' data-type='VMXNET3State *' data-ref="384s">s</dfn> = <a class="macro" href="#135" title="((VMXNET3State *)object_dynamic_cast_assert(((Object *)((pci_dev))), (&quot;vmxnet3&quot;), &quot;/home/jon/workspace/qemu/hw/net/vmxnet3.c&quot;, 2354, __func__))" data-ref="_M/VMXNET3">VMXNET3</a>(<a class="local col2 ref" href="#382pci_dev" title='pci_dev' data-ref="382pci_dev">pci_dev</a>);</td></tr>
<tr><th id="2355">2355</th><td></td></tr>
<tr><th id="2356">2356</th><td>    <a class="macro" href="vmxnet_debug.h.html#89" title="do { if (0) { printf(&quot;[%s][CB][%s]: &quot; &quot;Starting uninit...&quot; &quot;\n&quot;, &quot;vmxnet3&quot;, __func__); } } while (0)" data-ref="_M/VMW_CBPRN">VMW_CBPRN</a>(<q>"Starting uninit..."</q>);</td></tr>
<tr><th id="2357">2357</th><td></td></tr>
<tr><th id="2358">2358</th><td>    <a class="ref" href="../../include/migration/register.h.html#unregister_savevm" title='unregister_savevm' data-ref="unregister_savevm">unregister_savevm</a>(<a class="local col3 ref" href="#383dev" title='dev' data-ref="383dev">dev</a>, <q>"vmxnet3-msix"</q>, <a class="local col4 ref" href="#384s" title='s' data-ref="384s">s</a>);</td></tr>
<tr><th id="2359">2359</th><td></td></tr>
<tr><th id="2360">2360</th><td>    <a class="tu ref" href="#vmxnet3_net_uninit" title='vmxnet3_net_uninit' data-use='c' data-ref="vmxnet3_net_uninit">vmxnet3_net_uninit</a>(<a class="local col4 ref" href="#384s" title='s' data-ref="384s">s</a>);</td></tr>
<tr><th id="2361">2361</th><td></td></tr>
<tr><th id="2362">2362</th><td>    <a class="tu ref" href="#vmxnet3_cleanup_msix" title='vmxnet3_cleanup_msix' data-use='c' data-ref="vmxnet3_cleanup_msix">vmxnet3_cleanup_msix</a>(<a class="local col4 ref" href="#384s" title='s' data-ref="384s">s</a>);</td></tr>
<tr><th id="2363">2363</th><td></td></tr>
<tr><th id="2364">2364</th><td>    <a class="tu ref" href="#vmxnet3_cleanup_msi" title='vmxnet3_cleanup_msi' data-use='c' data-ref="vmxnet3_cleanup_msi">vmxnet3_cleanup_msi</a>(<a class="local col4 ref" href="#384s" title='s' data-ref="384s">s</a>);</td></tr>
<tr><th id="2365">2365</th><td>}</td></tr>
<tr><th id="2366">2366</th><td></td></tr>
<tr><th id="2367">2367</th><td><em>static</em> <em>void</em> <dfn class="tu decl def" id="vmxnet3_qdev_reset" title='vmxnet3_qdev_reset' data-type='void vmxnet3_qdev_reset(DeviceState * dev)' data-ref="vmxnet3_qdev_reset">vmxnet3_qdev_reset</dfn>(<a class="typedef" href="../../include/qemu/typedefs.h.html#DeviceState" title='DeviceState' data-type='struct DeviceState' data-ref="DeviceState">DeviceState</a> *<dfn class="local col5 decl" id="385dev" title='dev' data-type='DeviceState *' data-ref="385dev">dev</dfn>)</td></tr>
<tr><th id="2368">2368</th><td>{</td></tr>
<tr><th id="2369">2369</th><td>    <a class="typedef" href="../../include/qemu/typedefs.h.html#PCIDevice" title='PCIDevice' data-type='struct PCIDevice' data-ref="PCIDevice">PCIDevice</a> *<dfn class="local col6 decl" id="386d" title='d' data-type='PCIDevice *' data-ref="386d">d</dfn> = <a class="macro" href="../../include/hw/pci/pci.h.html#191" title="((PCIDevice *)object_dynamic_cast_assert(((Object *)((dev))), (&quot;pci-device&quot;), &quot;/home/jon/workspace/qemu/hw/net/vmxnet3.c&quot;, 2369, __func__))" data-ref="_M/PCI_DEVICE">PCI_DEVICE</a>(<a class="local col5 ref" href="#385dev" title='dev' data-ref="385dev">dev</a>);</td></tr>
<tr><th id="2370">2370</th><td>    <a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a> *<dfn class="local col7 decl" id="387s" title='s' data-type='VMXNET3State *' data-ref="387s">s</dfn> = <a class="macro" href="#135" title="((VMXNET3State *)object_dynamic_cast_assert(((Object *)((d))), (&quot;vmxnet3&quot;), &quot;/home/jon/workspace/qemu/hw/net/vmxnet3.c&quot;, 2370, __func__))" data-ref="_M/VMXNET3">VMXNET3</a>(<a class="local col6 ref" href="#386d" title='d' data-ref="386d">d</a>);</td></tr>
<tr><th id="2371">2371</th><td></td></tr>
<tr><th id="2372">2372</th><td>    <a class="macro" href="vmxnet_debug.h.html#89" title="do { if (0) { printf(&quot;[%s][CB][%s]: &quot; &quot;Starting QDEV reset...&quot; &quot;\n&quot;, &quot;vmxnet3&quot;, __func__); } } while (0)" data-ref="_M/VMW_CBPRN">VMW_CBPRN</a>(<q>"Starting QDEV reset..."</q>);</td></tr>
<tr><th id="2373">2373</th><td>    <a class="tu ref" href="#vmxnet3_reset" title='vmxnet3_reset' data-use='c' data-ref="vmxnet3_reset">vmxnet3_reset</a>(<a class="local col7 ref" href="#387s" title='s' data-ref="387s">s</a>);</td></tr>
<tr><th id="2374">2374</th><td>}</td></tr>
<tr><th id="2375">2375</th><td></td></tr>
<tr><th id="2376">2376</th><td><em>static</em> <span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="tu decl def" id="vmxnet3_mc_list_needed" title='vmxnet3_mc_list_needed' data-type='_Bool vmxnet3_mc_list_needed(void * opaque)' data-ref="vmxnet3_mc_list_needed">vmxnet3_mc_list_needed</dfn>(<em>void</em> *<dfn class="local col8 decl" id="388opaque" title='opaque' data-type='void *' data-ref="388opaque">opaque</dfn>)</td></tr>
<tr><th id="2377">2377</th><td>{</td></tr>
<tr><th id="2378">2378</th><td>    <b>return</b> <span class="macro" title="1" data-ref="_M/true">true</span>;</td></tr>
<tr><th id="2379">2379</th><td>}</td></tr>
<tr><th id="2380">2380</th><td></td></tr>
<tr><th id="2381">2381</th><td><em>static</em> <em>int</em> <dfn class="tu decl def" id="vmxnet3_mcast_list_pre_load" title='vmxnet3_mcast_list_pre_load' data-type='int vmxnet3_mcast_list_pre_load(void * opaque)' data-ref="vmxnet3_mcast_list_pre_load">vmxnet3_mcast_list_pre_load</dfn>(<em>void</em> *<dfn class="local col9 decl" id="389opaque" title='opaque' data-type='void *' data-ref="389opaque">opaque</dfn>)</td></tr>
<tr><th id="2382">2382</th><td>{</td></tr>
<tr><th id="2383">2383</th><td>    <a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a> *<dfn class="local col0 decl" id="390s" title='s' data-type='VMXNET3State *' data-ref="390s">s</dfn> = <a class="local col9 ref" href="#389opaque" title='opaque' data-ref="389opaque">opaque</a>;</td></tr>
<tr><th id="2384">2384</th><td></td></tr>
<tr><th id="2385">2385</th><td>    <a class="local col0 ref" href="#390s" title='s' data-ref="390s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::mcast_list" title='(anonymous struct)::mcast_list' data-use='w' data-ref="(anonymous)::mcast_list">mcast_list</a> = <a class="ref" href="../../../include/glib-2.0/glib/gmem.h.html#g_malloc" title='g_malloc' data-ref="g_malloc">g_malloc</a>(<a class="local col0 ref" href="#390s" title='s' data-ref="390s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::mcast_list_buff_size" title='(anonymous struct)::mcast_list_buff_size' data-use='r' data-ref="(anonymous)::mcast_list_buff_size">mcast_list_buff_size</a>);</td></tr>
<tr><th id="2386">2386</th><td></td></tr>
<tr><th id="2387">2387</th><td>    <b>return</b> <var>0</var>;</td></tr>
<tr><th id="2388">2388</th><td>}</td></tr>
<tr><th id="2389">2389</th><td></td></tr>
<tr><th id="2390">2390</th><td></td></tr>
<tr><th id="2391">2391</th><td><em>static</em> <em>void</em> <dfn class="tu decl def" id="vmxnet3_pre_save" title='vmxnet3_pre_save' data-type='void vmxnet3_pre_save(void * opaque)' data-ref="vmxnet3_pre_save">vmxnet3_pre_save</dfn>(<em>void</em> *<dfn class="local col1 decl" id="391opaque" title='opaque' data-type='void *' data-ref="391opaque">opaque</dfn>)</td></tr>
<tr><th id="2392">2392</th><td>{</td></tr>
<tr><th id="2393">2393</th><td>    <a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a> *<dfn class="local col2 decl" id="392s" title='s' data-type='VMXNET3State *' data-ref="392s">s</dfn> = <a class="local col1 ref" href="#391opaque" title='opaque' data-ref="391opaque">opaque</a>;</td></tr>
<tr><th id="2394">2394</th><td></td></tr>
<tr><th id="2395">2395</th><td>    <a class="local col2 ref" href="#392s" title='s' data-ref="392s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::mcast_list_buff_size" title='(anonymous struct)::mcast_list_buff_size' data-use='w' data-ref="(anonymous)::mcast_list_buff_size">mcast_list_buff_size</a> = <a class="local col2 ref" href="#392s" title='s' data-ref="392s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::mcast_list_len" title='(anonymous struct)::mcast_list_len' data-use='r' data-ref="(anonymous)::mcast_list_len">mcast_list_len</a> * <b>sizeof</b>(<a class="typedef" href="../../include/qemu/typedefs.h.html#MACAddr" title='MACAddr' data-type='struct MACAddr' data-ref="MACAddr">MACAddr</a>);</td></tr>
<tr><th id="2396">2396</th><td>}</td></tr>
<tr><th id="2397">2397</th><td></td></tr>
<tr><th id="2398">2398</th><td><em>static</em> <em>const</em> <a class="typedef" href="../../include/migration/vmstate.h.html#VMStateDescription" title='VMStateDescription' data-type='struct VMStateDescription' data-ref="VMStateDescription">VMStateDescription</a> <dfn class="tu decl def" id="vmxstate_vmxnet3_mcast_list" title='vmxstate_vmxnet3_mcast_list' data-type='const VMStateDescription' data-ref="vmxstate_vmxnet3_mcast_list">vmxstate_vmxnet3_mcast_list</dfn> = {</td></tr>
<tr><th id="2399">2399</th><td>    .<a class="ref" href="../../include/migration/vmstate.h.html#VMStateDescription::name" title='VMStateDescription::name' data-ref="VMStateDescription::name">name</a> = <q>"vmxnet3/mcast_list"</q>,</td></tr>
<tr><th id="2400">2400</th><td>    .<a class="ref" href="../../include/migration/vmstate.h.html#VMStateDescription::version_id" title='VMStateDescription::version_id' data-ref="VMStateDescription::version_id">version_id</a> = <var>1</var>,</td></tr>
<tr><th id="2401">2401</th><td>    .<a class="ref" href="../../include/migration/vmstate.h.html#VMStateDescription::minimum_version_id" title='VMStateDescription::minimum_version_id' data-ref="VMStateDescription::minimum_version_id">minimum_version_id</a> = <var>1</var>,</td></tr>
<tr><th id="2402">2402</th><td>    .<a class="ref" href="../../include/migration/vmstate.h.html#VMStateDescription::pre_load" title='VMStateDescription::pre_load' data-ref="VMStateDescription::pre_load">pre_load</a> = <a class="tu ref" href="#vmxnet3_mcast_list_pre_load" title='vmxnet3_mcast_list_pre_load' data-ref="vmxnet3_mcast_list_pre_load">vmxnet3_mcast_list_pre_load</a>,</td></tr>
<tr><th id="2403">2403</th><td>    .<a class="ref" href="../../include/migration/vmstate.h.html#VMStateDescription::needed" title='VMStateDescription::needed' data-ref="VMStateDescription::needed">needed</a> = <a class="tu ref" href="#vmxnet3_mc_list_needed" title='vmxnet3_mc_list_needed' data-ref="vmxnet3_mc_list_needed">vmxnet3_mc_list_needed</a>,</td></tr>
<tr><th id="2404">2404</th><td>    .<a class="ref" href="../../include/migration/vmstate.h.html#VMStateDescription::fields" title='VMStateDescription::fields' data-ref="VMStateDescription::fields">fields</a> = (<a class="typedef" href="../../include/migration/vmstate.h.html#VMStateField" title='VMStateField' data-type='struct VMStateField' data-ref="VMStateField">VMStateField</a>[]) {</td></tr>
<tr><th id="2405">2405</th><td>        <a class="macro" href="../../include/migration/vmstate.h.html#595" title="{ .name = (&quot;mcast_list&quot;), .version_id = (0), .field_exists = (((void*)0)), .size_offset = (__builtin_offsetof(VMXNET3State, mcast_list_buff_size) + ((uint32_t*)0 - (typeof(((VMXNET3State *)0)-&gt;mcast_list_buff_size)*)0)), .info = &amp;vmstate_info_buffer, .flags = VMS_VBUFFER|VMS_POINTER, .offset = __builtin_offsetof(VMXNET3State, mcast_list), }" data-ref="_M/VMSTATE_VBUFFER_UINT32">VMSTATE_VBUFFER_UINT32</a>(mcast_list, <a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a>, <var>0</var>, <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>,</td></tr>
<tr><th id="2406">2406</th><td>            <a class="tu ref" href="#(anonymous)::mcast_list_buff_size" title='(anonymous struct)::mcast_list_buff_size' data-use='r' data-ref="(anonymous)::mcast_list_buff_size">mcast_list_buff_size</a>),</td></tr>
<tr><th id="2407">2407</th><td>        <a class="macro" href="../../include/migration/vmstate.h.html#992" title="{}" data-ref="_M/VMSTATE_END_OF_LIST">VMSTATE_END_OF_LIST</a>()</td></tr>
<tr><th id="2408">2408</th><td>    }</td></tr>
<tr><th id="2409">2409</th><td>};</td></tr>
<tr><th id="2410">2410</th><td></td></tr>
<tr><th id="2411">2411</th><td><em>static</em> <em>const</em> <a class="typedef" href="../../include/migration/vmstate.h.html#VMStateDescription" title='VMStateDescription' data-type='struct VMStateDescription' data-ref="VMStateDescription">VMStateDescription</a> <dfn class="tu decl def" id="vmstate_vmxnet3_ring" title='vmstate_vmxnet3_ring' data-type='const VMStateDescription' data-ref="vmstate_vmxnet3_ring">vmstate_vmxnet3_ring</dfn> = {</td></tr>
<tr><th id="2412">2412</th><td>    .<a class="ref" href="../../include/migration/vmstate.h.html#VMStateDescription::name" title='VMStateDescription::name' data-ref="VMStateDescription::name">name</a> = <q>"vmxnet3-ring"</q>,</td></tr>
<tr><th id="2413">2413</th><td>    .<a class="ref" href="../../include/migration/vmstate.h.html#VMStateDescription::version_id" title='VMStateDescription::version_id' data-ref="VMStateDescription::version_id">version_id</a> = <var>0</var>,</td></tr>
<tr><th id="2414">2414</th><td>    .<a class="ref" href="../../include/migration/vmstate.h.html#VMStateDescription::fields" title='VMStateDescription::fields' data-ref="VMStateDescription::fields">fields</a> = (<a class="typedef" href="../../include/migration/vmstate.h.html#VMStateField" title='VMStateField' data-type='struct VMStateField' data-ref="VMStateField">VMStateField</a>[]) {</td></tr>
<tr><th id="2415">2415</th><td>        <a class="macro" href="../../include/migration/vmstate.h.html#775" title="{ .name = (&quot;pa&quot;), .version_id = (0), .field_exists = (((void*)0)), .size = sizeof(uint64_t), .info = &amp;(vmstate_info_uint64), .flags = VMS_SINGLE, .offset = (__builtin_offsetof(Vmxnet3Ring, pa) + ((uint64_t*)0 - (typeof(((Vmxnet3Ring *)0)-&gt;pa)*)0)), }" data-ref="_M/VMSTATE_UINT64">VMSTATE_UINT64</a>(<a class="tu ref" href="#(anonymous)::pa" title='(anonymous struct)::pa' data-use='r' data-ref="(anonymous)::pa">pa</a>, <a class="typedef" href="#Vmxnet3Ring" title='Vmxnet3Ring' data-type='struct Vmxnet3Ring' data-ref="Vmxnet3Ring">Vmxnet3Ring</a>),</td></tr>
<tr><th id="2416">2416</th><td>        <a class="macro" href="../../include/migration/vmstate.h.html#773" title="{ .name = (&quot;size&quot;), .version_id = (0), .field_exists = (((void*)0)), .size = sizeof(uint32_t), .info = &amp;(vmstate_info_uint32), .flags = VMS_SINGLE, .offset = (__builtin_offsetof(Vmxnet3Ring, size) + ((uint32_t*)0 - (typeof(((Vmxnet3Ring *)0)-&gt;size)*)0)), }" data-ref="_M/VMSTATE_UINT32">VMSTATE_UINT32</a>(<a class="tu ref" href="#(anonymous)::size" title='(anonymous struct)::size' data-use='r' data-ref="(anonymous)::size">size</a>, <a class="typedef" href="#Vmxnet3Ring" title='Vmxnet3Ring' data-type='struct Vmxnet3Ring' data-ref="Vmxnet3Ring">Vmxnet3Ring</a>),</td></tr>
<tr><th id="2417">2417</th><td>        <a class="macro" href="../../include/migration/vmstate.h.html#773" title="{ .name = (&quot;cell_size&quot;), .version_id = (0), .field_exists = (((void*)0)), .size = sizeof(uint32_t), .info = &amp;(vmstate_info_uint32), .flags = VMS_SINGLE, .offset = (__builtin_offsetof(Vmxnet3Ring, cell_size) + ((uint32_t*)0 - (typeof(((Vmxnet3Ring *)0)-&gt;cell_size)*)0)), }" data-ref="_M/VMSTATE_UINT32">VMSTATE_UINT32</a>(<a class="tu ref" href="#(anonymous)::cell_size" title='(anonymous struct)::cell_size' data-use='r' data-ref="(anonymous)::cell_size">cell_size</a>, <a class="typedef" href="#Vmxnet3Ring" title='Vmxnet3Ring' data-type='struct Vmxnet3Ring' data-ref="Vmxnet3Ring">Vmxnet3Ring</a>),</td></tr>
<tr><th id="2418">2418</th><td>        <a class="macro" href="../../include/migration/vmstate.h.html#773" title="{ .name = (&quot;next&quot;), .version_id = (0), .field_exists = (((void*)0)), .size = sizeof(uint32_t), .info = &amp;(vmstate_info_uint32), .flags = VMS_SINGLE, .offset = (__builtin_offsetof(Vmxnet3Ring, next) + ((uint32_t*)0 - (typeof(((Vmxnet3Ring *)0)-&gt;next)*)0)), }" data-ref="_M/VMSTATE_UINT32">VMSTATE_UINT32</a>(<a class="tu ref" href="#(anonymous)::next" title='(anonymous struct)::next' data-use='r' data-ref="(anonymous)::next">next</a>, <a class="typedef" href="#Vmxnet3Ring" title='Vmxnet3Ring' data-type='struct Vmxnet3Ring' data-ref="Vmxnet3Ring">Vmxnet3Ring</a>),</td></tr>
<tr><th id="2419">2419</th><td>        <a class="macro" href="../../include/migration/vmstate.h.html#769" title="{ .name = (&quot;gen&quot;), .version_id = (0), .field_exists = (((void*)0)), .size = sizeof(uint8_t), .info = &amp;(vmstate_info_uint8), .flags = VMS_SINGLE, .offset = (__builtin_offsetof(Vmxnet3Ring, gen) + ((uint8_t*)0 - (typeof(((Vmxnet3Ring *)0)-&gt;gen)*)0)), }" data-ref="_M/VMSTATE_UINT8">VMSTATE_UINT8</a>(<a class="tu ref" href="#(anonymous)::gen" title='(anonymous struct)::gen' data-use='r' data-ref="(anonymous)::gen">gen</a>, <a class="typedef" href="#Vmxnet3Ring" title='Vmxnet3Ring' data-type='struct Vmxnet3Ring' data-ref="Vmxnet3Ring">Vmxnet3Ring</a>),</td></tr>
<tr><th id="2420">2420</th><td>        <a class="macro" href="../../include/migration/vmstate.h.html#992" title="{}" data-ref="_M/VMSTATE_END_OF_LIST">VMSTATE_END_OF_LIST</a>()</td></tr>
<tr><th id="2421">2421</th><td>    }</td></tr>
<tr><th id="2422">2422</th><td>};</td></tr>
<tr><th id="2423">2423</th><td></td></tr>
<tr><th id="2424">2424</th><td><em>static</em> <em>const</em> <a class="typedef" href="../../include/migration/vmstate.h.html#VMStateDescription" title='VMStateDescription' data-type='struct VMStateDescription' data-ref="VMStateDescription">VMStateDescription</a> <dfn class="tu decl def" id="vmstate_vmxnet3_tx_stats" title='vmstate_vmxnet3_tx_stats' data-type='const VMStateDescription' data-ref="vmstate_vmxnet3_tx_stats">vmstate_vmxnet3_tx_stats</dfn> = {</td></tr>
<tr><th id="2425">2425</th><td>    .<a class="ref" href="../../include/migration/vmstate.h.html#VMStateDescription::name" title='VMStateDescription::name' data-ref="VMStateDescription::name">name</a> = <q>"vmxnet3-tx-stats"</q>,</td></tr>
<tr><th id="2426">2426</th><td>    .<a class="ref" href="../../include/migration/vmstate.h.html#VMStateDescription::version_id" title='VMStateDescription::version_id' data-ref="VMStateDescription::version_id">version_id</a> = <var>0</var>,</td></tr>
<tr><th id="2427">2427</th><td>    .<a class="ref" href="../../include/migration/vmstate.h.html#VMStateDescription::fields" title='VMStateDescription::fields' data-ref="VMStateDescription::fields">fields</a> = (<a class="typedef" href="../../include/migration/vmstate.h.html#VMStateField" title='VMStateField' data-type='struct VMStateField' data-ref="VMStateField">VMStateField</a>[]) {</td></tr>
<tr><th id="2428">2428</th><td>        <a class="macro" href="../../include/migration/vmstate.h.html#775" title="{ .name = (&quot;TSOPktsTxOK&quot;), .version_id = (0), .field_exists = (((void*)0)), .size = sizeof(uint64_t), .info = &amp;(vmstate_info_uint64), .flags = VMS_SINGLE, .offset = (__builtin_offsetof(struct UPT1_TxStats, TSOPktsTxOK) + ((uint64_t*)0 - (typeof(((struct UPT1_TxStats *)0)-&gt;TSOPktsTxOK)*)0)), }" data-ref="_M/VMSTATE_UINT64">VMSTATE_UINT64</a>(<a class="ref" href="vmxnet3.h.html#UPT1_TxStats::TSOPktsTxOK" title='UPT1_TxStats::TSOPktsTxOK' data-ref="UPT1_TxStats::TSOPktsTxOK">TSOPktsTxOK</a>, <b>struct</b> <a class="type" href="vmxnet3.h.html#UPT1_TxStats" title='UPT1_TxStats' data-ref="UPT1_TxStats">UPT1_TxStats</a>),</td></tr>
<tr><th id="2429">2429</th><td>        <a class="macro" href="../../include/migration/vmstate.h.html#775" title="{ .name = (&quot;TSOBytesTxOK&quot;), .version_id = (0), .field_exists = (((void*)0)), .size = sizeof(uint64_t), .info = &amp;(vmstate_info_uint64), .flags = VMS_SINGLE, .offset = (__builtin_offsetof(struct UPT1_TxStats, TSOBytesTxOK) + ((uint64_t*)0 - (typeof(((struct UPT1_TxStats *)0)-&gt;TSOBytesTxOK)*)0)), }" data-ref="_M/VMSTATE_UINT64">VMSTATE_UINT64</a>(<a class="ref" href="vmxnet3.h.html#UPT1_TxStats::TSOBytesTxOK" title='UPT1_TxStats::TSOBytesTxOK' data-ref="UPT1_TxStats::TSOBytesTxOK">TSOBytesTxOK</a>, <b>struct</b> <a class="type" href="vmxnet3.h.html#UPT1_TxStats" title='UPT1_TxStats' data-ref="UPT1_TxStats">UPT1_TxStats</a>),</td></tr>
<tr><th id="2430">2430</th><td>        <a class="macro" href="../../include/migration/vmstate.h.html#775" title="{ .name = (&quot;ucastPktsTxOK&quot;), .version_id = (0), .field_exists = (((void*)0)), .size = sizeof(uint64_t), .info = &amp;(vmstate_info_uint64), .flags = VMS_SINGLE, .offset = (__builtin_offsetof(struct UPT1_TxStats, ucastPktsTxOK) + ((uint64_t*)0 - (typeof(((struct UPT1_TxStats *)0)-&gt;ucastPktsTxOK)*)0)), }" data-ref="_M/VMSTATE_UINT64">VMSTATE_UINT64</a>(<a class="ref" href="vmxnet3.h.html#UPT1_TxStats::ucastPktsTxOK" title='UPT1_TxStats::ucastPktsTxOK' data-ref="UPT1_TxStats::ucastPktsTxOK">ucastPktsTxOK</a>, <b>struct</b> <a class="type" href="vmxnet3.h.html#UPT1_TxStats" title='UPT1_TxStats' data-ref="UPT1_TxStats">UPT1_TxStats</a>),</td></tr>
<tr><th id="2431">2431</th><td>        <a class="macro" href="../../include/migration/vmstate.h.html#775" title="{ .name = (&quot;ucastBytesTxOK&quot;), .version_id = (0), .field_exists = (((void*)0)), .size = sizeof(uint64_t), .info = &amp;(vmstate_info_uint64), .flags = VMS_SINGLE, .offset = (__builtin_offsetof(struct UPT1_TxStats, ucastBytesTxOK) + ((uint64_t*)0 - (typeof(((struct UPT1_TxStats *)0)-&gt;ucastBytesTxOK)*)0)), }" data-ref="_M/VMSTATE_UINT64">VMSTATE_UINT64</a>(<a class="ref" href="vmxnet3.h.html#UPT1_TxStats::ucastBytesTxOK" title='UPT1_TxStats::ucastBytesTxOK' data-ref="UPT1_TxStats::ucastBytesTxOK">ucastBytesTxOK</a>, <b>struct</b> <a class="type" href="vmxnet3.h.html#UPT1_TxStats" title='UPT1_TxStats' data-ref="UPT1_TxStats">UPT1_TxStats</a>),</td></tr>
<tr><th id="2432">2432</th><td>        <a class="macro" href="../../include/migration/vmstate.h.html#775" title="{ .name = (&quot;mcastPktsTxOK&quot;), .version_id = (0), .field_exists = (((void*)0)), .size = sizeof(uint64_t), .info = &amp;(vmstate_info_uint64), .flags = VMS_SINGLE, .offset = (__builtin_offsetof(struct UPT1_TxStats, mcastPktsTxOK) + ((uint64_t*)0 - (typeof(((struct UPT1_TxStats *)0)-&gt;mcastPktsTxOK)*)0)), }" data-ref="_M/VMSTATE_UINT64">VMSTATE_UINT64</a>(<a class="ref" href="vmxnet3.h.html#UPT1_TxStats::mcastPktsTxOK" title='UPT1_TxStats::mcastPktsTxOK' data-ref="UPT1_TxStats::mcastPktsTxOK">mcastPktsTxOK</a>, <b>struct</b> <a class="type" href="vmxnet3.h.html#UPT1_TxStats" title='UPT1_TxStats' data-ref="UPT1_TxStats">UPT1_TxStats</a>),</td></tr>
<tr><th id="2433">2433</th><td>        <a class="macro" href="../../include/migration/vmstate.h.html#775" title="{ .name = (&quot;mcastBytesTxOK&quot;), .version_id = (0), .field_exists = (((void*)0)), .size = sizeof(uint64_t), .info = &amp;(vmstate_info_uint64), .flags = VMS_SINGLE, .offset = (__builtin_offsetof(struct UPT1_TxStats, mcastBytesTxOK) + ((uint64_t*)0 - (typeof(((struct UPT1_TxStats *)0)-&gt;mcastBytesTxOK)*)0)), }" data-ref="_M/VMSTATE_UINT64">VMSTATE_UINT64</a>(<a class="ref" href="vmxnet3.h.html#UPT1_TxStats::mcastBytesTxOK" title='UPT1_TxStats::mcastBytesTxOK' data-ref="UPT1_TxStats::mcastBytesTxOK">mcastBytesTxOK</a>, <b>struct</b> <a class="type" href="vmxnet3.h.html#UPT1_TxStats" title='UPT1_TxStats' data-ref="UPT1_TxStats">UPT1_TxStats</a>),</td></tr>
<tr><th id="2434">2434</th><td>        <a class="macro" href="../../include/migration/vmstate.h.html#775" title="{ .name = (&quot;bcastPktsTxOK&quot;), .version_id = (0), .field_exists = (((void*)0)), .size = sizeof(uint64_t), .info = &amp;(vmstate_info_uint64), .flags = VMS_SINGLE, .offset = (__builtin_offsetof(struct UPT1_TxStats, bcastPktsTxOK) + ((uint64_t*)0 - (typeof(((struct UPT1_TxStats *)0)-&gt;bcastPktsTxOK)*)0)), }" data-ref="_M/VMSTATE_UINT64">VMSTATE_UINT64</a>(<a class="ref" href="vmxnet3.h.html#UPT1_TxStats::bcastPktsTxOK" title='UPT1_TxStats::bcastPktsTxOK' data-ref="UPT1_TxStats::bcastPktsTxOK">bcastPktsTxOK</a>, <b>struct</b> <a class="type" href="vmxnet3.h.html#UPT1_TxStats" title='UPT1_TxStats' data-ref="UPT1_TxStats">UPT1_TxStats</a>),</td></tr>
<tr><th id="2435">2435</th><td>        <a class="macro" href="../../include/migration/vmstate.h.html#775" title="{ .name = (&quot;bcastBytesTxOK&quot;), .version_id = (0), .field_exists = (((void*)0)), .size = sizeof(uint64_t), .info = &amp;(vmstate_info_uint64), .flags = VMS_SINGLE, .offset = (__builtin_offsetof(struct UPT1_TxStats, bcastBytesTxOK) + ((uint64_t*)0 - (typeof(((struct UPT1_TxStats *)0)-&gt;bcastBytesTxOK)*)0)), }" data-ref="_M/VMSTATE_UINT64">VMSTATE_UINT64</a>(<a class="ref" href="vmxnet3.h.html#UPT1_TxStats::bcastBytesTxOK" title='UPT1_TxStats::bcastBytesTxOK' data-ref="UPT1_TxStats::bcastBytesTxOK">bcastBytesTxOK</a>, <b>struct</b> <a class="type" href="vmxnet3.h.html#UPT1_TxStats" title='UPT1_TxStats' data-ref="UPT1_TxStats">UPT1_TxStats</a>),</td></tr>
<tr><th id="2436">2436</th><td>        <a class="macro" href="../../include/migration/vmstate.h.html#775" title="{ .name = (&quot;pktsTxError&quot;), .version_id = (0), .field_exists = (((void*)0)), .size = sizeof(uint64_t), .info = &amp;(vmstate_info_uint64), .flags = VMS_SINGLE, .offset = (__builtin_offsetof(struct UPT1_TxStats, pktsTxError) + ((uint64_t*)0 - (typeof(((struct UPT1_TxStats *)0)-&gt;pktsTxError)*)0)), }" data-ref="_M/VMSTATE_UINT64">VMSTATE_UINT64</a>(<a class="ref" href="vmxnet3.h.html#UPT1_TxStats::pktsTxError" title='UPT1_TxStats::pktsTxError' data-ref="UPT1_TxStats::pktsTxError">pktsTxError</a>, <b>struct</b> <a class="type" href="vmxnet3.h.html#UPT1_TxStats" title='UPT1_TxStats' data-ref="UPT1_TxStats">UPT1_TxStats</a>),</td></tr>
<tr><th id="2437">2437</th><td>        <a class="macro" href="../../include/migration/vmstate.h.html#775" title="{ .name = (&quot;pktsTxDiscard&quot;), .version_id = (0), .field_exists = (((void*)0)), .size = sizeof(uint64_t), .info = &amp;(vmstate_info_uint64), .flags = VMS_SINGLE, .offset = (__builtin_offsetof(struct UPT1_TxStats, pktsTxDiscard) + ((uint64_t*)0 - (typeof(((struct UPT1_TxStats *)0)-&gt;pktsTxDiscard)*)0)), }" data-ref="_M/VMSTATE_UINT64">VMSTATE_UINT64</a>(<a class="ref" href="vmxnet3.h.html#UPT1_TxStats::pktsTxDiscard" title='UPT1_TxStats::pktsTxDiscard' data-ref="UPT1_TxStats::pktsTxDiscard">pktsTxDiscard</a>, <b>struct</b> <a class="type" href="vmxnet3.h.html#UPT1_TxStats" title='UPT1_TxStats' data-ref="UPT1_TxStats">UPT1_TxStats</a>),</td></tr>
<tr><th id="2438">2438</th><td>        <a class="macro" href="../../include/migration/vmstate.h.html#992" title="{}" data-ref="_M/VMSTATE_END_OF_LIST">VMSTATE_END_OF_LIST</a>()</td></tr>
<tr><th id="2439">2439</th><td>    }</td></tr>
<tr><th id="2440">2440</th><td>};</td></tr>
<tr><th id="2441">2441</th><td></td></tr>
<tr><th id="2442">2442</th><td><em>static</em> <em>const</em> <a class="typedef" href="../../include/migration/vmstate.h.html#VMStateDescription" title='VMStateDescription' data-type='struct VMStateDescription' data-ref="VMStateDescription">VMStateDescription</a> <dfn class="tu decl def" id="vmstate_vmxnet3_txq_descr" title='vmstate_vmxnet3_txq_descr' data-type='const VMStateDescription' data-ref="vmstate_vmxnet3_txq_descr">vmstate_vmxnet3_txq_descr</dfn> = {</td></tr>
<tr><th id="2443">2443</th><td>    .<a class="ref" href="../../include/migration/vmstate.h.html#VMStateDescription::name" title='VMStateDescription::name' data-ref="VMStateDescription::name">name</a> = <q>"vmxnet3-txq-descr"</q>,</td></tr>
<tr><th id="2444">2444</th><td>    .<a class="ref" href="../../include/migration/vmstate.h.html#VMStateDescription::version_id" title='VMStateDescription::version_id' data-ref="VMStateDescription::version_id">version_id</a> = <var>0</var>,</td></tr>
<tr><th id="2445">2445</th><td>    .<a class="ref" href="../../include/migration/vmstate.h.html#VMStateDescription::fields" title='VMStateDescription::fields' data-ref="VMStateDescription::fields">fields</a> = (<a class="typedef" href="../../include/migration/vmstate.h.html#VMStateField" title='VMStateField' data-type='struct VMStateField' data-ref="VMStateField">VMStateField</a>[]) {</td></tr>
<tr><th id="2446">2446</th><td>        <a class="macro" href="../../include/migration/vmstate.h.html#714" title="{ .name = (&quot;tx_ring&quot;), .version_id = (0), .field_exists = (((void*)0)), .vmsd = &amp;(vmstate_vmxnet3_ring), .size = sizeof(Vmxnet3Ring), .flags = VMS_STRUCT, .offset = (__builtin_offsetof(Vmxnet3TxqDescr, tx_ring) + ((Vmxnet3Ring*)0 - (typeof(((Vmxnet3TxqDescr *)0)-&gt;tx_ring)*)0)), }" data-ref="_M/VMSTATE_STRUCT">VMSTATE_STRUCT</a>(<a class="tu ref" href="#(anonymous)::tx_ring" title='(anonymous struct)::tx_ring' data-use='r' data-ref="(anonymous)::tx_ring">tx_ring</a>, <a class="typedef" href="#Vmxnet3TxqDescr" title='Vmxnet3TxqDescr' data-type='struct Vmxnet3TxqDescr' data-ref="Vmxnet3TxqDescr">Vmxnet3TxqDescr</a>, <var>0</var>, <a class="tu ref" href="#vmstate_vmxnet3_ring" title='vmstate_vmxnet3_ring' data-use='a' data-ref="vmstate_vmxnet3_ring">vmstate_vmxnet3_ring</a>,</td></tr>
<tr><th id="2447">2447</th><td>                       <a class="typedef" href="#Vmxnet3Ring" title='Vmxnet3Ring' data-type='struct Vmxnet3Ring' data-ref="Vmxnet3Ring">Vmxnet3Ring</a>),</td></tr>
<tr><th id="2448">2448</th><td>        <a class="macro" href="../../include/migration/vmstate.h.html#714" title="{ .name = (&quot;comp_ring&quot;), .version_id = (0), .field_exists = (((void*)0)), .vmsd = &amp;(vmstate_vmxnet3_ring), .size = sizeof(Vmxnet3Ring), .flags = VMS_STRUCT, .offset = (__builtin_offsetof(Vmxnet3TxqDescr, comp_ring) + ((Vmxnet3Ring*)0 - (typeof(((Vmxnet3TxqDescr *)0)-&gt;comp_ring)*)0)), }" data-ref="_M/VMSTATE_STRUCT">VMSTATE_STRUCT</a>(<a class="tu ref" href="#(anonymous)::comp_ring" title='(anonymous struct)::comp_ring' data-use='r' data-ref="(anonymous)::comp_ring">comp_ring</a>, <a class="typedef" href="#Vmxnet3TxqDescr" title='Vmxnet3TxqDescr' data-type='struct Vmxnet3TxqDescr' data-ref="Vmxnet3TxqDescr">Vmxnet3TxqDescr</a>, <var>0</var>, <a class="tu ref" href="#vmstate_vmxnet3_ring" title='vmstate_vmxnet3_ring' data-use='a' data-ref="vmstate_vmxnet3_ring">vmstate_vmxnet3_ring</a>,</td></tr>
<tr><th id="2449">2449</th><td>                       <a class="typedef" href="#Vmxnet3Ring" title='Vmxnet3Ring' data-type='struct Vmxnet3Ring' data-ref="Vmxnet3Ring">Vmxnet3Ring</a>),</td></tr>
<tr><th id="2450">2450</th><td>        <a class="macro" href="../../include/migration/vmstate.h.html#769" title="{ .name = (&quot;intr_idx&quot;), .version_id = (0), .field_exists = (((void*)0)), .size = sizeof(uint8_t), .info = &amp;(vmstate_info_uint8), .flags = VMS_SINGLE, .offset = (__builtin_offsetof(Vmxnet3TxqDescr, intr_idx) + ((uint8_t*)0 - (typeof(((Vmxnet3TxqDescr *)0)-&gt;intr_idx)*)0)), }" data-ref="_M/VMSTATE_UINT8">VMSTATE_UINT8</a>(<a class="tu ref" href="#(anonymous)::intr_idx" title='(anonymous struct)::intr_idx' data-use='r' data-ref="(anonymous)::intr_idx">intr_idx</a>, <a class="typedef" href="#Vmxnet3TxqDescr" title='Vmxnet3TxqDescr' data-type='struct Vmxnet3TxqDescr' data-ref="Vmxnet3TxqDescr">Vmxnet3TxqDescr</a>),</td></tr>
<tr><th id="2451">2451</th><td>        <a class="macro" href="../../include/migration/vmstate.h.html#775" title="{ .name = (&quot;tx_stats_pa&quot;), .version_id = (0), .field_exists = (((void*)0)), .size = sizeof(uint64_t), .info = &amp;(vmstate_info_uint64), .flags = VMS_SINGLE, .offset = (__builtin_offsetof(Vmxnet3TxqDescr, tx_stats_pa) + ((uint64_t*)0 - (typeof(((Vmxnet3TxqDescr *)0)-&gt;tx_stats_pa)*)0)), }" data-ref="_M/VMSTATE_UINT64">VMSTATE_UINT64</a>(<a class="tu ref" href="#(anonymous)::tx_stats_pa" title='(anonymous struct)::tx_stats_pa' data-use='r' data-ref="(anonymous)::tx_stats_pa">tx_stats_pa</a>, <a class="typedef" href="#Vmxnet3TxqDescr" title='Vmxnet3TxqDescr' data-type='struct Vmxnet3TxqDescr' data-ref="Vmxnet3TxqDescr">Vmxnet3TxqDescr</a>),</td></tr>
<tr><th id="2452">2452</th><td>        <a class="macro" href="../../include/migration/vmstate.h.html#714" title="{ .name = (&quot;txq_stats&quot;), .version_id = (0), .field_exists = (((void*)0)), .vmsd = &amp;(vmstate_vmxnet3_tx_stats), .size = sizeof(struct UPT1_TxStats), .flags = VMS_STRUCT, .offset = (__builtin_offsetof(Vmxnet3TxqDescr, txq_stats) + ((struct UPT1_TxStats*)0 - (typeof(((Vmxnet3TxqDescr *)0)-&gt;txq_stats)*)0)), }" data-ref="_M/VMSTATE_STRUCT">VMSTATE_STRUCT</a>(<a class="tu ref" href="#(anonymous)::txq_stats" title='(anonymous struct)::txq_stats' data-use='r' data-ref="(anonymous)::txq_stats">txq_stats</a>, <a class="typedef" href="#Vmxnet3TxqDescr" title='Vmxnet3TxqDescr' data-type='struct Vmxnet3TxqDescr' data-ref="Vmxnet3TxqDescr">Vmxnet3TxqDescr</a>, <var>0</var>, <a class="tu ref" href="#vmstate_vmxnet3_tx_stats" title='vmstate_vmxnet3_tx_stats' data-use='a' data-ref="vmstate_vmxnet3_tx_stats">vmstate_vmxnet3_tx_stats</a>,</td></tr>
<tr><th id="2453">2453</th><td>                       <b>struct</b> <a class="type" href="vmxnet3.h.html#UPT1_TxStats" title='UPT1_TxStats' data-ref="UPT1_TxStats">UPT1_TxStats</a>),</td></tr>
<tr><th id="2454">2454</th><td>        <a class="macro" href="../../include/migration/vmstate.h.html#992" title="{}" data-ref="_M/VMSTATE_END_OF_LIST">VMSTATE_END_OF_LIST</a>()</td></tr>
<tr><th id="2455">2455</th><td>    }</td></tr>
<tr><th id="2456">2456</th><td>};</td></tr>
<tr><th id="2457">2457</th><td></td></tr>
<tr><th id="2458">2458</th><td><em>static</em> <em>const</em> <a class="typedef" href="../../include/migration/vmstate.h.html#VMStateDescription" title='VMStateDescription' data-type='struct VMStateDescription' data-ref="VMStateDescription">VMStateDescription</a> <dfn class="tu decl def" id="vmstate_vmxnet3_rx_stats" title='vmstate_vmxnet3_rx_stats' data-type='const VMStateDescription' data-ref="vmstate_vmxnet3_rx_stats">vmstate_vmxnet3_rx_stats</dfn> = {</td></tr>
<tr><th id="2459">2459</th><td>    .<a class="ref" href="../../include/migration/vmstate.h.html#VMStateDescription::name" title='VMStateDescription::name' data-ref="VMStateDescription::name">name</a> = <q>"vmxnet3-rx-stats"</q>,</td></tr>
<tr><th id="2460">2460</th><td>    .<a class="ref" href="../../include/migration/vmstate.h.html#VMStateDescription::version_id" title='VMStateDescription::version_id' data-ref="VMStateDescription::version_id">version_id</a> = <var>0</var>,</td></tr>
<tr><th id="2461">2461</th><td>    .<a class="ref" href="../../include/migration/vmstate.h.html#VMStateDescription::fields" title='VMStateDescription::fields' data-ref="VMStateDescription::fields">fields</a> = (<a class="typedef" href="../../include/migration/vmstate.h.html#VMStateField" title='VMStateField' data-type='struct VMStateField' data-ref="VMStateField">VMStateField</a>[]) {</td></tr>
<tr><th id="2462">2462</th><td>        <a class="macro" href="../../include/migration/vmstate.h.html#775" title="{ .name = (&quot;LROPktsRxOK&quot;), .version_id = (0), .field_exists = (((void*)0)), .size = sizeof(uint64_t), .info = &amp;(vmstate_info_uint64), .flags = VMS_SINGLE, .offset = (__builtin_offsetof(struct UPT1_RxStats, LROPktsRxOK) + ((uint64_t*)0 - (typeof(((struct UPT1_RxStats *)0)-&gt;LROPktsRxOK)*)0)), }" data-ref="_M/VMSTATE_UINT64">VMSTATE_UINT64</a>(<a class="ref" href="vmxnet3.h.html#UPT1_RxStats::LROPktsRxOK" title='UPT1_RxStats::LROPktsRxOK' data-ref="UPT1_RxStats::LROPktsRxOK">LROPktsRxOK</a>, <b>struct</b> <a class="type" href="vmxnet3.h.html#UPT1_RxStats" title='UPT1_RxStats' data-ref="UPT1_RxStats">UPT1_RxStats</a>),</td></tr>
<tr><th id="2463">2463</th><td>        <a class="macro" href="../../include/migration/vmstate.h.html#775" title="{ .name = (&quot;LROBytesRxOK&quot;), .version_id = (0), .field_exists = (((void*)0)), .size = sizeof(uint64_t), .info = &amp;(vmstate_info_uint64), .flags = VMS_SINGLE, .offset = (__builtin_offsetof(struct UPT1_RxStats, LROBytesRxOK) + ((uint64_t*)0 - (typeof(((struct UPT1_RxStats *)0)-&gt;LROBytesRxOK)*)0)), }" data-ref="_M/VMSTATE_UINT64">VMSTATE_UINT64</a>(<a class="ref" href="vmxnet3.h.html#UPT1_RxStats::LROBytesRxOK" title='UPT1_RxStats::LROBytesRxOK' data-ref="UPT1_RxStats::LROBytesRxOK">LROBytesRxOK</a>, <b>struct</b> <a class="type" href="vmxnet3.h.html#UPT1_RxStats" title='UPT1_RxStats' data-ref="UPT1_RxStats">UPT1_RxStats</a>),</td></tr>
<tr><th id="2464">2464</th><td>        <a class="macro" href="../../include/migration/vmstate.h.html#775" title="{ .name = (&quot;ucastPktsRxOK&quot;), .version_id = (0), .field_exists = (((void*)0)), .size = sizeof(uint64_t), .info = &amp;(vmstate_info_uint64), .flags = VMS_SINGLE, .offset = (__builtin_offsetof(struct UPT1_RxStats, ucastPktsRxOK) + ((uint64_t*)0 - (typeof(((struct UPT1_RxStats *)0)-&gt;ucastPktsRxOK)*)0)), }" data-ref="_M/VMSTATE_UINT64">VMSTATE_UINT64</a>(<a class="ref" href="vmxnet3.h.html#UPT1_RxStats::ucastPktsRxOK" title='UPT1_RxStats::ucastPktsRxOK' data-ref="UPT1_RxStats::ucastPktsRxOK">ucastPktsRxOK</a>, <b>struct</b> <a class="type" href="vmxnet3.h.html#UPT1_RxStats" title='UPT1_RxStats' data-ref="UPT1_RxStats">UPT1_RxStats</a>),</td></tr>
<tr><th id="2465">2465</th><td>        <a class="macro" href="../../include/migration/vmstate.h.html#775" title="{ .name = (&quot;ucastBytesRxOK&quot;), .version_id = (0), .field_exists = (((void*)0)), .size = sizeof(uint64_t), .info = &amp;(vmstate_info_uint64), .flags = VMS_SINGLE, .offset = (__builtin_offsetof(struct UPT1_RxStats, ucastBytesRxOK) + ((uint64_t*)0 - (typeof(((struct UPT1_RxStats *)0)-&gt;ucastBytesRxOK)*)0)), }" data-ref="_M/VMSTATE_UINT64">VMSTATE_UINT64</a>(<a class="ref" href="vmxnet3.h.html#UPT1_RxStats::ucastBytesRxOK" title='UPT1_RxStats::ucastBytesRxOK' data-ref="UPT1_RxStats::ucastBytesRxOK">ucastBytesRxOK</a>, <b>struct</b> <a class="type" href="vmxnet3.h.html#UPT1_RxStats" title='UPT1_RxStats' data-ref="UPT1_RxStats">UPT1_RxStats</a>),</td></tr>
<tr><th id="2466">2466</th><td>        <a class="macro" href="../../include/migration/vmstate.h.html#775" title="{ .name = (&quot;mcastPktsRxOK&quot;), .version_id = (0), .field_exists = (((void*)0)), .size = sizeof(uint64_t), .info = &amp;(vmstate_info_uint64), .flags = VMS_SINGLE, .offset = (__builtin_offsetof(struct UPT1_RxStats, mcastPktsRxOK) + ((uint64_t*)0 - (typeof(((struct UPT1_RxStats *)0)-&gt;mcastPktsRxOK)*)0)), }" data-ref="_M/VMSTATE_UINT64">VMSTATE_UINT64</a>(<a class="ref" href="vmxnet3.h.html#UPT1_RxStats::mcastPktsRxOK" title='UPT1_RxStats::mcastPktsRxOK' data-ref="UPT1_RxStats::mcastPktsRxOK">mcastPktsRxOK</a>, <b>struct</b> <a class="type" href="vmxnet3.h.html#UPT1_RxStats" title='UPT1_RxStats' data-ref="UPT1_RxStats">UPT1_RxStats</a>),</td></tr>
<tr><th id="2467">2467</th><td>        <a class="macro" href="../../include/migration/vmstate.h.html#775" title="{ .name = (&quot;mcastBytesRxOK&quot;), .version_id = (0), .field_exists = (((void*)0)), .size = sizeof(uint64_t), .info = &amp;(vmstate_info_uint64), .flags = VMS_SINGLE, .offset = (__builtin_offsetof(struct UPT1_RxStats, mcastBytesRxOK) + ((uint64_t*)0 - (typeof(((struct UPT1_RxStats *)0)-&gt;mcastBytesRxOK)*)0)), }" data-ref="_M/VMSTATE_UINT64">VMSTATE_UINT64</a>(<a class="ref" href="vmxnet3.h.html#UPT1_RxStats::mcastBytesRxOK" title='UPT1_RxStats::mcastBytesRxOK' data-ref="UPT1_RxStats::mcastBytesRxOK">mcastBytesRxOK</a>, <b>struct</b> <a class="type" href="vmxnet3.h.html#UPT1_RxStats" title='UPT1_RxStats' data-ref="UPT1_RxStats">UPT1_RxStats</a>),</td></tr>
<tr><th id="2468">2468</th><td>        <a class="macro" href="../../include/migration/vmstate.h.html#775" title="{ .name = (&quot;bcastPktsRxOK&quot;), .version_id = (0), .field_exists = (((void*)0)), .size = sizeof(uint64_t), .info = &amp;(vmstate_info_uint64), .flags = VMS_SINGLE, .offset = (__builtin_offsetof(struct UPT1_RxStats, bcastPktsRxOK) + ((uint64_t*)0 - (typeof(((struct UPT1_RxStats *)0)-&gt;bcastPktsRxOK)*)0)), }" data-ref="_M/VMSTATE_UINT64">VMSTATE_UINT64</a>(<a class="ref" href="vmxnet3.h.html#UPT1_RxStats::bcastPktsRxOK" title='UPT1_RxStats::bcastPktsRxOK' data-ref="UPT1_RxStats::bcastPktsRxOK">bcastPktsRxOK</a>, <b>struct</b> <a class="type" href="vmxnet3.h.html#UPT1_RxStats" title='UPT1_RxStats' data-ref="UPT1_RxStats">UPT1_RxStats</a>),</td></tr>
<tr><th id="2469">2469</th><td>        <a class="macro" href="../../include/migration/vmstate.h.html#775" title="{ .name = (&quot;bcastBytesRxOK&quot;), .version_id = (0), .field_exists = (((void*)0)), .size = sizeof(uint64_t), .info = &amp;(vmstate_info_uint64), .flags = VMS_SINGLE, .offset = (__builtin_offsetof(struct UPT1_RxStats, bcastBytesRxOK) + ((uint64_t*)0 - (typeof(((struct UPT1_RxStats *)0)-&gt;bcastBytesRxOK)*)0)), }" data-ref="_M/VMSTATE_UINT64">VMSTATE_UINT64</a>(<a class="ref" href="vmxnet3.h.html#UPT1_RxStats::bcastBytesRxOK" title='UPT1_RxStats::bcastBytesRxOK' data-ref="UPT1_RxStats::bcastBytesRxOK">bcastBytesRxOK</a>, <b>struct</b> <a class="type" href="vmxnet3.h.html#UPT1_RxStats" title='UPT1_RxStats' data-ref="UPT1_RxStats">UPT1_RxStats</a>),</td></tr>
<tr><th id="2470">2470</th><td>        <a class="macro" href="../../include/migration/vmstate.h.html#775" title="{ .name = (&quot;pktsRxOutOfBuf&quot;), .version_id = (0), .field_exists = (((void*)0)), .size = sizeof(uint64_t), .info = &amp;(vmstate_info_uint64), .flags = VMS_SINGLE, .offset = (__builtin_offsetof(struct UPT1_RxStats, pktsRxOutOfBuf) + ((uint64_t*)0 - (typeof(((struct UPT1_RxStats *)0)-&gt;pktsRxOutOfBuf)*)0)), }" data-ref="_M/VMSTATE_UINT64">VMSTATE_UINT64</a>(<a class="ref" href="vmxnet3.h.html#UPT1_RxStats::pktsRxOutOfBuf" title='UPT1_RxStats::pktsRxOutOfBuf' data-ref="UPT1_RxStats::pktsRxOutOfBuf">pktsRxOutOfBuf</a>, <b>struct</b> <a class="type" href="vmxnet3.h.html#UPT1_RxStats" title='UPT1_RxStats' data-ref="UPT1_RxStats">UPT1_RxStats</a>),</td></tr>
<tr><th id="2471">2471</th><td>        <a class="macro" href="../../include/migration/vmstate.h.html#775" title="{ .name = (&quot;pktsRxError&quot;), .version_id = (0), .field_exists = (((void*)0)), .size = sizeof(uint64_t), .info = &amp;(vmstate_info_uint64), .flags = VMS_SINGLE, .offset = (__builtin_offsetof(struct UPT1_RxStats, pktsRxError) + ((uint64_t*)0 - (typeof(((struct UPT1_RxStats *)0)-&gt;pktsRxError)*)0)), }" data-ref="_M/VMSTATE_UINT64">VMSTATE_UINT64</a>(<a class="ref" href="vmxnet3.h.html#UPT1_RxStats::pktsRxError" title='UPT1_RxStats::pktsRxError' data-ref="UPT1_RxStats::pktsRxError">pktsRxError</a>, <b>struct</b> <a class="type" href="vmxnet3.h.html#UPT1_RxStats" title='UPT1_RxStats' data-ref="UPT1_RxStats">UPT1_RxStats</a>),</td></tr>
<tr><th id="2472">2472</th><td>        <a class="macro" href="../../include/migration/vmstate.h.html#992" title="{}" data-ref="_M/VMSTATE_END_OF_LIST">VMSTATE_END_OF_LIST</a>()</td></tr>
<tr><th id="2473">2473</th><td>    }</td></tr>
<tr><th id="2474">2474</th><td>};</td></tr>
<tr><th id="2475">2475</th><td></td></tr>
<tr><th id="2476">2476</th><td><em>static</em> <em>const</em> <a class="typedef" href="../../include/migration/vmstate.h.html#VMStateDescription" title='VMStateDescription' data-type='struct VMStateDescription' data-ref="VMStateDescription">VMStateDescription</a> <dfn class="tu decl def" id="vmstate_vmxnet3_rxq_descr" title='vmstate_vmxnet3_rxq_descr' data-type='const VMStateDescription' data-ref="vmstate_vmxnet3_rxq_descr">vmstate_vmxnet3_rxq_descr</dfn> = {</td></tr>
<tr><th id="2477">2477</th><td>    .<a class="ref" href="../../include/migration/vmstate.h.html#VMStateDescription::name" title='VMStateDescription::name' data-ref="VMStateDescription::name">name</a> = <q>"vmxnet3-rxq-descr"</q>,</td></tr>
<tr><th id="2478">2478</th><td>    .<a class="ref" href="../../include/migration/vmstate.h.html#VMStateDescription::version_id" title='VMStateDescription::version_id' data-ref="VMStateDescription::version_id">version_id</a> = <var>0</var>,</td></tr>
<tr><th id="2479">2479</th><td>    .<a class="ref" href="../../include/migration/vmstate.h.html#VMStateDescription::fields" title='VMStateDescription::fields' data-ref="VMStateDescription::fields">fields</a> = (<a class="typedef" href="../../include/migration/vmstate.h.html#VMStateField" title='VMStateField' data-type='struct VMStateField' data-ref="VMStateField">VMStateField</a>[]) {</td></tr>
<tr><th id="2480">2480</th><td>        <a class="macro" href="../../include/migration/vmstate.h.html#723" title="{ .name = (&quot;rx_ring&quot;), .num = ((2)), .field_exists = (((void*)0)), .version_id = (0), .vmsd = &amp;(vmstate_vmxnet3_ring), .size = sizeof(Vmxnet3Ring), .flags = VMS_STRUCT|VMS_ARRAY, .offset = (__builtin_offsetof(Vmxnet3RxqDescr, rx_ring) + ((Vmxnet3Ring(*)[(2)])0 - (typeof(((Vmxnet3RxqDescr *)0)-&gt;rx_ring)*)0)),}" data-ref="_M/VMSTATE_STRUCT_ARRAY">VMSTATE_STRUCT_ARRAY</a>(<a class="tu ref" href="#(anonymous)::rx_ring" title='(anonymous struct)::rx_ring' data-use='r' data-ref="(anonymous)::rx_ring">rx_ring</a>, <a class="typedef" href="#Vmxnet3RxqDescr" title='Vmxnet3RxqDescr' data-type='struct Vmxnet3RxqDescr' data-ref="Vmxnet3RxqDescr">Vmxnet3RxqDescr</a>,</td></tr>
<tr><th id="2481">2481</th><td>                             <a class="macro" href="#249" title="(2)" data-ref="_M/VMXNET3_RX_RINGS_PER_QUEUE">VMXNET3_RX_RINGS_PER_QUEUE</a>, <var>0</var>,</td></tr>
<tr><th id="2482">2482</th><td>                             <a class="tu ref" href="#vmstate_vmxnet3_ring" title='vmstate_vmxnet3_ring' data-use='a' data-ref="vmstate_vmxnet3_ring">vmstate_vmxnet3_ring</a>, <a class="typedef" href="#Vmxnet3Ring" title='Vmxnet3Ring' data-type='struct Vmxnet3Ring' data-ref="Vmxnet3Ring">Vmxnet3Ring</a>),</td></tr>
<tr><th id="2483">2483</th><td>        <a class="macro" href="../../include/migration/vmstate.h.html#714" title="{ .name = (&quot;comp_ring&quot;), .version_id = (0), .field_exists = (((void*)0)), .vmsd = &amp;(vmstate_vmxnet3_ring), .size = sizeof(Vmxnet3Ring), .flags = VMS_STRUCT, .offset = (__builtin_offsetof(Vmxnet3RxqDescr, comp_ring) + ((Vmxnet3Ring*)0 - (typeof(((Vmxnet3RxqDescr *)0)-&gt;comp_ring)*)0)), }" data-ref="_M/VMSTATE_STRUCT">VMSTATE_STRUCT</a>(<a class="tu ref" href="#(anonymous)::comp_ring" title='(anonymous struct)::comp_ring' data-use='r' data-ref="(anonymous)::comp_ring">comp_ring</a>, <a class="typedef" href="#Vmxnet3RxqDescr" title='Vmxnet3RxqDescr' data-type='struct Vmxnet3RxqDescr' data-ref="Vmxnet3RxqDescr">Vmxnet3RxqDescr</a>, <var>0</var>, <a class="tu ref" href="#vmstate_vmxnet3_ring" title='vmstate_vmxnet3_ring' data-use='a' data-ref="vmstate_vmxnet3_ring">vmstate_vmxnet3_ring</a>,</td></tr>
<tr><th id="2484">2484</th><td>                       <a class="typedef" href="#Vmxnet3Ring" title='Vmxnet3Ring' data-type='struct Vmxnet3Ring' data-ref="Vmxnet3Ring">Vmxnet3Ring</a>),</td></tr>
<tr><th id="2485">2485</th><td>        <a class="macro" href="../../include/migration/vmstate.h.html#769" title="{ .name = (&quot;intr_idx&quot;), .version_id = (0), .field_exists = (((void*)0)), .size = sizeof(uint8_t), .info = &amp;(vmstate_info_uint8), .flags = VMS_SINGLE, .offset = (__builtin_offsetof(Vmxnet3RxqDescr, intr_idx) + ((uint8_t*)0 - (typeof(((Vmxnet3RxqDescr *)0)-&gt;intr_idx)*)0)), }" data-ref="_M/VMSTATE_UINT8">VMSTATE_UINT8</a>(<a class="tu ref" href="#(anonymous)::intr_idx" title='(anonymous struct)::intr_idx' data-use='r' data-ref="(anonymous)::intr_idx">intr_idx</a>, <a class="typedef" href="#Vmxnet3RxqDescr" title='Vmxnet3RxqDescr' data-type='struct Vmxnet3RxqDescr' data-ref="Vmxnet3RxqDescr">Vmxnet3RxqDescr</a>),</td></tr>
<tr><th id="2486">2486</th><td>        <a class="macro" href="../../include/migration/vmstate.h.html#775" title="{ .name = (&quot;rx_stats_pa&quot;), .version_id = (0), .field_exists = (((void*)0)), .size = sizeof(uint64_t), .info = &amp;(vmstate_info_uint64), .flags = VMS_SINGLE, .offset = (__builtin_offsetof(Vmxnet3RxqDescr, rx_stats_pa) + ((uint64_t*)0 - (typeof(((Vmxnet3RxqDescr *)0)-&gt;rx_stats_pa)*)0)), }" data-ref="_M/VMSTATE_UINT64">VMSTATE_UINT64</a>(<a class="tu ref" href="#(anonymous)::rx_stats_pa" title='(anonymous struct)::rx_stats_pa' data-use='r' data-ref="(anonymous)::rx_stats_pa">rx_stats_pa</a>, <a class="typedef" href="#Vmxnet3RxqDescr" title='Vmxnet3RxqDescr' data-type='struct Vmxnet3RxqDescr' data-ref="Vmxnet3RxqDescr">Vmxnet3RxqDescr</a>),</td></tr>
<tr><th id="2487">2487</th><td>        <a class="macro" href="../../include/migration/vmstate.h.html#714" title="{ .name = (&quot;rxq_stats&quot;), .version_id = (0), .field_exists = (((void*)0)), .vmsd = &amp;(vmstate_vmxnet3_rx_stats), .size = sizeof(struct UPT1_RxStats), .flags = VMS_STRUCT, .offset = (__builtin_offsetof(Vmxnet3RxqDescr, rxq_stats) + ((struct UPT1_RxStats*)0 - (typeof(((Vmxnet3RxqDescr *)0)-&gt;rxq_stats)*)0)), }" data-ref="_M/VMSTATE_STRUCT">VMSTATE_STRUCT</a>(<a class="tu ref" href="#(anonymous)::rxq_stats" title='(anonymous struct)::rxq_stats' data-use='r' data-ref="(anonymous)::rxq_stats">rxq_stats</a>, <a class="typedef" href="#Vmxnet3RxqDescr" title='Vmxnet3RxqDescr' data-type='struct Vmxnet3RxqDescr' data-ref="Vmxnet3RxqDescr">Vmxnet3RxqDescr</a>, <var>0</var>, <a class="tu ref" href="#vmstate_vmxnet3_rx_stats" title='vmstate_vmxnet3_rx_stats' data-use='a' data-ref="vmstate_vmxnet3_rx_stats">vmstate_vmxnet3_rx_stats</a>,</td></tr>
<tr><th id="2488">2488</th><td>                       <b>struct</b> <a class="type" href="vmxnet3.h.html#UPT1_RxStats" title='UPT1_RxStats' data-ref="UPT1_RxStats">UPT1_RxStats</a>),</td></tr>
<tr><th id="2489">2489</th><td>        <a class="macro" href="../../include/migration/vmstate.h.html#992" title="{}" data-ref="_M/VMSTATE_END_OF_LIST">VMSTATE_END_OF_LIST</a>()</td></tr>
<tr><th id="2490">2490</th><td>    }</td></tr>
<tr><th id="2491">2491</th><td>};</td></tr>
<tr><th id="2492">2492</th><td></td></tr>
<tr><th id="2493">2493</th><td><em>static</em> <em>int</em> <dfn class="tu decl def" id="vmxnet3_post_load" title='vmxnet3_post_load' data-type='int vmxnet3_post_load(void * opaque, int version_id)' data-ref="vmxnet3_post_load">vmxnet3_post_load</dfn>(<em>void</em> *<dfn class="local col3 decl" id="393opaque" title='opaque' data-type='void *' data-ref="393opaque">opaque</dfn>, <em>int</em> <dfn class="local col4 decl" id="394version_id" title='version_id' data-type='int' data-ref="394version_id">version_id</dfn>)</td></tr>
<tr><th id="2494">2494</th><td>{</td></tr>
<tr><th id="2495">2495</th><td>    <a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a> *<dfn class="local col5 decl" id="395s" title='s' data-type='VMXNET3State *' data-ref="395s">s</dfn> = <a class="local col3 ref" href="#393opaque" title='opaque' data-ref="393opaque">opaque</a>;</td></tr>
<tr><th id="2496">2496</th><td>    <a class="typedef" href="../../include/qemu/typedefs.h.html#PCIDevice" title='PCIDevice' data-type='struct PCIDevice' data-ref="PCIDevice">PCIDevice</a> *<dfn class="local col6 decl" id="396d" title='d' data-type='PCIDevice *' data-ref="396d">d</dfn> = <a class="macro" href="../../include/hw/pci/pci.h.html#191" title="((PCIDevice *)object_dynamic_cast_assert(((Object *)((s))), (&quot;pci-device&quot;), &quot;/home/jon/workspace/qemu/hw/net/vmxnet3.c&quot;, 2496, __func__))" data-ref="_M/PCI_DEVICE">PCI_DEVICE</a>(<a class="local col5 ref" href="#395s" title='s' data-ref="395s">s</a>);</td></tr>
<tr><th id="2497">2497</th><td></td></tr>
<tr><th id="2498">2498</th><td>    <a class="ref" href="net_tx_pkt.h.html#net_tx_pkt_init" title='net_tx_pkt_init' data-ref="net_tx_pkt_init">net_tx_pkt_init</a>(&amp;<a class="local col5 ref" href="#395s" title='s' data-ref="395s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::tx_pkt" title='(anonymous struct)::tx_pkt' data-use='a' data-ref="(anonymous)::tx_pkt">tx_pkt</a>, <a class="macro" href="../../include/hw/pci/pci.h.html#191" title="((PCIDevice *)object_dynamic_cast_assert(((Object *)((s))), (&quot;pci-device&quot;), &quot;/home/jon/workspace/qemu/hw/net/vmxnet3.c&quot;, 2498, __func__))" data-ref="_M/PCI_DEVICE">PCI_DEVICE</a>(<a class="local col5 ref" href="#395s" title='s' data-ref="395s">s</a>),</td></tr>
<tr><th id="2499">2499</th><td>                    <a class="local col5 ref" href="#395s" title='s' data-ref="395s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::max_tx_frags" title='(anonymous struct)::max_tx_frags' data-use='r' data-ref="(anonymous)::max_tx_frags">max_tx_frags</a>, <a class="local col5 ref" href="#395s" title='s' data-ref="395s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::peer_has_vhdr" title='(anonymous struct)::peer_has_vhdr' data-use='r' data-ref="(anonymous)::peer_has_vhdr">peer_has_vhdr</a>);</td></tr>
<tr><th id="2500">2500</th><td>    <a class="ref" href="net_rx_pkt.h.html#net_rx_pkt_init" title='net_rx_pkt_init' data-ref="net_rx_pkt_init">net_rx_pkt_init</a>(&amp;<a class="local col5 ref" href="#395s" title='s' data-ref="395s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::rx_pkt" title='(anonymous struct)::rx_pkt' data-use='a' data-ref="(anonymous)::rx_pkt">rx_pkt</a>, <a class="local col5 ref" href="#395s" title='s' data-ref="395s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::peer_has_vhdr" title='(anonymous struct)::peer_has_vhdr' data-use='r' data-ref="(anonymous)::peer_has_vhdr">peer_has_vhdr</a>);</td></tr>
<tr><th id="2501">2501</th><td></td></tr>
<tr><th id="2502">2502</th><td>    <b>if</b> (<a class="local col5 ref" href="#395s" title='s' data-ref="395s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::msix_used" title='(anonymous struct)::msix_used' data-use='r' data-ref="(anonymous)::msix_used">msix_used</a>) {</td></tr>
<tr><th id="2503">2503</th><td>        <b>if</b>  (!<a class="tu ref" href="#vmxnet3_use_msix_vectors" title='vmxnet3_use_msix_vectors' data-use='c' data-ref="vmxnet3_use_msix_vectors">vmxnet3_use_msix_vectors</a>(<a class="local col5 ref" href="#395s" title='s' data-ref="395s">s</a>, <a class="macro" href="vmxnet3.h.html#584" title="25" data-ref="_M/VMXNET3_MAX_INTRS">VMXNET3_MAX_INTRS</a>)) {</td></tr>
<tr><th id="2504">2504</th><td>            <a class="macro" href="vmxnet_debug.h.html#105" title="do { if (1) { printf(&quot;[%s][WR][%s]: &quot; &quot;Failed to re-use MSI-X vectors&quot; &quot;\n&quot;, &quot;vmxnet3&quot;, __func__); } } while (0)" data-ref="_M/VMW_WRPRN">VMW_WRPRN</a>(<q>"Failed to re-use MSI-X vectors"</q>);</td></tr>
<tr><th id="2505">2505</th><td>            <a class="ref" href="../../include/hw/pci/msix.h.html#msix_uninit" title='msix_uninit' data-ref="msix_uninit">msix_uninit</a>(<a class="local col6 ref" href="#396d" title='d' data-ref="396d">d</a>, &amp;<a class="local col5 ref" href="#395s" title='s' data-ref="395s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::msix_bar" title='(anonymous struct)::msix_bar' data-use='a' data-ref="(anonymous)::msix_bar">msix_bar</a>, &amp;<a class="local col5 ref" href="#395s" title='s' data-ref="395s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::msix_bar" title='(anonymous struct)::msix_bar' data-use='a' data-ref="(anonymous)::msix_bar">msix_bar</a>);</td></tr>
<tr><th id="2506">2506</th><td>            <a class="local col5 ref" href="#395s" title='s' data-ref="395s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::msix_used" title='(anonymous struct)::msix_used' data-use='w' data-ref="(anonymous)::msix_used">msix_used</a> = <span class="macro" title="0" data-ref="_M/false">false</span>;</td></tr>
<tr><th id="2507">2507</th><td>            <b>return</b> -<var>1</var>;</td></tr>
<tr><th id="2508">2508</th><td>        }</td></tr>
<tr><th id="2509">2509</th><td>    }</td></tr>
<tr><th id="2510">2510</th><td></td></tr>
<tr><th id="2511">2511</th><td>    <a class="tu ref" href="#vmxnet3_validate_queues" title='vmxnet3_validate_queues' data-use='c' data-ref="vmxnet3_validate_queues">vmxnet3_validate_queues</a>(<a class="local col5 ref" href="#395s" title='s' data-ref="395s">s</a>);</td></tr>
<tr><th id="2512">2512</th><td>    <a class="tu ref" href="#vmxnet3_validate_interrupts" title='vmxnet3_validate_interrupts' data-use='c' data-ref="vmxnet3_validate_interrupts">vmxnet3_validate_interrupts</a>(<a class="local col5 ref" href="#395s" title='s' data-ref="395s">s</a>);</td></tr>
<tr><th id="2513">2513</th><td></td></tr>
<tr><th id="2514">2514</th><td>    <b>return</b> <var>0</var>;</td></tr>
<tr><th id="2515">2515</th><td>}</td></tr>
<tr><th id="2516">2516</th><td></td></tr>
<tr><th id="2517">2517</th><td><em>static</em> <em>const</em> <a class="typedef" href="../../include/migration/vmstate.h.html#VMStateDescription" title='VMStateDescription' data-type='struct VMStateDescription' data-ref="VMStateDescription">VMStateDescription</a> <dfn class="tu decl def" id="vmstate_vmxnet3_int_state" title='vmstate_vmxnet3_int_state' data-type='const VMStateDescription' data-ref="vmstate_vmxnet3_int_state">vmstate_vmxnet3_int_state</dfn> = {</td></tr>
<tr><th id="2518">2518</th><td>    .<a class="ref" href="../../include/migration/vmstate.h.html#VMStateDescription::name" title='VMStateDescription::name' data-ref="VMStateDescription::name">name</a> = <q>"vmxnet3-int-state"</q>,</td></tr>
<tr><th id="2519">2519</th><td>    .<a class="ref" href="../../include/migration/vmstate.h.html#VMStateDescription::version_id" title='VMStateDescription::version_id' data-ref="VMStateDescription::version_id">version_id</a> = <var>0</var>,</td></tr>
<tr><th id="2520">2520</th><td>    .<a class="ref" href="../../include/migration/vmstate.h.html#VMStateDescription::fields" title='VMStateDescription::fields' data-ref="VMStateDescription::fields">fields</a> = (<a class="typedef" href="../../include/migration/vmstate.h.html#VMStateField" title='VMStateField' data-type='struct VMStateField' data-ref="VMStateField">VMStateField</a>[]) {</td></tr>
<tr><th id="2521">2521</th><td>        <a class="macro" href="../../include/migration/vmstate.h.html#757" title="{ .name = (&quot;is_masked&quot;), .version_id = (0), .field_exists = (((void*)0)), .size = sizeof(_Bool), .info = &amp;(vmstate_info_bool), .flags = VMS_SINGLE, .offset = (__builtin_offsetof(Vmxnet3IntState, is_masked) + ((_Bool*)0 - (typeof(((Vmxnet3IntState *)0)-&gt;is_masked)*)0)), }" data-ref="_M/VMSTATE_BOOL">VMSTATE_BOOL</a>(<a class="tu ref" href="#(anonymous)::is_masked" title='(anonymous struct)::is_masked' data-use='r' data-ref="(anonymous)::is_masked">is_masked</a>, <a class="typedef" href="#Vmxnet3IntState" title='Vmxnet3IntState' data-type='struct Vmxnet3IntState' data-ref="Vmxnet3IntState">Vmxnet3IntState</a>),</td></tr>
<tr><th id="2522">2522</th><td>        <a class="macro" href="../../include/migration/vmstate.h.html#757" title="{ .name = (&quot;is_pending&quot;), .version_id = (0), .field_exists = (((void*)0)), .size = sizeof(_Bool), .info = &amp;(vmstate_info_bool), .flags = VMS_SINGLE, .offset = (__builtin_offsetof(Vmxnet3IntState, is_pending) + ((_Bool*)0 - (typeof(((Vmxnet3IntState *)0)-&gt;is_pending)*)0)), }" data-ref="_M/VMSTATE_BOOL">VMSTATE_BOOL</a>(<a class="tu ref" href="#(anonymous)::is_pending" title='(anonymous struct)::is_pending' data-use='r' data-ref="(anonymous)::is_pending">is_pending</a>, <a class="typedef" href="#Vmxnet3IntState" title='Vmxnet3IntState' data-type='struct Vmxnet3IntState' data-ref="Vmxnet3IntState">Vmxnet3IntState</a>),</td></tr>
<tr><th id="2523">2523</th><td>        <a class="macro" href="../../include/migration/vmstate.h.html#757" title="{ .name = (&quot;is_asserted&quot;), .version_id = (0), .field_exists = (((void*)0)), .size = sizeof(_Bool), .info = &amp;(vmstate_info_bool), .flags = VMS_SINGLE, .offset = (__builtin_offsetof(Vmxnet3IntState, is_asserted) + ((_Bool*)0 - (typeof(((Vmxnet3IntState *)0)-&gt;is_asserted)*)0)), }" data-ref="_M/VMSTATE_BOOL">VMSTATE_BOOL</a>(<a class="tu ref" href="#(anonymous)::is_asserted" title='(anonymous struct)::is_asserted' data-use='r' data-ref="(anonymous)::is_asserted">is_asserted</a>, <a class="typedef" href="#Vmxnet3IntState" title='Vmxnet3IntState' data-type='struct Vmxnet3IntState' data-ref="Vmxnet3IntState">Vmxnet3IntState</a>),</td></tr>
<tr><th id="2524">2524</th><td>        <a class="macro" href="../../include/migration/vmstate.h.html#992" title="{}" data-ref="_M/VMSTATE_END_OF_LIST">VMSTATE_END_OF_LIST</a>()</td></tr>
<tr><th id="2525">2525</th><td>    }</td></tr>
<tr><th id="2526">2526</th><td>};</td></tr>
<tr><th id="2527">2527</th><td></td></tr>
<tr><th id="2528">2528</th><td><em>static</em> <span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="tu decl def" id="vmxnet3_vmstate_need_pcie_device" title='vmxnet3_vmstate_need_pcie_device' data-type='_Bool vmxnet3_vmstate_need_pcie_device(void * opaque)' data-ref="vmxnet3_vmstate_need_pcie_device">vmxnet3_vmstate_need_pcie_device</dfn>(<em>void</em> *<dfn class="local col7 decl" id="397opaque" title='opaque' data-type='void *' data-ref="397opaque">opaque</dfn>)</td></tr>
<tr><th id="2529">2529</th><td>{</td></tr>
<tr><th id="2530">2530</th><td>    <a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a> *<dfn class="local col8 decl" id="398s" title='s' data-type='VMXNET3State *' data-ref="398s">s</dfn> = <a class="macro" href="#135" title="((VMXNET3State *)object_dynamic_cast_assert(((Object *)((opaque))), (&quot;vmxnet3&quot;), &quot;/home/jon/workspace/qemu/hw/net/vmxnet3.c&quot;, 2530, __func__))" data-ref="_M/VMXNET3">VMXNET3</a>(<a class="local col7 ref" href="#397opaque" title='opaque' data-ref="397opaque">opaque</a>);</td></tr>
<tr><th id="2531">2531</th><td></td></tr>
<tr><th id="2532">2532</th><td>    <b>return</b> !(<a class="local col8 ref" href="#398s" title='s' data-ref="398s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::compat_flags" title='(anonymous struct)::compat_flags' data-use='r' data-ref="(anonymous)::compat_flags">compat_flags</a> &amp; <a class="macro" href="#46" title="(1 &lt;&lt; 1)" data-ref="_M/VMXNET3_COMPAT_FLAG_DISABLE_PCIE">VMXNET3_COMPAT_FLAG_DISABLE_PCIE</a>);</td></tr>
<tr><th id="2533">2533</th><td>}</td></tr>
<tr><th id="2534">2534</th><td></td></tr>
<tr><th id="2535">2535</th><td><em>static</em> <span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="tu decl def" id="vmxnet3_vmstate_test_pci_device" title='vmxnet3_vmstate_test_pci_device' data-type='_Bool vmxnet3_vmstate_test_pci_device(void * opaque, int version_id)' data-ref="vmxnet3_vmstate_test_pci_device">vmxnet3_vmstate_test_pci_device</dfn>(<em>void</em> *<dfn class="local col9 decl" id="399opaque" title='opaque' data-type='void *' data-ref="399opaque">opaque</dfn>, <em>int</em> <dfn class="local col0 decl" id="400version_id" title='version_id' data-type='int' data-ref="400version_id">version_id</dfn>)</td></tr>
<tr><th id="2536">2536</th><td>{</td></tr>
<tr><th id="2537">2537</th><td>    <b>return</b> !<a class="tu ref" href="#vmxnet3_vmstate_need_pcie_device" title='vmxnet3_vmstate_need_pcie_device' data-use='c' data-ref="vmxnet3_vmstate_need_pcie_device">vmxnet3_vmstate_need_pcie_device</a>(<a class="local col9 ref" href="#399opaque" title='opaque' data-ref="399opaque">opaque</a>);</td></tr>
<tr><th id="2538">2538</th><td>}</td></tr>
<tr><th id="2539">2539</th><td></td></tr>
<tr><th id="2540">2540</th><td><em>static</em> <em>const</em> <a class="typedef" href="../../include/migration/vmstate.h.html#VMStateDescription" title='VMStateDescription' data-type='struct VMStateDescription' data-ref="VMStateDescription">VMStateDescription</a> <dfn class="tu decl def" id="vmstate_vmxnet3_pcie_device" title='vmstate_vmxnet3_pcie_device' data-type='const VMStateDescription' data-ref="vmstate_vmxnet3_pcie_device">vmstate_vmxnet3_pcie_device</dfn> = {</td></tr>
<tr><th id="2541">2541</th><td>    .<a class="ref" href="../../include/migration/vmstate.h.html#VMStateDescription::name" title='VMStateDescription::name' data-ref="VMStateDescription::name">name</a> = <q>"vmxnet3/pcie"</q>,</td></tr>
<tr><th id="2542">2542</th><td>    .<a class="ref" href="../../include/migration/vmstate.h.html#VMStateDescription::version_id" title='VMStateDescription::version_id' data-ref="VMStateDescription::version_id">version_id</a> = <var>1</var>,</td></tr>
<tr><th id="2543">2543</th><td>    .<a class="ref" href="../../include/migration/vmstate.h.html#VMStateDescription::minimum_version_id" title='VMStateDescription::minimum_version_id' data-ref="VMStateDescription::minimum_version_id">minimum_version_id</a> = <var>1</var>,</td></tr>
<tr><th id="2544">2544</th><td>    .<a class="ref" href="../../include/migration/vmstate.h.html#VMStateDescription::needed" title='VMStateDescription::needed' data-ref="VMStateDescription::needed">needed</a> = <a class="tu ref" href="#vmxnet3_vmstate_need_pcie_device" title='vmxnet3_vmstate_need_pcie_device' data-ref="vmxnet3_vmstate_need_pcie_device">vmxnet3_vmstate_need_pcie_device</a>,</td></tr>
<tr><th id="2545">2545</th><td>    .<a class="ref" href="../../include/migration/vmstate.h.html#VMStateDescription::fields" title='VMStateDescription::fields' data-ref="VMStateDescription::fields">fields</a> = (<a class="typedef" href="../../include/migration/vmstate.h.html#VMStateField" title='VMStateField' data-type='struct VMStateField' data-ref="VMStateField">VMStateField</a>[]) {</td></tr>
<tr><th id="2546">2546</th><td>        <a class="macro" href="../../include/hw/pci/pci.h.html#808" title="{ .name = (&quot;parent_obj&quot;), .size = sizeof(PCIDevice), .vmsd = &amp;vmstate_pci_device, .flags = VMS_STRUCT, .offset = (__builtin_offsetof(VMXNET3State, parent_obj) + ((PCIDevice*)0 - (typeof(((VMXNET3State *)0)-&gt;parent_obj)*)0)), }" data-ref="_M/VMSTATE_PCI_DEVICE">VMSTATE_PCI_DEVICE</a>(<a class="tu ref" href="#(anonymous)::parent_obj" title='(anonymous struct)::parent_obj' data-use='r' data-ref="(anonymous)::parent_obj">parent_obj</a>, <a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a>),</td></tr>
<tr><th id="2547">2547</th><td>        <a class="macro" href="../../include/migration/vmstate.h.html#992" title="{}" data-ref="_M/VMSTATE_END_OF_LIST">VMSTATE_END_OF_LIST</a>()</td></tr>
<tr><th id="2548">2548</th><td>    }</td></tr>
<tr><th id="2549">2549</th><td>};</td></tr>
<tr><th id="2550">2550</th><td></td></tr>
<tr><th id="2551">2551</th><td><em>static</em> <em>const</em> <a class="typedef" href="../../include/migration/vmstate.h.html#VMStateDescription" title='VMStateDescription' data-type='struct VMStateDescription' data-ref="VMStateDescription">VMStateDescription</a> <dfn class="tu decl def" id="vmstate_vmxnet3" title='vmstate_vmxnet3' data-type='const VMStateDescription' data-ref="vmstate_vmxnet3">vmstate_vmxnet3</dfn> = {</td></tr>
<tr><th id="2552">2552</th><td>    .<a class="ref" href="../../include/migration/vmstate.h.html#VMStateDescription::name" title='VMStateDescription::name' data-ref="VMStateDescription::name">name</a> = <q>"vmxnet3"</q>,</td></tr>
<tr><th id="2553">2553</th><td>    .<a class="ref" href="../../include/migration/vmstate.h.html#VMStateDescription::version_id" title='VMStateDescription::version_id' data-ref="VMStateDescription::version_id">version_id</a> = <var>1</var>,</td></tr>
<tr><th id="2554">2554</th><td>    .<a class="ref" href="../../include/migration/vmstate.h.html#VMStateDescription::minimum_version_id" title='VMStateDescription::minimum_version_id' data-ref="VMStateDescription::minimum_version_id">minimum_version_id</a> = <var>1</var>,</td></tr>
<tr><th id="2555">2555</th><td>    .<a class="ref" href="../../include/migration/vmstate.h.html#VMStateDescription::pre_save" title='VMStateDescription::pre_save' data-ref="VMStateDescription::pre_save">pre_save</a> = <a class="tu ref" href="#vmxnet3_pre_save" title='vmxnet3_pre_save' data-ref="vmxnet3_pre_save">vmxnet3_pre_save</a>,</td></tr>
<tr><th id="2556">2556</th><td>    .<a class="ref" href="../../include/migration/vmstate.h.html#VMStateDescription::post_load" title='VMStateDescription::post_load' data-ref="VMStateDescription::post_load">post_load</a> = <a class="tu ref" href="#vmxnet3_post_load" title='vmxnet3_post_load' data-ref="vmxnet3_post_load">vmxnet3_post_load</a>,</td></tr>
<tr><th id="2557">2557</th><td>    .<a class="ref" href="../../include/migration/vmstate.h.html#VMStateDescription::fields" title='VMStateDescription::fields' data-ref="VMStateDescription::fields">fields</a> = (<a class="typedef" href="../../include/migration/vmstate.h.html#VMStateField" title='VMStateField' data-type='struct VMStateField' data-ref="VMStateField">VMStateField</a>[]) {</td></tr>
<tr><th id="2558">2558</th><td>            <a class="macro" href="../../include/migration/vmstate.h.html#397" title="{ .name = (&quot;parent_obj&quot;), .version_id = (0), .field_exists = (vmxnet3_vmstate_test_pci_device), .vmsd = &amp;(vmstate_pci_device), .size = sizeof(PCIDevice), .flags = VMS_STRUCT, .offset = (__builtin_offsetof(VMXNET3State, parent_obj) + ((PCIDevice*)0 - (typeof(((VMXNET3State *)0)-&gt;parent_obj)*)0)), }" data-ref="_M/VMSTATE_STRUCT_TEST">VMSTATE_STRUCT_TEST</a>(<a class="tu ref" href="#(anonymous)::parent_obj" title='(anonymous struct)::parent_obj' data-use='r' data-ref="(anonymous)::parent_obj">parent_obj</a>, <a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a>,</td></tr>
<tr><th id="2559">2559</th><td>                                <a class="tu ref" href="#vmxnet3_vmstate_test_pci_device" title='vmxnet3_vmstate_test_pci_device' data-ref="vmxnet3_vmstate_test_pci_device">vmxnet3_vmstate_test_pci_device</a>, <var>0</var>,</td></tr>
<tr><th id="2560">2560</th><td>                                <a class="ref" href="../../include/hw/pci/pci.h.html#vmstate_pci_device" title='vmstate_pci_device' data-ref="vmstate_pci_device">vmstate_pci_device</a>, <a class="typedef" href="../../include/qemu/typedefs.h.html#PCIDevice" title='PCIDevice' data-type='struct PCIDevice' data-ref="PCIDevice">PCIDevice</a>),</td></tr>
<tr><th id="2561">2561</th><td>            <a class="macro" href="../../include/migration/vmstate.h.html#757" title="{ .name = (&quot;rx_packets_compound&quot;), .version_id = (0), .field_exists = (((void*)0)), .size = sizeof(_Bool), .info = &amp;(vmstate_info_bool), .flags = VMS_SINGLE, .offset = (__builtin_offsetof(VMXNET3State, rx_packets_compound) + ((_Bool*)0 - (typeof(((VMXNET3State *)0)-&gt;rx_packets_compound)*)0)), }" data-ref="_M/VMSTATE_BOOL">VMSTATE_BOOL</a>(<a class="tu ref" href="#(anonymous)::rx_packets_compound" title='(anonymous struct)::rx_packets_compound' data-use='r' data-ref="(anonymous)::rx_packets_compound">rx_packets_compound</a>, <a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a>),</td></tr>
<tr><th id="2562">2562</th><td>            <a class="macro" href="../../include/migration/vmstate.h.html#757" title="{ .name = (&quot;rx_vlan_stripping&quot;), .version_id = (0), .field_exists = (((void*)0)), .size = sizeof(_Bool), .info = &amp;(vmstate_info_bool), .flags = VMS_SINGLE, .offset = (__builtin_offsetof(VMXNET3State, rx_vlan_stripping) + ((_Bool*)0 - (typeof(((VMXNET3State *)0)-&gt;rx_vlan_stripping)*)0)), }" data-ref="_M/VMSTATE_BOOL">VMSTATE_BOOL</a>(<a class="tu ref" href="#(anonymous)::rx_vlan_stripping" title='(anonymous struct)::rx_vlan_stripping' data-use='r' data-ref="(anonymous)::rx_vlan_stripping">rx_vlan_stripping</a>, <a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a>),</td></tr>
<tr><th id="2563">2563</th><td>            <a class="macro" href="../../include/migration/vmstate.h.html#757" title="{ .name = (&quot;lro_supported&quot;), .version_id = (0), .field_exists = (((void*)0)), .size = sizeof(_Bool), .info = &amp;(vmstate_info_bool), .flags = VMS_SINGLE, .offset = (__builtin_offsetof(VMXNET3State, lro_supported) + ((_Bool*)0 - (typeof(((VMXNET3State *)0)-&gt;lro_supported)*)0)), }" data-ref="_M/VMSTATE_BOOL">VMSTATE_BOOL</a>(<a class="tu ref" href="#(anonymous)::lro_supported" title='(anonymous struct)::lro_supported' data-use='r' data-ref="(anonymous)::lro_supported">lro_supported</a>, <a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a>),</td></tr>
<tr><th id="2564">2564</th><td>            <a class="macro" href="../../include/migration/vmstate.h.html#773" title="{ .name = (&quot;rx_mode&quot;), .version_id = (0), .field_exists = (((void*)0)), .size = sizeof(uint32_t), .info = &amp;(vmstate_info_uint32), .flags = VMS_SINGLE, .offset = (__builtin_offsetof(VMXNET3State, rx_mode) + ((uint32_t*)0 - (typeof(((VMXNET3State *)0)-&gt;rx_mode)*)0)), }" data-ref="_M/VMSTATE_UINT32">VMSTATE_UINT32</a>(<a class="tu ref" href="#(anonymous)::rx_mode" title='(anonymous struct)::rx_mode' data-use='r' data-ref="(anonymous)::rx_mode">rx_mode</a>, <a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a>),</td></tr>
<tr><th id="2565">2565</th><td>            <a class="macro" href="../../include/migration/vmstate.h.html#773" title="{ .name = (&quot;mcast_list_len&quot;), .version_id = (0), .field_exists = (((void*)0)), .size = sizeof(uint32_t), .info = &amp;(vmstate_info_uint32), .flags = VMS_SINGLE, .offset = (__builtin_offsetof(VMXNET3State, mcast_list_len) + ((uint32_t*)0 - (typeof(((VMXNET3State *)0)-&gt;mcast_list_len)*)0)), }" data-ref="_M/VMSTATE_UINT32">VMSTATE_UINT32</a>(<a class="tu ref" href="#(anonymous)::mcast_list_len" title='(anonymous struct)::mcast_list_len' data-use='r' data-ref="(anonymous)::mcast_list_len">mcast_list_len</a>, <a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a>),</td></tr>
<tr><th id="2566">2566</th><td>            <a class="macro" href="../../include/migration/vmstate.h.html#773" title="{ .name = (&quot;mcast_list_buff_size&quot;), .version_id = (0), .field_exists = (((void*)0)), .size = sizeof(uint32_t), .info = &amp;(vmstate_info_uint32), .flags = VMS_SINGLE, .offset = (__builtin_offsetof(VMXNET3State, mcast_list_buff_size) + ((uint32_t*)0 - (typeof(((VMXNET3State *)0)-&gt;mcast_list_buff_size)*)0)), }" data-ref="_M/VMSTATE_UINT32">VMSTATE_UINT32</a>(<a class="tu ref" href="#(anonymous)::mcast_list_buff_size" title='(anonymous struct)::mcast_list_buff_size' data-use='r' data-ref="(anonymous)::mcast_list_buff_size">mcast_list_buff_size</a>, <a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a>),</td></tr>
<tr><th id="2567">2567</th><td>            <a class="macro" href="../../include/migration/vmstate.h.html#905" title="{ .name = (&quot;vlan_table&quot;), .version_id = (0), .num = ((4096/(sizeof(uint32_t)*8))), .info = &amp;(vmstate_info_uint32), .size = sizeof(uint32_t), .flags = VMS_ARRAY, .offset = (__builtin_offsetof(VMXNET3State, vlan_table) + ((uint32_t(*)[(4096/(sizeof(uint32_t)*8))])0 - (typeof(((VMXNET3State *)0)-&gt;vlan_table)*)0)), }" data-ref="_M/VMSTATE_UINT32_ARRAY">VMSTATE_UINT32_ARRAY</a>(<a class="tu ref" href="#(anonymous)::vlan_table" title='(anonymous struct)::vlan_table' data-use='r' data-ref="(anonymous)::vlan_table">vlan_table</a>, <a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a>, <a class="macro" href="vmxnet3.h.html#601" title="(4096/(sizeof(uint32_t)*8))" data-ref="_M/VMXNET3_VFT_SIZE">VMXNET3_VFT_SIZE</a>),</td></tr>
<tr><th id="2568">2568</th><td>            <a class="macro" href="../../include/migration/vmstate.h.html#773" title="{ .name = (&quot;mtu&quot;), .version_id = (0), .field_exists = (((void*)0)), .size = sizeof(uint32_t), .info = &amp;(vmstate_info_uint32), .flags = VMS_SINGLE, .offset = (__builtin_offsetof(VMXNET3State, mtu) + ((uint32_t*)0 - (typeof(((VMXNET3State *)0)-&gt;mtu)*)0)), }" data-ref="_M/VMSTATE_UINT32">VMSTATE_UINT32</a>(<a class="tu ref" href="#(anonymous)::mtu" title='(anonymous struct)::mtu' data-use='r' data-ref="(anonymous)::mtu">mtu</a>, <a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a>),</td></tr>
<tr><th id="2569">2569</th><td>            <a class="macro" href="../../include/migration/vmstate.h.html#771" title="{ .name = (&quot;max_rx_frags&quot;), .version_id = (0), .field_exists = (((void*)0)), .size = sizeof(uint16_t), .info = &amp;(vmstate_info_uint16), .flags = VMS_SINGLE, .offset = (__builtin_offsetof(VMXNET3State, max_rx_frags) + ((uint16_t*)0 - (typeof(((VMXNET3State *)0)-&gt;max_rx_frags)*)0)), }" data-ref="_M/VMSTATE_UINT16">VMSTATE_UINT16</a>(<a class="tu ref" href="#(anonymous)::max_rx_frags" title='(anonymous struct)::max_rx_frags' data-use='r' data-ref="(anonymous)::max_rx_frags">max_rx_frags</a>, <a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a>),</td></tr>
<tr><th id="2570">2570</th><td>            <a class="macro" href="../../include/migration/vmstate.h.html#773" title="{ .name = (&quot;max_tx_frags&quot;), .version_id = (0), .field_exists = (((void*)0)), .size = sizeof(uint32_t), .info = &amp;(vmstate_info_uint32), .flags = VMS_SINGLE, .offset = (__builtin_offsetof(VMXNET3State, max_tx_frags) + ((uint32_t*)0 - (typeof(((VMXNET3State *)0)-&gt;max_tx_frags)*)0)), }" data-ref="_M/VMSTATE_UINT32">VMSTATE_UINT32</a>(<a class="tu ref" href="#(anonymous)::max_tx_frags" title='(anonymous struct)::max_tx_frags' data-use='r' data-ref="(anonymous)::max_tx_frags">max_tx_frags</a>, <a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a>),</td></tr>
<tr><th id="2571">2571</th><td>            <a class="macro" href="../../include/migration/vmstate.h.html#769" title="{ .name = (&quot;event_int_idx&quot;), .version_id = (0), .field_exists = (((void*)0)), .size = sizeof(uint8_t), .info = &amp;(vmstate_info_uint8), .flags = VMS_SINGLE, .offset = (__builtin_offsetof(VMXNET3State, event_int_idx) + ((uint8_t*)0 - (typeof(((VMXNET3State *)0)-&gt;event_int_idx)*)0)), }" data-ref="_M/VMSTATE_UINT8">VMSTATE_UINT8</a>(<a class="tu ref" href="#(anonymous)::event_int_idx" title='(anonymous struct)::event_int_idx' data-use='r' data-ref="(anonymous)::event_int_idx">event_int_idx</a>, <a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a>),</td></tr>
<tr><th id="2572">2572</th><td>            <a class="macro" href="../../include/migration/vmstate.h.html#757" title="{ .name = (&quot;auto_int_masking&quot;), .version_id = (0), .field_exists = (((void*)0)), .size = sizeof(_Bool), .info = &amp;(vmstate_info_bool), .flags = VMS_SINGLE, .offset = (__builtin_offsetof(VMXNET3State, auto_int_masking) + ((_Bool*)0 - (typeof(((VMXNET3State *)0)-&gt;auto_int_masking)*)0)), }" data-ref="_M/VMSTATE_BOOL">VMSTATE_BOOL</a>(<a class="tu ref" href="#(anonymous)::auto_int_masking" title='(anonymous struct)::auto_int_masking' data-use='r' data-ref="(anonymous)::auto_int_masking">auto_int_masking</a>, <a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a>),</td></tr>
<tr><th id="2573">2573</th><td>            <a class="macro" href="../../include/migration/vmstate.h.html#769" title="{ .name = (&quot;txq_num&quot;), .version_id = (0), .field_exists = (((void*)0)), .size = sizeof(uint8_t), .info = &amp;(vmstate_info_uint8), .flags = VMS_SINGLE, .offset = (__builtin_offsetof(VMXNET3State, txq_num) + ((uint8_t*)0 - (typeof(((VMXNET3State *)0)-&gt;txq_num)*)0)), }" data-ref="_M/VMSTATE_UINT8">VMSTATE_UINT8</a>(<a class="tu ref" href="#(anonymous)::txq_num" title='(anonymous struct)::txq_num' data-use='r' data-ref="(anonymous)::txq_num">txq_num</a>, <a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a>),</td></tr>
<tr><th id="2574">2574</th><td>            <a class="macro" href="../../include/migration/vmstate.h.html#769" title="{ .name = (&quot;rxq_num&quot;), .version_id = (0), .field_exists = (((void*)0)), .size = sizeof(uint8_t), .info = &amp;(vmstate_info_uint8), .flags = VMS_SINGLE, .offset = (__builtin_offsetof(VMXNET3State, rxq_num) + ((uint8_t*)0 - (typeof(((VMXNET3State *)0)-&gt;rxq_num)*)0)), }" data-ref="_M/VMSTATE_UINT8">VMSTATE_UINT8</a>(<a class="tu ref" href="#(anonymous)::rxq_num" title='(anonymous struct)::rxq_num' data-use='r' data-ref="(anonymous)::rxq_num">rxq_num</a>, <a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a>),</td></tr>
<tr><th id="2575">2575</th><td>            <a class="macro" href="../../include/migration/vmstate.h.html#773" title="{ .name = (&quot;device_active&quot;), .version_id = (0), .field_exists = (((void*)0)), .size = sizeof(uint32_t), .info = &amp;(vmstate_info_uint32), .flags = VMS_SINGLE, .offset = (__builtin_offsetof(VMXNET3State, device_active) + ((uint32_t*)0 - (typeof(((VMXNET3State *)0)-&gt;device_active)*)0)), }" data-ref="_M/VMSTATE_UINT32">VMSTATE_UINT32</a>(<a class="tu ref" href="#(anonymous)::device_active" title='(anonymous struct)::device_active' data-use='r' data-ref="(anonymous)::device_active">device_active</a>, <a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a>),</td></tr>
<tr><th id="2576">2576</th><td>            <a class="macro" href="../../include/migration/vmstate.h.html#773" title="{ .name = (&quot;last_command&quot;), .version_id = (0), .field_exists = (((void*)0)), .size = sizeof(uint32_t), .info = &amp;(vmstate_info_uint32), .flags = VMS_SINGLE, .offset = (__builtin_offsetof(VMXNET3State, last_command) + ((uint32_t*)0 - (typeof(((VMXNET3State *)0)-&gt;last_command)*)0)), }" data-ref="_M/VMSTATE_UINT32">VMSTATE_UINT32</a>(<a class="tu ref" href="#(anonymous)::last_command" title='(anonymous struct)::last_command' data-use='r' data-ref="(anonymous)::last_command">last_command</a>, <a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a>),</td></tr>
<tr><th id="2577">2577</th><td>            <a class="macro" href="../../include/migration/vmstate.h.html#773" title="{ .name = (&quot;link_status_and_speed&quot;), .version_id = (0), .field_exists = (((void*)0)), .size = sizeof(uint32_t), .info = &amp;(vmstate_info_uint32), .flags = VMS_SINGLE, .offset = (__builtin_offsetof(VMXNET3State, link_status_and_speed) + ((uint32_t*)0 - (typeof(((VMXNET3State *)0)-&gt;link_status_and_speed)*)0)), }" data-ref="_M/VMSTATE_UINT32">VMSTATE_UINT32</a>(<a class="tu ref" href="#(anonymous)::link_status_and_speed" title='(anonymous struct)::link_status_and_speed' data-use='r' data-ref="(anonymous)::link_status_and_speed">link_status_and_speed</a>, <a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a>),</td></tr>
<tr><th id="2578">2578</th><td>            <a class="macro" href="../../include/migration/vmstate.h.html#773" title="{ .name = (&quot;temp_mac&quot;), .version_id = (0), .field_exists = (((void*)0)), .size = sizeof(uint32_t), .info = &amp;(vmstate_info_uint32), .flags = VMS_SINGLE, .offset = (__builtin_offsetof(VMXNET3State, temp_mac) + ((uint32_t*)0 - (typeof(((VMXNET3State *)0)-&gt;temp_mac)*)0)), }" data-ref="_M/VMSTATE_UINT32">VMSTATE_UINT32</a>(<a class="tu ref" href="#(anonymous)::temp_mac" title='(anonymous struct)::temp_mac' data-use='r' data-ref="(anonymous)::temp_mac">temp_mac</a>, <a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a>),</td></tr>
<tr><th id="2579">2579</th><td>            <a class="macro" href="../../include/migration/vmstate.h.html#775" title="{ .name = (&quot;drv_shmem&quot;), .version_id = (0), .field_exists = (((void*)0)), .size = sizeof(uint64_t), .info = &amp;(vmstate_info_uint64), .flags = VMS_SINGLE, .offset = (__builtin_offsetof(VMXNET3State, drv_shmem) + ((uint64_t*)0 - (typeof(((VMXNET3State *)0)-&gt;drv_shmem)*)0)), }" data-ref="_M/VMSTATE_UINT64">VMSTATE_UINT64</a>(<a class="tu ref" href="#(anonymous)::drv_shmem" title='(anonymous struct)::drv_shmem' data-use='r' data-ref="(anonymous)::drv_shmem">drv_shmem</a>, <a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a>),</td></tr>
<tr><th id="2580">2580</th><td>            <a class="macro" href="../../include/migration/vmstate.h.html#775" title="{ .name = (&quot;temp_shared_guest_driver_memory&quot;), .version_id = (0), .field_exists = (((void*)0)), .size = sizeof(uint64_t), .info = &amp;(vmstate_info_uint64), .flags = VMS_SINGLE, .offset = (__builtin_offsetof(VMXNET3State, temp_shared_guest_driver_memory) + ((uint64_t*)0 - (typeof(((VMXNET3State *)0)-&gt;temp_shared_guest_driver_memory)*)0)), }" data-ref="_M/VMSTATE_UINT64">VMSTATE_UINT64</a>(<a class="tu ref" href="#(anonymous)::temp_shared_guest_driver_memory" title='(anonymous struct)::temp_shared_guest_driver_memory' data-use='r' data-ref="(anonymous)::temp_shared_guest_driver_memory">temp_shared_guest_driver_memory</a>, <a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a>),</td></tr>
<tr><th id="2581">2581</th><td></td></tr>
<tr><th id="2582">2582</th><td>            <a class="macro" href="../../include/migration/vmstate.h.html#723" title="{ .name = (&quot;txq_descr&quot;), .num = (8), .field_exists = (((void*)0)), .version_id = (0), .vmsd = &amp;(vmstate_vmxnet3_txq_descr), .size = sizeof(Vmxnet3TxqDescr), .flags = VMS_STRUCT|VMS_ARRAY, .offset = (__builtin_offsetof(VMXNET3State, txq_descr) + ((Vmxnet3TxqDescr(*)[8])0 - (typeof(((VMXNET3State *)0)-&gt;txq_descr)*)0)),}" data-ref="_M/VMSTATE_STRUCT_ARRAY">VMSTATE_STRUCT_ARRAY</a>(<a class="tu ref" href="#(anonymous)::txq_descr" title='(anonymous struct)::txq_descr' data-use='r' data-ref="(anonymous)::txq_descr">txq_descr</a>, <a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a>,</td></tr>
<tr><th id="2583">2583</th><td>                <a class="macro" href="vmxnet3.h.html#21" title="8" data-ref="_M/VMXNET3_DEVICE_MAX_TX_QUEUES">VMXNET3_DEVICE_MAX_TX_QUEUES</a>, <var>0</var>, <a class="tu ref" href="#vmstate_vmxnet3_txq_descr" title='vmstate_vmxnet3_txq_descr' data-use='a' data-ref="vmstate_vmxnet3_txq_descr">vmstate_vmxnet3_txq_descr</a>,</td></tr>
<tr><th id="2584">2584</th><td>                <a class="typedef" href="#Vmxnet3TxqDescr" title='Vmxnet3TxqDescr' data-type='struct Vmxnet3TxqDescr' data-ref="Vmxnet3TxqDescr">Vmxnet3TxqDescr</a>),</td></tr>
<tr><th id="2585">2585</th><td>            <a class="macro" href="../../include/migration/vmstate.h.html#723" title="{ .name = (&quot;rxq_descr&quot;), .num = (8), .field_exists = (((void*)0)), .version_id = (0), .vmsd = &amp;(vmstate_vmxnet3_rxq_descr), .size = sizeof(Vmxnet3RxqDescr), .flags = VMS_STRUCT|VMS_ARRAY, .offset = (__builtin_offsetof(VMXNET3State, rxq_descr) + ((Vmxnet3RxqDescr(*)[8])0 - (typeof(((VMXNET3State *)0)-&gt;rxq_descr)*)0)),}" data-ref="_M/VMSTATE_STRUCT_ARRAY">VMSTATE_STRUCT_ARRAY</a>(<a class="tu ref" href="#(anonymous)::rxq_descr" title='(anonymous struct)::rxq_descr' data-use='r' data-ref="(anonymous)::rxq_descr">rxq_descr</a>, <a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a>,</td></tr>
<tr><th id="2586">2586</th><td>                <a class="macro" href="vmxnet3.h.html#22" title="8" data-ref="_M/VMXNET3_DEVICE_MAX_RX_QUEUES">VMXNET3_DEVICE_MAX_RX_QUEUES</a>, <var>0</var>, <a class="tu ref" href="#vmstate_vmxnet3_rxq_descr" title='vmstate_vmxnet3_rxq_descr' data-use='a' data-ref="vmstate_vmxnet3_rxq_descr">vmstate_vmxnet3_rxq_descr</a>,</td></tr>
<tr><th id="2587">2587</th><td>                <a class="typedef" href="#Vmxnet3RxqDescr" title='Vmxnet3RxqDescr' data-type='struct Vmxnet3RxqDescr' data-ref="Vmxnet3RxqDescr">Vmxnet3RxqDescr</a>),</td></tr>
<tr><th id="2588">2588</th><td>            <a class="macro" href="../../include/migration/vmstate.h.html#723" title="{ .name = (&quot;interrupt_states&quot;), .num = (25), .field_exists = (((void*)0)), .version_id = (0), .vmsd = &amp;(vmstate_vmxnet3_int_state), .size = sizeof(Vmxnet3IntState), .flags = VMS_STRUCT|VMS_ARRAY, .offset = (__builtin_offsetof(VMXNET3State, interrupt_states) + ((Vmxnet3IntState(*)[25])0 - (typeof(((VMXNET3State *)0)-&gt;interrupt_states)*)0)),}" data-ref="_M/VMSTATE_STRUCT_ARRAY">VMSTATE_STRUCT_ARRAY</a>(<a class="tu ref" href="#(anonymous)::interrupt_states" title='(anonymous struct)::interrupt_states' data-use='r' data-ref="(anonymous)::interrupt_states">interrupt_states</a>, <a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a>,</td></tr>
<tr><th id="2589">2589</th><td>                <a class="macro" href="vmxnet3.h.html#584" title="25" data-ref="_M/VMXNET3_MAX_INTRS">VMXNET3_MAX_INTRS</a>, <var>0</var>, <a class="tu ref" href="#vmstate_vmxnet3_int_state" title='vmstate_vmxnet3_int_state' data-use='a' data-ref="vmstate_vmxnet3_int_state">vmstate_vmxnet3_int_state</a>,</td></tr>
<tr><th id="2590">2590</th><td>                <a class="typedef" href="#Vmxnet3IntState" title='Vmxnet3IntState' data-type='struct Vmxnet3IntState' data-ref="Vmxnet3IntState">Vmxnet3IntState</a>),</td></tr>
<tr><th id="2591">2591</th><td></td></tr>
<tr><th id="2592">2592</th><td>            <a class="macro" href="../../include/migration/vmstate.h.html#992" title="{}" data-ref="_M/VMSTATE_END_OF_LIST">VMSTATE_END_OF_LIST</a>()</td></tr>
<tr><th id="2593">2593</th><td>    },</td></tr>
<tr><th id="2594">2594</th><td>    .<a class="ref" href="../../include/migration/vmstate.h.html#VMStateDescription::subsections" title='VMStateDescription::subsections' data-ref="VMStateDescription::subsections">subsections</a> = (<em>const</em> <a class="typedef" href="../../include/migration/vmstate.h.html#VMStateDescription" title='VMStateDescription' data-type='struct VMStateDescription' data-ref="VMStateDescription">VMStateDescription</a>*[]) {</td></tr>
<tr><th id="2595">2595</th><td>        &amp;<a class="tu ref" href="#vmxstate_vmxnet3_mcast_list" title='vmxstate_vmxnet3_mcast_list' data-use='a' data-ref="vmxstate_vmxnet3_mcast_list">vmxstate_vmxnet3_mcast_list</a>,</td></tr>
<tr><th id="2596">2596</th><td>        &amp;<a class="tu ref" href="#vmstate_vmxnet3_pcie_device" title='vmstate_vmxnet3_pcie_device' data-use='a' data-ref="vmstate_vmxnet3_pcie_device">vmstate_vmxnet3_pcie_device</a>,</td></tr>
<tr><th id="2597">2597</th><td>        <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span></td></tr>
<tr><th id="2598">2598</th><td>    }</td></tr>
<tr><th id="2599">2599</th><td>};</td></tr>
<tr><th id="2600">2600</th><td></td></tr>
<tr><th id="2601">2601</th><td><em>static</em> <a class="typedef" href="../../include/qemu/typedefs.h.html#Property" title='Property' data-type='struct Property' data-ref="Property">Property</a> <dfn class="tu decl def" id="vmxnet3_properties" title='vmxnet3_properties' data-type='Property [6]' data-ref="vmxnet3_properties">vmxnet3_properties</dfn>[] = {</td></tr>
<tr><th id="2602">2602</th><td>    <a class="macro" href="../../include/net/net.h.html#41" title="{ .name = (&quot;mac&quot;), .info = &amp;(qdev_prop_macaddr), .offset = __builtin_offsetof(VMXNET3State, conf.macaddr) + ((MACAddr*)0 - (typeof(((VMXNET3State *)0)-&gt;conf.macaddr)*)0), }, { .name = (&quot;vlan&quot;), .info = &amp;(qdev_prop_vlan), .offset = __builtin_offsetof(VMXNET3State, conf.peers) + ((NICPeers*)0 - (typeof(((VMXNET3State *)0)-&gt;conf.peers)*)0), }, { .name = (&quot;netdev&quot;), .info = &amp;(qdev_prop_netdev), .offset = __builtin_offsetof(VMXNET3State, conf.peers) + ((NICPeers*)0 - (typeof(((VMXNET3State *)0)-&gt;conf.peers)*)0), }" data-ref="_M/DEFINE_NIC_PROPERTIES">DEFINE_NIC_PROPERTIES</a>(<a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a>, <a class="tu ref" href="#(anonymous)::conf" title='(anonymous struct)::conf' data-use='m' data-ref="(anonymous)::conf">conf</a>),</td></tr>
<tr><th id="2603">2603</th><td>    <a class="macro" href="../../include/hw/qdev-properties.h.html#59" title="{ .name = (&quot;x-old-msi-offsets&quot;), .info = &amp;(qdev_prop_bit), .bitnr = (0), .offset = __builtin_offsetof(VMXNET3State, compat_flags) + ((uint32_t*)0 - (typeof(((VMXNET3State *)0)-&gt;compat_flags)*)0), .set_default = 1, .defval.u = (_Bool)0, }" data-ref="_M/DEFINE_PROP_BIT">DEFINE_PROP_BIT</a>(<q>"x-old-msi-offsets"</q>, <a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a>, <a class="tu ref" href="#(anonymous)::compat_flags" title='(anonymous struct)::compat_flags' data-use='r' data-ref="(anonymous)::compat_flags">compat_flags</a>,</td></tr>
<tr><th id="2604">2604</th><td>                    <a class="macro" href="#42" title="0" data-ref="_M/VMXNET3_COMPAT_FLAG_OLD_MSI_OFFSETS_BIT">VMXNET3_COMPAT_FLAG_OLD_MSI_OFFSETS_BIT</a>, <span class="macro" title="0" data-ref="_M/false">false</span>),</td></tr>
<tr><th id="2605">2605</th><td>    <a class="macro" href="../../include/hw/qdev-properties.h.html#59" title="{ .name = (&quot;x-disable-pcie&quot;), .info = &amp;(qdev_prop_bit), .bitnr = (1), .offset = __builtin_offsetof(VMXNET3State, compat_flags) + ((uint32_t*)0 - (typeof(((VMXNET3State *)0)-&gt;compat_flags)*)0), .set_default = 1, .defval.u = (_Bool)0, }" data-ref="_M/DEFINE_PROP_BIT">DEFINE_PROP_BIT</a>(<q>"x-disable-pcie"</q>, <a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a>, <a class="tu ref" href="#(anonymous)::compat_flags" title='(anonymous struct)::compat_flags' data-use='r' data-ref="(anonymous)::compat_flags">compat_flags</a>,</td></tr>
<tr><th id="2606">2606</th><td>                    <a class="macro" href="#45" title="1" data-ref="_M/VMXNET3_COMPAT_FLAG_DISABLE_PCIE_BIT">VMXNET3_COMPAT_FLAG_DISABLE_PCIE_BIT</a>, <span class="macro" title="0" data-ref="_M/false">false</span>),</td></tr>
<tr><th id="2607">2607</th><td>    <a class="macro" href="../../include/hw/qdev-properties.h.html#216" title="{}" data-ref="_M/DEFINE_PROP_END_OF_LIST">DEFINE_PROP_END_OF_LIST</a>(),</td></tr>
<tr><th id="2608">2608</th><td>};</td></tr>
<tr><th id="2609">2609</th><td></td></tr>
<tr><th id="2610">2610</th><td><em>static</em> <em>void</em> <dfn class="tu decl def" id="vmxnet3_realize" title='vmxnet3_realize' data-type='void vmxnet3_realize(DeviceState * qdev, Error ** errp)' data-ref="vmxnet3_realize">vmxnet3_realize</dfn>(<a class="typedef" href="../../include/qemu/typedefs.h.html#DeviceState" title='DeviceState' data-type='struct DeviceState' data-ref="DeviceState">DeviceState</a> *<dfn class="local col1 decl" id="401qdev" title='qdev' data-type='DeviceState *' data-ref="401qdev">qdev</dfn>, <a class="typedef" href="../../include/qemu/typedefs.h.html#Error" title='Error' data-type='struct Error' data-ref="Error">Error</a> **<dfn class="local col2 decl" id="402errp" title='errp' data-type='Error **' data-ref="402errp">errp</dfn>)</td></tr>
<tr><th id="2611">2611</th><td>{</td></tr>
<tr><th id="2612">2612</th><td>    <a class="typedef" href="#VMXNET3Class" title='VMXNET3Class' data-type='struct VMXNET3Class' data-ref="VMXNET3Class">VMXNET3Class</a> *<dfn class="local col3 decl" id="403vc" title='vc' data-type='VMXNET3Class *' data-ref="403vc">vc</dfn> = <a class="macro" href="#139" title="((VMXNET3Class *)object_class_dynamic_cast_assert(((ObjectClass *)(object_get_class(((Object *)((qdev)))))), (&quot;vmxnet3&quot;), &quot;/home/jon/workspace/qemu/hw/net/vmxnet3.c&quot;, 2612, __func__))" data-ref="_M/VMXNET3_DEVICE_GET_CLASS">VMXNET3_DEVICE_GET_CLASS</a>(<a class="local col1 ref" href="#401qdev" title='qdev' data-ref="401qdev">qdev</a>);</td></tr>
<tr><th id="2613">2613</th><td>    <a class="typedef" href="../../include/qemu/typedefs.h.html#PCIDevice" title='PCIDevice' data-type='struct PCIDevice' data-ref="PCIDevice">PCIDevice</a> *<dfn class="local col4 decl" id="404pci_dev" title='pci_dev' data-type='PCIDevice *' data-ref="404pci_dev">pci_dev</dfn> = <a class="macro" href="../../include/hw/pci/pci.h.html#191" title="((PCIDevice *)object_dynamic_cast_assert(((Object *)((qdev))), (&quot;pci-device&quot;), &quot;/home/jon/workspace/qemu/hw/net/vmxnet3.c&quot;, 2613, __func__))" data-ref="_M/PCI_DEVICE">PCI_DEVICE</a>(<a class="local col1 ref" href="#401qdev" title='qdev' data-ref="401qdev">qdev</a>);</td></tr>
<tr><th id="2614">2614</th><td>    <a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a> *<dfn class="local col5 decl" id="405s" title='s' data-type='VMXNET3State *' data-ref="405s">s</dfn> = <a class="macro" href="#135" title="((VMXNET3State *)object_dynamic_cast_assert(((Object *)((qdev))), (&quot;vmxnet3&quot;), &quot;/home/jon/workspace/qemu/hw/net/vmxnet3.c&quot;, 2614, __func__))" data-ref="_M/VMXNET3">VMXNET3</a>(<a class="local col1 ref" href="#401qdev" title='qdev' data-ref="401qdev">qdev</a>);</td></tr>
<tr><th id="2615">2615</th><td></td></tr>
<tr><th id="2616">2616</th><td>    <b>if</b> (!(<a class="local col5 ref" href="#405s" title='s' data-ref="405s">s</a>-&gt;<a class="tu ref" href="#(anonymous)::compat_flags" title='(anonymous struct)::compat_flags' data-use='r' data-ref="(anonymous)::compat_flags">compat_flags</a> &amp; <a class="macro" href="#46" title="(1 &lt;&lt; 1)" data-ref="_M/VMXNET3_COMPAT_FLAG_DISABLE_PCIE">VMXNET3_COMPAT_FLAG_DISABLE_PCIE</a>)) {</td></tr>
<tr><th id="2617">2617</th><td>        <a class="local col4 ref" href="#404pci_dev" title='pci_dev' data-ref="404pci_dev">pci_dev</a>-&gt;<a class="ref" href="../../include/hw/pci/pci.h.html#PCIDevice::cap_present" title='PCIDevice::cap_present' data-ref="PCIDevice::cap_present">cap_present</a> |= <a class="enum" href="../../include/hw/pci/pci.h.html#QEMU_PCI_CAP_EXPRESS" title='QEMU_PCI_CAP_EXPRESS' data-ref="QEMU_PCI_CAP_EXPRESS">QEMU_PCI_CAP_EXPRESS</a>;</td></tr>
<tr><th id="2618">2618</th><td>    }</td></tr>
<tr><th id="2619">2619</th><td></td></tr>
<tr><th id="2620">2620</th><td>    <a class="local col3 ref" href="#403vc" title='vc' data-ref="403vc">vc</a>-&gt;<a class="tu ref" href="#VMXNET3Class::parent_dc_realize" title='VMXNET3Class::parent_dc_realize' data-use='r' data-ref="VMXNET3Class::parent_dc_realize">parent_dc_realize</a>(<a class="local col1 ref" href="#401qdev" title='qdev' data-ref="401qdev">qdev</a>, <a class="local col2 ref" href="#402errp" title='errp' data-ref="402errp">errp</a>);</td></tr>
<tr><th id="2621">2621</th><td>}</td></tr>
<tr><th id="2622">2622</th><td></td></tr>
<tr><th id="2623">2623</th><td><em>static</em> <em>void</em> <dfn class="tu decl def" id="vmxnet3_class_init" title='vmxnet3_class_init' data-type='void vmxnet3_class_init(ObjectClass * class, void * data)' data-ref="vmxnet3_class_init">vmxnet3_class_init</dfn>(<a class="typedef" href="../../include/qom/object.h.html#ObjectClass" title='ObjectClass' data-type='struct ObjectClass' data-ref="ObjectClass">ObjectClass</a> *<dfn class="local col6 decl" id="406class" title='class' data-type='ObjectClass *' data-ref="406class">class</dfn>, <em>void</em> *<dfn class="local col7 decl" id="407data" title='data' data-type='void *' data-ref="407data">data</dfn>)</td></tr>
<tr><th id="2624">2624</th><td>{</td></tr>
<tr><th id="2625">2625</th><td>    <a class="typedef" href="../../include/hw/qdev-core.h.html#DeviceClass" title='DeviceClass' data-type='struct DeviceClass' data-ref="DeviceClass">DeviceClass</a> *<dfn class="local col8 decl" id="408dc" title='dc' data-type='DeviceClass *' data-ref="408dc">dc</dfn> = <a class="macro" href="../../include/hw/qdev-core.h.html#17" title="((DeviceClass *)object_class_dynamic_cast_assert(((ObjectClass *)((class))), (&quot;device&quot;), &quot;/home/jon/workspace/qemu/hw/net/vmxnet3.c&quot;, 2625, __func__))" data-ref="_M/DEVICE_CLASS">DEVICE_CLASS</a>(<a class="local col6 ref" href="#406class" title='class' data-ref="406class">class</a>);</td></tr>
<tr><th id="2626">2626</th><td>    <a class="typedef" href="../../include/hw/pci/pci.h.html#PCIDeviceClass" title='PCIDeviceClass' data-type='struct PCIDeviceClass' data-ref="PCIDeviceClass">PCIDeviceClass</a> *<dfn class="local col9 decl" id="409c" title='c' data-type='PCIDeviceClass *' data-ref="409c">c</dfn> = <a class="macro" href="../../include/hw/pci/pci.h.html#193" title="((PCIDeviceClass *)object_class_dynamic_cast_assert(((ObjectClass *)((class))), (&quot;pci-device&quot;), &quot;/home/jon/workspace/qemu/hw/net/vmxnet3.c&quot;, 2626, __func__))" data-ref="_M/PCI_DEVICE_CLASS">PCI_DEVICE_CLASS</a>(<a class="local col6 ref" href="#406class" title='class' data-ref="406class">class</a>);</td></tr>
<tr><th id="2627">2627</th><td>    <a class="typedef" href="#VMXNET3Class" title='VMXNET3Class' data-type='struct VMXNET3Class' data-ref="VMXNET3Class">VMXNET3Class</a> *<dfn class="local col0 decl" id="410vc" title='vc' data-type='VMXNET3Class *' data-ref="410vc">vc</dfn> = <a class="macro" href="#137" title="((VMXNET3Class *)object_class_dynamic_cast_assert(((ObjectClass *)((class))), (&quot;vmxnet3&quot;), &quot;/home/jon/workspace/qemu/hw/net/vmxnet3.c&quot;, 2627, __func__))" data-ref="_M/VMXNET3_DEVICE_CLASS">VMXNET3_DEVICE_CLASS</a>(<a class="local col6 ref" href="#406class" title='class' data-ref="406class">class</a>);</td></tr>
<tr><th id="2628">2628</th><td></td></tr>
<tr><th id="2629">2629</th><td>    <a class="local col9 ref" href="#409c" title='c' data-ref="409c">c</a>-&gt;<a class="ref" href="../../include/hw/pci/pci.h.html#PCIDeviceClass::realize" title='PCIDeviceClass::realize' data-ref="PCIDeviceClass::realize">realize</a> = <a class="tu ref" href="#vmxnet3_pci_realize" title='vmxnet3_pci_realize' data-use='r' data-ref="vmxnet3_pci_realize">vmxnet3_pci_realize</a>;</td></tr>
<tr><th id="2630">2630</th><td>    <a class="local col9 ref" href="#409c" title='c' data-ref="409c">c</a>-&gt;<a class="ref" href="../../include/hw/pci/pci.h.html#PCIDeviceClass::exit" title='PCIDeviceClass::exit' data-ref="PCIDeviceClass::exit">exit</a> = <a class="tu ref" href="#vmxnet3_pci_uninit" title='vmxnet3_pci_uninit' data-use='r' data-ref="vmxnet3_pci_uninit">vmxnet3_pci_uninit</a>;</td></tr>
<tr><th id="2631">2631</th><td>    <a class="local col9 ref" href="#409c" title='c' data-ref="409c">c</a>-&gt;<a class="ref" href="../../include/hw/pci/pci.h.html#PCIDeviceClass::vendor_id" title='PCIDeviceClass::vendor_id' data-ref="PCIDeviceClass::vendor_id">vendor_id</a> = <a class="macro" href="../../include/hw/pci/pci.h.html#59" title="0x15ad" data-ref="_M/PCI_VENDOR_ID_VMWARE">PCI_VENDOR_ID_VMWARE</a>;</td></tr>
<tr><th id="2632">2632</th><td>    <a class="local col9 ref" href="#409c" title='c' data-ref="409c">c</a>-&gt;<a class="ref" href="../../include/hw/pci/pci.h.html#PCIDeviceClass::device_id" title='PCIDeviceClass::device_id' data-ref="PCIDeviceClass::device_id">device_id</a> = <a class="macro" href="../../include/hw/pci/pci.h.html#66" title="0x07B0" data-ref="_M/PCI_DEVICE_ID_VMWARE_VMXNET3">PCI_DEVICE_ID_VMWARE_VMXNET3</a>;</td></tr>
<tr><th id="2633">2633</th><td>    <a class="local col9 ref" href="#409c" title='c' data-ref="409c">c</a>-&gt;<a class="ref" href="../../include/hw/pci/pci.h.html#PCIDeviceClass::revision" title='PCIDeviceClass::revision' data-ref="PCIDeviceClass::revision">revision</a> = <a class="macro" href="#37" title="0x1" data-ref="_M/PCI_DEVICE_ID_VMWARE_VMXNET3_REVISION">PCI_DEVICE_ID_VMWARE_VMXNET3_REVISION</a>;</td></tr>
<tr><th id="2634">2634</th><td>    <a class="local col9 ref" href="#409c" title='c' data-ref="409c">c</a>-&gt;<a class="ref" href="../../include/hw/pci/pci.h.html#PCIDeviceClass::romfile" title='PCIDeviceClass::romfile' data-ref="PCIDeviceClass::romfile">romfile</a> = <q>"efi-vmxnet3.rom"</q>;</td></tr>
<tr><th id="2635">2635</th><td>    <a class="local col9 ref" href="#409c" title='c' data-ref="409c">c</a>-&gt;<a class="ref" href="../../include/hw/pci/pci.h.html#PCIDeviceClass::class_id" title='PCIDeviceClass::class_id' data-ref="PCIDeviceClass::class_id">class_id</a> = <a class="macro" href="../../include/hw/pci/pci_ids.h.html#32" title="0x0200" data-ref="_M/PCI_CLASS_NETWORK_ETHERNET">PCI_CLASS_NETWORK_ETHERNET</a>;</td></tr>
<tr><th id="2636">2636</th><td>    <a class="local col9 ref" href="#409c" title='c' data-ref="409c">c</a>-&gt;<a class="ref" href="../../include/hw/pci/pci.h.html#PCIDeviceClass::subsystem_vendor_id" title='PCIDeviceClass::subsystem_vendor_id' data-ref="PCIDeviceClass::subsystem_vendor_id">subsystem_vendor_id</a> = <a class="macro" href="../../include/hw/pci/pci.h.html#59" title="0x15ad" data-ref="_M/PCI_VENDOR_ID_VMWARE">PCI_VENDOR_ID_VMWARE</a>;</td></tr>
<tr><th id="2637">2637</th><td>    <a class="local col9 ref" href="#409c" title='c' data-ref="409c">c</a>-&gt;<a class="ref" href="../../include/hw/pci/pci.h.html#PCIDeviceClass::subsystem_id" title='PCIDeviceClass::subsystem_id' data-ref="PCIDeviceClass::subsystem_id">subsystem_id</a> = <a class="macro" href="../../include/hw/pci/pci.h.html#66" title="0x07B0" data-ref="_M/PCI_DEVICE_ID_VMWARE_VMXNET3">PCI_DEVICE_ID_VMWARE_VMXNET3</a>;</td></tr>
<tr><th id="2638">2638</th><td>    <a class="local col0 ref" href="#410vc" title='vc' data-ref="410vc">vc</a>-&gt;<a class="tu ref" href="#VMXNET3Class::parent_dc_realize" title='VMXNET3Class::parent_dc_realize' data-use='w' data-ref="VMXNET3Class::parent_dc_realize">parent_dc_realize</a> = <a class="local col8 ref" href="#408dc" title='dc' data-ref="408dc">dc</a>-&gt;<a class="ref" href="../../include/hw/qdev-core.h.html#DeviceClass::realize" title='DeviceClass::realize' data-ref="DeviceClass::realize">realize</a>;</td></tr>
<tr><th id="2639">2639</th><td>    <a class="local col8 ref" href="#408dc" title='dc' data-ref="408dc">dc</a>-&gt;<a class="ref" href="../../include/hw/qdev-core.h.html#DeviceClass::realize" title='DeviceClass::realize' data-ref="DeviceClass::realize">realize</a> = <a class="tu ref" href="#vmxnet3_realize" title='vmxnet3_realize' data-use='r' data-ref="vmxnet3_realize">vmxnet3_realize</a>;</td></tr>
<tr><th id="2640">2640</th><td>    <a class="local col8 ref" href="#408dc" title='dc' data-ref="408dc">dc</a>-&gt;<a class="ref" href="../../include/hw/qdev-core.h.html#DeviceClass::desc" title='DeviceClass::desc' data-ref="DeviceClass::desc">desc</a> = <q>"VMWare Paravirtualized Ethernet v3"</q>;</td></tr>
<tr><th id="2641">2641</th><td>    <a class="local col8 ref" href="#408dc" title='dc' data-ref="408dc">dc</a>-&gt;<a class="ref" href="../../include/hw/qdev-core.h.html#DeviceClass::reset" title='DeviceClass::reset' data-ref="DeviceClass::reset">reset</a> = <a class="tu ref" href="#vmxnet3_qdev_reset" title='vmxnet3_qdev_reset' data-use='r' data-ref="vmxnet3_qdev_reset">vmxnet3_qdev_reset</a>;</td></tr>
<tr><th id="2642">2642</th><td>    <a class="local col8 ref" href="#408dc" title='dc' data-ref="408dc">dc</a>-&gt;<a class="ref" href="../../include/hw/qdev-core.h.html#DeviceClass::vmsd" title='DeviceClass::vmsd' data-ref="DeviceClass::vmsd">vmsd</a> = &amp;<a class="tu ref" href="#vmstate_vmxnet3" title='vmstate_vmxnet3' data-use='a' data-ref="vmstate_vmxnet3">vmstate_vmxnet3</a>;</td></tr>
<tr><th id="2643">2643</th><td>    <a class="local col8 ref" href="#408dc" title='dc' data-ref="408dc">dc</a>-&gt;<a class="ref" href="../../include/hw/qdev-core.h.html#DeviceClass::props" title='DeviceClass::props' data-ref="DeviceClass::props">props</a> = <a class="tu ref" href="#vmxnet3_properties" title='vmxnet3_properties' data-use='r' data-ref="vmxnet3_properties">vmxnet3_properties</a>;</td></tr>
<tr><th id="2644">2644</th><td>    <a class="ref" href="../../include/qemu/bitops.h.html#set_bit" title='set_bit' data-ref="set_bit">set_bit</a>(<a class="enum" href="../../include/hw/qdev-core.h.html#DeviceCategory::DEVICE_CATEGORY_NETWORK" title='DeviceCategory::DEVICE_CATEGORY_NETWORK' data-ref="DeviceCategory::DEVICE_CATEGORY_NETWORK">DEVICE_CATEGORY_NETWORK</a>, <a class="local col8 ref" href="#408dc" title='dc' data-ref="408dc">dc</a>-&gt;<a class="ref" href="../../include/hw/qdev-core.h.html#100" title='DeviceClass::categories' data-ref="DeviceClass::categories">categories</a>);</td></tr>
<tr><th id="2645">2645</th><td>}</td></tr>
<tr><th id="2646">2646</th><td></td></tr>
<tr><th id="2647">2647</th><td><em>static</em> <em>const</em> <a class="typedef" href="../../include/qom/object.h.html#TypeInfo" title='TypeInfo' data-type='struct TypeInfo' data-ref="TypeInfo">TypeInfo</a> <dfn class="tu decl def" id="vmxnet3_info" title='vmxnet3_info' data-type='const TypeInfo' data-ref="vmxnet3_info">vmxnet3_info</dfn> = {</td></tr>
<tr><th id="2648">2648</th><td>    .<a class="ref" href="../../include/qom/object.h.html#TypeInfo::name" title='TypeInfo::name' data-ref="TypeInfo::name">name</a>          = <a class="macro" href="#134" title="&quot;vmxnet3&quot;" data-ref="_M/TYPE_VMXNET3">TYPE_VMXNET3</a>,</td></tr>
<tr><th id="2649">2649</th><td>    .<a class="ref" href="../../include/qom/object.h.html#TypeInfo::parent" title='TypeInfo::parent' data-ref="TypeInfo::parent">parent</a>        = <a class="macro" href="../../include/hw/pci/pci.h.html#190" title="&quot;pci-device&quot;" data-ref="_M/TYPE_PCI_DEVICE">TYPE_PCI_DEVICE</a>,</td></tr>
<tr><th id="2650">2650</th><td>    .<a class="ref" href="../../include/qom/object.h.html#TypeInfo::class_size" title='TypeInfo::class_size' data-ref="TypeInfo::class_size">class_size</a>    = <b>sizeof</b>(<a class="typedef" href="#VMXNET3Class" title='VMXNET3Class' data-type='struct VMXNET3Class' data-ref="VMXNET3Class">VMXNET3Class</a>),</td></tr>
<tr><th id="2651">2651</th><td>    .<a class="ref" href="../../include/qom/object.h.html#TypeInfo::instance_size" title='TypeInfo::instance_size' data-ref="TypeInfo::instance_size">instance_size</a> = <b>sizeof</b>(<a class="typedef" href="#VMXNET3State" title='VMXNET3State' data-type='struct VMXNET3State' data-ref="VMXNET3State">VMXNET3State</a>),</td></tr>
<tr><th id="2652">2652</th><td>    .<a class="ref" href="../../include/qom/object.h.html#TypeInfo::class_init" title='TypeInfo::class_init' data-ref="TypeInfo::class_init">class_init</a>    = <a class="tu ref" href="#vmxnet3_class_init" title='vmxnet3_class_init' data-ref="vmxnet3_class_init">vmxnet3_class_init</a>,</td></tr>
<tr><th id="2653">2653</th><td>    .<a class="ref" href="../../include/qom/object.h.html#TypeInfo::instance_init" title='TypeInfo::instance_init' data-ref="TypeInfo::instance_init">instance_init</a> = <a class="tu ref" href="#vmxnet3_instance_init" title='vmxnet3_instance_init' data-ref="vmxnet3_instance_init">vmxnet3_instance_init</a>,</td></tr>
<tr><th id="2654">2654</th><td>};</td></tr>
<tr><th id="2655">2655</th><td></td></tr>
<tr><th id="2656">2656</th><td><em>static</em> <em>void</em> <dfn class="tu decl def" id="vmxnet3_register_types" title='vmxnet3_register_types' data-type='void vmxnet3_register_types()' data-ref="vmxnet3_register_types">vmxnet3_register_types</dfn>(<em>void</em>)</td></tr>
<tr><th id="2657">2657</th><td>{</td></tr>
<tr><th id="2658">2658</th><td>    <a class="macro" href="vmxnet_debug.h.html#89" title="do { if (0) { printf(&quot;[%s][CB][%s]: &quot; &quot;vmxnet3_register_types called...&quot; &quot;\n&quot;, &quot;vmxnet3&quot;, __func__); } } while (0)" data-ref="_M/VMW_CBPRN">VMW_CBPRN</a>(<q>"vmxnet3_register_types called..."</q>);</td></tr>
<tr><th id="2659">2659</th><td>    <a class="ref" href="../../include/qom/object.h.html#type_register_static" title='type_register_static' data-ref="type_register_static">type_register_static</a>(&amp;<a class="tu ref" href="#vmxnet3_info" title='vmxnet3_info' data-use='a' data-ref="vmxnet3_info">vmxnet3_info</a>);</td></tr>
<tr><th id="2660">2660</th><td>}</td></tr>
<tr><th id="2661">2661</th><td></td></tr>
<tr><th id="2662">2662</th><td><a class="macro" href="../../include/qemu/module.h.html#52" title="static void __attribute__((constructor)) do_qemu_init_vmxnet3_register_types(void) { register_module_init(vmxnet3_register_types, MODULE_INIT_QOM); }" data-ref="_M/type_init">type_init</a>(<a class="tu ref" href="#vmxnet3_register_types" title='vmxnet3_register_types' data-use='r' data-ref="vmxnet3_register_types">vmxnet3_register_types</a>)</td></tr>
<tr><th id="2663">2663</th><td></td></tr>
</table><hr/><p id='footer'>
Generated on <em>2017-Aug-28</em> from project codebrowser revision <em>v2.10.0-rc0-7-g6be37cc</em><br />Powered by <a href='https://woboq.com'><img alt='Woboq' src='https://code.woboq.org/woboq-16.png' width='41' height='16' /></a> <a href='https://code.woboq.org'>Code Browser</a> 2.1
<br/>Generator usage only permitted with license.</p>
</div></body></html>
